{"file_contents":{"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","size_bytes":325},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"replit.md":{"content":"# replit.md\n\n## Overview\n\nFairDealHub 2.0 is a modern affiliate discounts platform that connects users with verified coupon codes and exclusive deals from top brands. The application features a futuristic dark theme with neon accents, comprehensive product discovery, robust admin management capabilities, and an advanced personalized deal recommendation engine. Built as a full-stack web application, it provides both public-facing deal browsing, administrative tools for content management, and AI-driven personalized shopping experiences.\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## System Architecture\n\n### Frontend Architecture\n- **Framework**: React with TypeScript using Vite as the build tool\n- **Routing**: Wouter for client-side routing with authentication-based conditional rendering\n- **State Management**: TanStack Query (React Query) for server state management\n- **UI Framework**: shadcn/ui components built on Radix UI primitives with Tailwind CSS\n- **Styling**: Custom CSS variables with dark theme, glassmorphism effects, and neon accent colors\n- **Typography**: Space Grotesk for headings, Inter for body text\n\n### Backend Architecture\n- **Runtime**: Node.js with Express.js server\n- **API Structure**: RESTful endpoints with Express routes organized by feature\n- **Development Setup**: Vite middleware integration for hot reloading in development\n- **Build Process**: ESBuild for production server bundling, Vite for client assets\n\n### Authentication System\n- **Provider**: Replit Auth integration with OpenID Connect\n- **Session Management**: Express sessions with PostgreSQL session store\n- **Authorization**: Role-based access control (admin, editor, viewer)\n- **Security**: HTTP-only cookies, CSRF protection, secure session configuration\n\n### Database Design\n- **ORM**: Drizzle ORM with PostgreSQL dialect\n- **Provider**: Neon Database (serverless PostgreSQL)\n- **Schema**: Structured tables for users, categories, merchants, products, coupons, subscribers, and clickout tracking\n- **Relationships**: Foreign key relationships between entities with proper indexing\n- **Migrations**: Drizzle Kit for schema management and database migrations\n\n### Data Architecture\n- **Products**: Comprehensive product catalog with pricing, ratings, and categorization\n- **Merchants**: Brand information with logos and affiliate tracking\n- **Categories**: Hierarchical category system with icon support\n- **Coupons**: Coupon code management with verification status and expiration tracking\n- **Analytics**: Click tracking and conversion monitoring for affiliate links\n\n### Personalization Engine\n- **User Preferences**: Category preferences, merchant preferences, price ranges, discount thresholds\n- **Behavioral Tracking**: User interaction history with products, merchants, and coupons\n- **Recommendation Generation**: AI-powered algorithm generating personalized deal suggestions\n- **Recommendation Scoring**: Relevance scoring system with reason categorization\n- **Saved Deals**: User favorites and bookmarking system with personal notes\n\n### Content Management\n- **Admin Interface**: Comprehensive dashboard with sidebar navigation and real-time statistics\n- **AI Content Generation**: Automated product discovery and import system with daily auto-updates\n- **Smart Deal Detection**: AI-powered system that generates products with best deals and working codes\n- **Verification**: Manual and automated coupon code verification processes\n- **User Management**: Role-based user administration and subscriber management\n- **Auto-Scheduler**: Daily automated product generation and deal updates\n\n### Performance Optimization\n- **Query Optimization**: Efficient database queries with proper indexing and relationships\n- **Caching Strategy**: React Query for client-side caching with configurable stale times\n- **Image Handling**: Cloudinary integration for optimized image delivery and management\n- **Code Splitting**: Vite-based bundle optimization with lazy loading capabilities\n\n### Error Handling\n- **Client-side**: Toast notifications for user feedback and error display\n- **Server-side**: Structured error responses with proper HTTP status codes\n- **Logging**: Request/response logging with duration tracking\n- **Monitoring**: Error tracking preparation with Sentry integration points\n\n## External Dependencies\n\n### Database and Storage\n- **Neon Database**: Serverless PostgreSQL for primary data storage\n- **Cloudinary**: Image hosting and optimization service for product images and assets\n\n### Authentication Services\n- **Replit Auth**: OpenID Connect authentication provider for user management\n- **Session Storage**: PostgreSQL-based session persistence with connect-pg-simple\n\n### UI and Component Libraries\n- **Radix UI**: Headless component primitives for accessible UI elements\n- **Tailwind CSS**: Utility-first CSS framework for styling and responsive design\n- **Lucide React**: Icon library for consistent iconography throughout the application\n\n### Development and Build Tools\n- **Vite**: Fast build tool and development server with HMR support\n- **ESBuild**: High-performance JavaScript bundler for production builds\n- **TypeScript**: Type safety across frontend and backend code\n\n### Email and Communication\n- **Resend**: Email service for transactional emails and newsletter functionality\n- **React Email**: Component-based email template system\n\n### Affiliate Network Integrations\n- **Commission Junction (CJ)**: Primary affiliate network for major brand partnerships\n- **Impact.com**: Secondary network for flexible tracking and enterprise retailers\n- **Awin & ShareASale**: Combined coverage for global reach and SMB market depth\n- **Rakuten Advertising**: Enterprise retailer partnerships with global reach\n\n### Analytics and Tracking\n- **First-party Analytics**: Custom event tracking for user interactions and conversions\n- **Affiliate Conversion Tracking**: Integration with affiliate network conversion APIs\n- **Performance Monitoring**: Application performance tracking and error reporting setup","size_bytes":6072},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \"var(--radius)\",\n        md: \"calc(var(--radius) - 2px)\",\n        sm: \"calc(var(--radius) - 4px)\",\n      },\n      colors: {\n        background: \"var(--background)\",\n        foreground: \"var(--foreground)\",\n        card: {\n          DEFAULT: \"var(--card)\",\n          foreground: \"var(--card-foreground)\",\n        },\n        popover: {\n          DEFAULT: \"var(--popover)\",\n          foreground: \"var(--popover-foreground)\",\n        },\n        primary: {\n          DEFAULT: \"var(--primary)\",\n          foreground: \"var(--primary-foreground)\",\n        },\n        secondary: {\n          DEFAULT: \"var(--secondary)\",\n          foreground: \"var(--secondary-foreground)\",\n        },\n        muted: {\n          DEFAULT: \"var(--muted)\",\n          foreground: \"var(--muted-foreground)\",\n        },\n        accent: {\n          DEFAULT: \"var(--accent)\",\n          foreground: \"var(--accent-foreground)\",\n        },\n        destructive: {\n          DEFAULT: \"var(--destructive)\",\n          foreground: \"var(--destructive-foreground)\",\n        },\n        border: \"var(--border)\",\n        input: \"var(--input)\",\n        ring: \"var(--ring)\",\n        chart: {\n          \"1\": \"var(--chart-1)\",\n          \"2\": \"var(--chart-2)\",\n          \"3\": \"var(--chart-3)\",\n          \"4\": \"var(--chart-4)\",\n          \"5\": \"var(--chart-5)\",\n        },\n        sidebar: {\n          DEFAULT: \"var(--sidebar)\",\n          foreground: \"var(--sidebar-foreground)\",\n          primary: \"var(--sidebar-primary)\",\n          \"primary-foreground\": \"var(--sidebar-primary-foreground)\",\n          accent: \"var(--sidebar-accent)\",\n          \"accent-foreground\": \"var(--sidebar-accent-foreground)\",\n          border: \"var(--sidebar-border)\",\n          ring: \"var(--sidebar-ring)\",\n        },\n        \"dark-navy\": \"var(--dark-navy)\",\n        \"neon-mint\": \"var(--neon-mint)\",\n        \"neon-purple\": \"var(--neon-purple)\",\n        \"neon-pink\": \"var(--neon-pink)\",\n        \"success\": \"var(--success)\",\n        \"warning\": \"var(--warning)\",\n      },\n      fontFamily: {\n        sans: [\"var(--font-sans)\"],\n        space: [\"var(--font-space)\"],\n        mono: [\"var(--font-mono)\"],\n      },\n      backdropBlur: {\n        xs: '2px',\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: {\n            height: \"0\",\n          },\n          to: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n        },\n        \"accordion-up\": {\n          from: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n          to: {\n            height: \"0\",\n          },\n        },\n        \"fade-in\": {\n          \"0%\": {\n            opacity: \"0\",\n            transform: \"translateY(10px)\",\n          },\n          \"100%\": {\n            opacity: \"1\",\n            transform: \"translateY(0)\",\n          },\n        },\n        \"slide-up\": {\n          \"0%\": {\n            transform: \"translateY(100%)\",\n          },\n          \"100%\": {\n            transform: \"translateY(0)\",\n          },\n        },\n        \"glow\": {\n          \"0%, 100%\": {\n            boxShadow: \"0 0 20px rgba(56, 248, 179, 0.3)\",\n          },\n          \"50%\": {\n            boxShadow: \"0 0 30px rgba(56, 248, 179, 0.6)\",\n          },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n        \"fade-in\": \"fade-in 0.3s ease-out\",\n        \"slide-up\": \"slide-up 0.3s ease-out\",\n        \"glow\": \"glow 2s ease-in-out infinite\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","size_bytes":3812},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","size_bytes":971},"server/db.ts":{"content":"import { Pool, neonConfig } from '@neondatabase/serverless';\nimport { drizzle } from 'drizzle-orm/neon-serverless';\nimport ws from \"ws\";\nimport * as schema from \"@shared/schema\";\n\nneonConfig.webSocketConstructor = ws;\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\n    \"DATABASE_URL must be set. Did you forget to provision a database?\",\n  );\n}\n\nexport const pool = new Pool({ connectionString: process.env.DATABASE_URL });\nexport const db = drizzle({ client: pool, schema });","size_bytes":482},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\n\nconst app = express();\napp.use(express.json());\napp.use(express.urlencoded({ extended: false }));\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"â€¦\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  const server = await registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // ALWAYS serve the app on the port specified in the environment variable PORT\n  // Other ports are firewalled. Default to 5000 if not specified.\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = parseInt(process.env.PORT || '5000', 10);\n  server.listen({\n    port,\n    host: \"0.0.0.0\",\n    reusePort: true,\n  }, () => {\n    log(`serving on port ${port}`);\n  });\n})();\n","size_bytes":2066},"server/replitAuth.ts":{"content":"import * as client from \"openid-client\";\nimport { Strategy, type VerifyFunction } from \"openid-client/passport\";\n\nimport passport from \"passport\";\nimport session from \"express-session\";\nimport type { Express, RequestHandler } from \"express\";\nimport memoize from \"memoizee\";\nimport connectPg from \"connect-pg-simple\";\nimport { storage } from \"./storage\";\n\nif (!process.env.REPLIT_DOMAINS) {\n  throw new Error(\"Environment variable REPLIT_DOMAINS not provided\");\n}\n\nconst getOidcConfig = memoize(\n  async () => {\n    return await client.discovery(\n      new URL(process.env.ISSUER_URL ?? \"https://replit.com/oidc\"),\n      process.env.REPL_ID!\n    );\n  },\n  { maxAge: 3600 * 1000 }\n);\n\nexport function getSession() {\n  const sessionTtl = 7 * 24 * 60 * 60 * 1000; // 1 week\n  const pgStore = connectPg(session);\n  const sessionStore = new pgStore({\n    conString: process.env.DATABASE_URL,\n    createTableIfMissing: false,\n    ttl: sessionTtl,\n    tableName: \"sessions\",\n  });\n  return session({\n    secret: process.env.SESSION_SECRET!,\n    store: sessionStore,\n    resave: false,\n    saveUninitialized: false,\n    cookie: {\n      httpOnly: true,\n      secure: true,\n      maxAge: sessionTtl,\n    },\n  });\n}\n\nfunction updateUserSession(\n  user: any,\n  tokens: client.TokenEndpointResponse & client.TokenEndpointResponseHelpers\n) {\n  user.claims = tokens.claims();\n  user.access_token = tokens.access_token;\n  user.refresh_token = tokens.refresh_token;\n  user.expires_at = user.claims?.exp;\n}\n\nasync function upsertUser(\n  claims: any,\n) {\n  await storage.upsertUser({\n    id: claims[\"sub\"],\n    email: claims[\"email\"],\n    firstName: claims[\"first_name\"],\n    lastName: claims[\"last_name\"],\n    profileImageUrl: claims[\"profile_image_url\"],\n  });\n}\n\nexport async function setupAuth(app: Express) {\n  app.set(\"trust proxy\", 1);\n  app.use(getSession());\n  app.use(passport.initialize());\n  app.use(passport.session());\n\n  const config = await getOidcConfig();\n\n  const verify: VerifyFunction = async (\n    tokens: client.TokenEndpointResponse & client.TokenEndpointResponseHelpers,\n    verified: passport.AuthenticateCallback\n  ) => {\n    const user = {};\n    updateUserSession(user, tokens);\n    await upsertUser(tokens.claims());\n    verified(null, user);\n  };\n\n  for (const domain of process.env\n    .REPLIT_DOMAINS!.split(\",\")) {\n    const strategy = new Strategy(\n      {\n        name: `replitauth:${domain}`,\n        config,\n        scope: \"openid email profile offline_access\",\n        callbackURL: `https://${domain}/api/callback`,\n      },\n      verify,\n    );\n    passport.use(strategy);\n  }\n\n  passport.serializeUser((user: Express.User, cb) => cb(null, user));\n  passport.deserializeUser((user: Express.User, cb) => cb(null, user));\n\n  app.get(\"/api/login\", (req, res, next) => {\n    passport.authenticate(`replitauth:${req.hostname}`, {\n      prompt: \"login consent\",\n      scope: [\"openid\", \"email\", \"profile\", \"offline_access\"],\n    })(req, res, next);\n  });\n\n  app.get(\"/api/callback\", (req, res, next) => {\n    passport.authenticate(`replitauth:${req.hostname}`, {\n      successReturnToOrRedirect: \"/\",\n      failureRedirect: \"/api/login\",\n    })(req, res, next);\n  });\n\n  app.get(\"/api/logout\", (req, res) => {\n    req.logout(() => {\n      res.redirect(\n        client.buildEndSessionUrl(config, {\n          client_id: process.env.REPL_ID!,\n          post_logout_redirect_uri: `${req.protocol}://${req.hostname}`,\n        }).href\n      );\n    });\n  });\n}\n\nexport const isAuthenticated: RequestHandler = async (req, res, next) => {\n  const user = req.user as any;\n\n  if (!req.isAuthenticated() || !user.expires_at) {\n    return res.status(401).json({ message: \"Unauthorized\" });\n  }\n\n  const now = Math.floor(Date.now() / 1000);\n  if (now <= user.expires_at) {\n    return next();\n  }\n\n  const refreshToken = user.refresh_token;\n  if (!refreshToken) {\n    res.status(401).json({ message: \"Unauthorized\" });\n    return;\n  }\n\n  try {\n    const config = await getOidcConfig();\n    const tokenResponse = await client.refreshTokenGrant(config, refreshToken);\n    updateUserSession(user, tokenResponse);\n    return next();\n  } catch (error) {\n    res.status(401).json({ message: \"Unauthorized\" });\n    return;\n  }\n};\n","size_bytes":4221},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { storage } from \"./storage\";\nimport { setupAuth, isAuthenticated } from \"./replitAuth\";\nimport { \n  insertCategorySchema,\n  insertMerchantSchema,\n  insertProductSchema,\n  insertCouponSchema,\n  insertSubscriberSchema,\n  insertClickoutSchema\n} from \"@shared/schema\";\nimport { z } from \"zod\";\n\n// AI-powered product generator function\nasync function runProductGenerator() {\n  const stats = {\n    productsGenerated: 0,\n    codesVerified: 0,\n    dealsUpdated: 0,\n    categoriesProcessed: 0\n  };\n\n  try {\n    // Get existing categories and merchants\n    const categories = await storage.getCategories();\n    const merchants = await storage.getMerchants();\n    \n    // Generate products for each category\n    for (const category of categories.slice(0, 6)) { // Process top 6 categories\n      const categoryProducts = await generateProductsForCategory(category, merchants);\n      \n      for (const productData of categoryProducts) {\n        try {\n          // Create or update product with AI-generated deal information\n          const product = await storage.createProduct({\n            title: productData.name,\n            description: productData.description,\n            priceCents: productData.price * 100,\n            originalPriceCents: productData.originalPrice * 100,\n            imageUrl: productData.imageUrl,\n            affiliateUrl: productData.affiliateUrl,\n            categoryId: category.id,\n            merchantId: productData.merchantId,\n            rating: parseFloat(productData.rating),\n            featured: productData.featured,\n            skuOrAsin: `GEN-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`\n          });\n\n          // Create associated coupon if discount available\n          if (productData.couponCode) {\n            await storage.createCoupon({\n              code: productData.couponCode,\n              description: `${productData.discount}% off ${productData.name}`,\n              discountType: 'percent',\n              discountValue: productData.discount,\n              productId: product.id,\n              merchantId: productData.merchantId,\n              expiresAt: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000), // 30 days\n              isActive: true,\n              isVerified: true\n            });\n            stats.codesVerified++;\n          }\n\n          stats.productsGenerated++;\n        } catch (error) {\n          console.error(`Error creating product: ${productData.name}`, error);\n        }\n      }\n      \n      stats.categoriesProcessed++;\n      stats.dealsUpdated += categoryProducts.length;\n    }\n\n    // Update existing products with fresh deals\n    await updateExistingDeals();\n    \n  } catch (error) {\n    console.error(\"Error in product generator:\", error);\n    throw error;\n  }\n\n  return stats;\n}\n\n// Generate AI-powered product data for a category\nasync function generateProductsForCategory(category: any, merchants: any[]) {\n  const productTemplates = getProductTemplatesForCategory(category.name);\n  const generatedProducts = [];\n\n  for (const template of productTemplates) {\n    const randomMerchant = merchants[Math.floor(Math.random() * merchants.length)];\n    const discount = Math.floor(Math.random() * 60) + 10; // 10-70% discount\n    const originalPrice = template.basePrice;\n    const price = Math.round(originalPrice * (100 - discount) / 100);\n    \n    const product = {\n      name: template.name,\n      description: template.description,\n      price: price,\n      originalPrice: originalPrice,\n      imageUrl: template.imageUrl,\n      affiliateUrl: `${randomMerchant.affiliateUrl}?product=${encodeURIComponent(template.name)}`,\n      merchantId: randomMerchant.id,\n      rating: (Math.random() * 2 + 3).toFixed(1), // 3.0-5.0 rating\n      featured: Math.random() > 0.7, // 30% chance of being featured\n      couponCode: Math.random() > 0.6 ? generateCouponCode() : null, // 40% chance of coupon\n      discount: discount\n    };\n\n    generatedProducts.push(product);\n  }\n\n  return generatedProducts;\n}\n\n// Get product templates based on category\nfunction getProductTemplatesForCategory(categoryName: string) {\n  const templates = {\n    'Electronics': [\n      {\n        name: 'Sony WH-1000XM5 Wireless Noise Canceling Headphones',\n        description: 'Industry-leading noise canceling with Dual Noise Sensor technology',\n        basePrice: 399,\n        imageUrl: 'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?auto=format&fit=crop&w=800&h=600'\n      },\n      {\n        name: 'Apple MacBook Air M2 Chip 13-inch',\n        description: 'Supercharged by M2 chip for incredible performance',\n        basePrice: 1199,\n        imageUrl: 'https://images.unsplash.com/photo-1496181133206-80ce9b88a853?auto=format&fit=crop&w=800&h=600'\n      },\n      {\n        name: 'Samsung 65\" 4K Smart TV',\n        description: '4K Ultra HD Smart TV with HDR and built-in streaming',\n        basePrice: 899,\n        imageUrl: 'https://images.unsplash.com/photo-1593359677879-a4bb92f829d1?auto=format&fit=crop&w=800&h=600'\n      }\n    ],\n    'Fashion': [\n      {\n        name: 'Nike Air Max 270 Running Shoes',\n        description: 'Comfortable running shoes with Max Air unit for all-day comfort',\n        basePrice: 150,\n        imageUrl: 'https://images.unsplash.com/photo-1549298916-b41d501d3772?auto=format&fit=crop&w=800&h=600'\n      },\n      {\n        name: 'Levi\\'s 501 Original Fit Jeans',\n        description: 'Classic straight leg jeans with iconic styling',\n        basePrice: 89,\n        imageUrl: 'https://images.unsplash.com/photo-1542272604-787c3835535d?auto=format&fit=crop&w=800&h=600'\n      },\n      {\n        name: 'Adidas Ultraboost 22 Sneakers',\n        description: 'Premium running shoes with Boost midsole technology',\n        basePrice: 180,\n        imageUrl: 'https://images.unsplash.com/photo-1606107557195-0e29a4b5b4aa?auto=format&fit=crop&w=800&h=600'\n      }\n    ],\n    'Home': [\n      {\n        name: 'Dyson V15 Detect Cordless Vacuum',\n        description: 'Powerful cordless vacuum with laser dust detection',\n        basePrice: 749,\n        imageUrl: 'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?auto=format&fit=crop&w=800&h=600'\n      },\n      {\n        name: 'KitchenAid Stand Mixer 5-Qt',\n        description: 'Professional-grade stand mixer for all your baking needs',\n        basePrice: 379,\n        imageUrl: 'https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?auto=format&fit=crop&w=800&h=600'\n      }\n    ],\n    'Sports': [\n      {\n        name: 'Bowflex SelectTech 552 Dumbbells',\n        description: 'Adjustable dumbbells that replace 15 sets of weights',\n        basePrice: 349,\n        imageUrl: 'https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?auto=format&fit=crop&w=800&h=600'\n      }\n    ],\n    'Beauty': [\n      {\n        name: 'Fenty Beauty Pro Filt\\'r Foundation',\n        description: 'Long-wear foundation with buildable coverage',\n        basePrice: 36,\n        imageUrl: 'https://images.unsplash.com/photo-1596462502278-27bfdc403348?auto=format&fit=crop&w=800&h=600'\n      }\n    ]\n  };\n\n  return templates[categoryName as keyof typeof templates] || templates['Electronics'];\n}\n\n// Generate random coupon codes\nfunction generateCouponCode() {\n  const prefixes = ['SAVE', 'DEAL', 'DISCOUNT', 'SPECIAL', 'LIMITED'];\n  const suffix = Math.floor(Math.random() * 90) + 10; // 10-99\n  const prefix = prefixes[Math.floor(Math.random() * prefixes.length)];\n  return `${prefix}${suffix}`;\n}\n\n// Update existing products with fresh deals\nasync function updateExistingDeals() {\n  try {\n    // This would implement logic to refresh existing product prices and deals\n    // For now, we'll just log that it's happening\n    console.log(\"Updating existing deals with fresh data...\");\n  } catch (error) {\n    console.error(\"Error updating existing deals:\", error);\n  }\n}\n\n// Auto-run generator daily\nlet generatorInterval: NodeJS.Timeout | null = null;\n\nfunction startAutoGenerator() {\n  // Run generator every 24 hours (86400000 ms)\n  generatorInterval = setInterval(async () => {\n    try {\n      console.log(\"Auto-running AI product generator...\");\n      const result = await runProductGenerator();\n      console.log(\"Auto-generator completed:\", result);\n    } catch (error) {\n      console.error(\"Auto-generator failed:\", error);\n    }\n  }, 24 * 60 * 60 * 1000); // 24 hours\n\n  console.log(\"AI product generator auto-scheduler started - runs daily\");\n}\n\nfunction stopAutoGenerator() {\n  if (generatorInterval) {\n    clearInterval(generatorInterval);\n    generatorInterval = null;\n    console.log(\"AI product generator auto-scheduler stopped\");\n  }\n}\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  // Auth middleware\n  await setupAuth(app);\n  \n  // Setup admin authentication\n  const { setupAdminAuth, requireAdminAuth, requireCSRF, logAuditAction } = await import('./adminAuth');\n  setupAdminAuth(app);\n\n  // Auth routes\n  app.get('/api/auth/user', isAuthenticated, async (req: any, res) => {\n    try {\n      const userId = req.user.claims.sub;\n      const user = await storage.getUser(userId);\n      res.json(user);\n    } catch (error) {\n      console.error(\"Error fetching user:\", error);\n      res.status(500).json({ message: \"Failed to fetch user\" });\n    }\n  });\n\n  // Public API routes\n  \n  // Categories\n  app.get('/api/categories', async (req, res) => {\n    try {\n      const categories = await storage.getCategories();\n      res.json(categories);\n    } catch (error) {\n      console.error(\"Error fetching categories:\", error);\n      res.status(500).json({ message: \"Failed to fetch categories\" });\n    }\n  });\n\n  app.get('/api/categories/:slug', async (req, res) => {\n    try {\n      const category = await storage.getCategoryBySlug(req.params.slug);\n      if (!category) {\n        return res.status(404).json({ message: \"Category not found\" });\n      }\n      res.json(category);\n    } catch (error) {\n      console.error(\"Error fetching category:\", error);\n      res.status(500).json({ message: \"Failed to fetch category\" });\n    }\n  });\n\n  // Merchants\n  app.get('/api/merchants', async (req, res) => {\n    try {\n      const limit = req.query.limit ? parseInt(req.query.limit as string) : undefined;\n      const merchants = await storage.getMerchants(limit);\n      res.json(merchants);\n    } catch (error) {\n      console.error(\"Error fetching merchants:\", error);\n      res.status(500).json({ message: \"Failed to fetch merchants\" });\n    }\n  });\n\n  app.get('/api/merchants/:slug', async (req, res) => {\n    try {\n      const merchant = await storage.getMerchantBySlug(req.params.slug);\n      if (!merchant) {\n        return res.status(404).json({ message: \"Merchant not found\" });\n      }\n      res.json(merchant);\n    } catch (error) {\n      console.error(\"Error fetching merchant:\", error);\n      res.status(500).json({ message: \"Failed to fetch merchant\" });\n    }\n  });\n\n  // Products\n  app.get('/api/products', async (req, res) => {\n    try {\n      const options = {\n        categoryId: req.query.categoryId as string,\n        merchantId: req.query.merchantId as string,\n        search: req.query.search as string,\n        limit: req.query.limit ? parseInt(req.query.limit as string) : undefined,\n        offset: req.query.offset ? parseInt(req.query.offset as string) : undefined,\n        sort: req.query.sort as 'latest' | 'popular' | 'rating',\n      };\n\n      // Remove undefined values\n      Object.keys(options).forEach(key => {\n        if (options[key as keyof typeof options] === undefined) {\n          delete options[key as keyof typeof options];\n        }\n      });\n\n      const result = await storage.getProducts(options);\n      res.json(result);\n    } catch (error) {\n      console.error(\"Error fetching products:\", error);\n      res.status(500).json({ message: \"Failed to fetch products\" });\n    }\n  });\n\n  app.get('/api/products/top-deals', async (req, res) => {\n    try {\n      const limit = req.query.limit ? parseInt(req.query.limit as string) : undefined;\n      const products = await storage.getTopDeals(limit);\n      res.json(products);\n    } catch (error) {\n      console.error(\"Error fetching top deals:\", error);\n      res.status(500).json({ message: \"Failed to fetch top deals\" });\n    }\n  });\n\n  app.get('/api/products/random-specials', async (req, res) => {\n    try {\n      const limit = req.query.limit ? parseInt(req.query.limit as string) : undefined;\n      const products = await storage.getRandomSpecials(limit);\n      res.json(products);\n    } catch (error) {\n      console.error(\"Error fetching random specials:\", error);\n      res.status(500).json({ message: \"Failed to fetch random specials\" });\n    }\n  });\n\n  app.get('/api/products/:id', async (req, res) => {\n    try {\n      const product = await storage.getProductById(req.params.id);\n      if (!product) {\n        return res.status(404).json({ message: \"Product not found\" });\n      }\n      res.json(product);\n    } catch (error) {\n      console.error(\"Error fetching product:\", error);\n      res.status(500).json({ message: \"Failed to fetch product\" });\n    }\n  });\n\n  // Coupons\n  app.get('/api/coupons', async (req, res) => {\n    try {\n      const options = {\n        merchantId: req.query.merchantId as string,\n        productId: req.query.productId as string,\n        verified: req.query.verified === 'true' ? true : req.query.verified === 'false' ? false : undefined,\n        limit: req.query.limit ? parseInt(req.query.limit as string) : undefined,\n      };\n\n      // Remove undefined values\n      Object.keys(options).forEach(key => {\n        if (options[key as keyof typeof options] === undefined) {\n          delete options[key as keyof typeof options];\n        }\n      });\n\n      const coupons = await storage.getCoupons(options);\n      res.json(coupons);\n    } catch (error) {\n      console.error(\"Error fetching coupons:\", error);\n      res.status(500).json({ message: \"Failed to fetch coupons\" });\n    }\n  });\n\n  // Newsletter subscription\n  app.post('/api/newsletter/subscribe', async (req, res) => {\n    try {\n      const validatedData = insertSubscriberSchema.parse(req.body);\n      const subscriber = await storage.createSubscriber(validatedData);\n      res.json({ message: \"Successfully subscribed to newsletter\", subscriber });\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({ message: \"Invalid data\", errors: error.errors });\n      }\n      console.error(\"Error creating subscriber:\", error);\n      res.status(500).json({ message: \"Failed to subscribe to newsletter\" });\n    }\n  });\n\n  // Clickout tracking\n  app.post('/api/clickout', async (req, res) => {\n    try {\n      const validatedData = insertClickoutSchema.parse(req.body);\n      const clickout = await storage.createClickout(validatedData);\n      \n      // Generate affiliate URL (simplified for MVP)\n      const affiliateUrl = `https://example-affiliate-network.com/click?id=${clickout.id}`;\n      \n      res.json({ \n        message: \"Clickout tracked successfully\", \n        affiliateUrl,\n        clickoutId: clickout.id \n      });\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({ message: \"Invalid data\", errors: error.errors });\n      }\n      console.error(\"Error tracking clickout:\", error);\n      res.status(500).json({ message: \"Failed to track clickout\" });\n    }\n  });\n\n  // Search\n  app.get('/api/search', async (req, res) => {\n    try {\n      const query = req.query.q as string;\n      if (!query || query.length < 2) {\n        return res.json({ products: [], merchants: [] });\n      }\n\n      const limit = req.query.limit ? parseInt(req.query.limit as string) : 10;\n\n      const [products, merchants] = await Promise.all([\n        storage.searchProducts(query, limit),\n        storage.searchMerchants(query, limit)\n      ]);\n\n      res.json({ products, merchants });\n    } catch (error) {\n      console.error(\"Error performing search:\", error);\n      res.status(500).json({ message: \"Search failed\" });\n    }\n  });\n\n  // Analytics\n  app.get('/api/analytics/stats', async (req, res) => {\n    try {\n      const days = req.query.days ? parseInt(req.query.days as string) : 7;\n      const stats = await storage.getClickoutStats(days);\n      res.json(stats);\n    } catch (error) {\n      console.error(\"Error fetching analytics stats:\", error);\n      res.status(500).json({ message: \"Failed to fetch analytics\" });\n    }\n  });\n\n  // Personalization & Recommendations Routes (Protected)\n  app.get('/api/user/preferences', isAuthenticated, async (req: any, res) => {\n    try {\n      const userId = req.user?.claims?.sub;\n      const preferences = await storage.getUserPreferences(userId);\n      res.json(preferences || {});\n    } catch (error) {\n      console.error(\"Error fetching user preferences:\", error);\n      res.status(500).json({ message: \"Failed to fetch preferences\" });\n    }\n  });\n\n  app.put('/api/user/preferences', isAuthenticated, async (req: any, res) => {\n    try {\n      const userId = req.user?.claims?.sub;\n      const preferencesData = { ...req.body, userId };\n      const preferences = await storage.upsertUserPreferences(preferencesData);\n      res.json(preferences);\n    } catch (error) {\n      console.error(\"Error updating user preferences:\", error);\n      res.status(500).json({ message: \"Failed to update preferences\" });\n    }\n  });\n\n  // User Interactions Tracking\n  app.post('/api/user/interactions', isAuthenticated, async (req: any, res) => {\n    try {\n      const userId = req.user?.claims?.sub;\n      const interactionData = { ...req.body, userId };\n      const interaction = await storage.createUserInteraction(interactionData);\n      res.json(interaction);\n    } catch (error) {\n      console.error(\"Error creating user interaction:\", error);\n      res.status(500).json({ message: \"Failed to track interaction\" });\n    }\n  });\n\n  // Get User Recommendations\n  app.get('/api/user/recommendations', isAuthenticated, async (req: any, res) => {\n    try {\n      const userId = req.user?.claims?.sub;\n      const entityType = req.query.entityType as string;\n      const limit = req.query.limit ? parseInt(req.query.limit as string) : 20;\n      const onlyNew = req.query.onlyNew === 'true';\n\n      let recommendations = await storage.getUserRecommendations(userId, {\n        entityType,\n        limit,\n        onlyNew\n      });\n\n      // If no recommendations exist, generate them\n      if (recommendations.length === 0) {\n        recommendations = await storage.generateRecommendations(userId);\n      }\n\n      res.json(recommendations);\n    } catch (error) {\n      console.error(\"Error fetching user recommendations:\", error);\n      res.status(500).json({ message: \"Failed to fetch recommendations\" });\n    }\n  });\n\n  // Generate Fresh Recommendations\n  app.post('/api/user/recommendations/generate', isAuthenticated, async (req: any, res) => {\n    try {\n      const userId = req.user?.claims?.sub;\n      const recommendations = await storage.generateRecommendations(userId);\n      res.json(recommendations);\n    } catch (error) {\n      console.error(\"Error generating recommendations:\", error);\n      res.status(500).json({ message: \"Failed to generate recommendations\" });\n    }\n  });\n\n  // Mark Recommendation as Viewed/Clicked\n  app.patch('/api/user/recommendations/:id/viewed', isAuthenticated, async (req: any, res) => {\n    try {\n      const userId = req.user?.claims?.sub;\n      const recommendationId = req.params.id;\n      await storage.markRecommendationViewed(userId, recommendationId);\n      res.json({ message: \"Recommendation marked as viewed\" });\n    } catch (error) {\n      console.error(\"Error marking recommendation as viewed:\", error);\n      res.status(500).json({ message: \"Failed to update recommendation\" });\n    }\n  });\n\n  app.patch('/api/user/recommendations/:id/clicked', isAuthenticated, async (req: any, res) => {\n    try {\n      const userId = req.user?.claims?.sub;\n      const recommendationId = req.params.id;\n      await storage.markRecommendationClicked(userId, recommendationId);\n      res.json({ message: \"Recommendation marked as clicked\" });\n    } catch (error) {\n      console.error(\"Error marking recommendation as clicked:\", error);\n      res.status(500).json({ message: \"Failed to update recommendation\" });\n    }\n  });\n\n  // Saved Deals\n  app.get('/api/user/saved-deals', isAuthenticated, async (req: any, res) => {\n    try {\n      const userId = req.user?.claims?.sub;\n      const entityType = req.query.entityType as string;\n      const savedDeals = await storage.getUserSavedDeals(userId, entityType);\n      res.json(savedDeals);\n    } catch (error) {\n      console.error(\"Error fetching saved deals:\", error);\n      res.status(500).json({ message: \"Failed to fetch saved deals\" });\n    }\n  });\n\n  app.post('/api/user/saved-deals', isAuthenticated, async (req: any, res) => {\n    try {\n      const userId = req.user?.claims?.sub;\n      const savedDealData = { ...req.body, userId };\n      const savedDeal = await storage.saveUserDeal(savedDealData);\n      res.json(savedDeal);\n    } catch (error) {\n      console.error(\"Error saving deal:\", error);\n      res.status(500).json({ message: \"Failed to save deal\" });\n    }\n  });\n\n  app.delete('/api/user/saved-deals/:entityType/:entityId', isAuthenticated, async (req: any, res) => {\n    try {\n      const userId = req.user?.claims?.sub;\n      const { entityType, entityId } = req.params;\n      await storage.removeUserSavedDeal(userId, entityType, entityId);\n      res.json({ message: \"Deal removed from saved list\" });\n    } catch (error) {\n      console.error(\"Error removing saved deal:\", error);\n      res.status(500).json({ message: \"Failed to remove saved deal\" });\n    }\n  });\n\n  app.get('/api/user/saved-deals/:entityType/:entityId/status', isAuthenticated, async (req: any, res) => {\n    try {\n      const userId = req.user?.claims?.sub;\n      const { entityType, entityId } = req.params;\n      const isSaved = await storage.isUserDealSaved(userId, entityType, entityId);\n      res.json({ isSaved });\n    } catch (error) {\n      console.error(\"Error checking saved deal status:\", error);\n      res.status(500).json({ message: \"Failed to check saved deal status\" });\n    }\n  });\n\n  // Use admin auth functions imported above\n  const requireAdmin = requireAdminAuth;\n  const logAction = logAuditAction;\n\n  // Admin - Categories  \n  app.post('/api/admin/categories', requireAdmin, requireCSRF, async (req, res) => {\n    try {\n      const validatedData = insertCategorySchema.parse(req.body);\n      const category = await storage.createCategory(validatedData);\n      res.json(category);\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({ message: \"Invalid data\", errors: error.errors });\n      }\n      console.error(\"Error creating category:\", error);\n      res.status(500).json({ message: \"Failed to create category\" });\n    }\n  });\n\n  // Admin - Merchants\n  app.post('/api/admin/merchants', requireAdmin, requireCSRF, async (req, res) => {\n    try {\n      const validatedData = insertMerchantSchema.parse(req.body);\n      const merchant = await storage.createMerchant(validatedData);\n      res.json(merchant);\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({ message: \"Invalid data\", errors: error.errors });\n      }\n      console.error(\"Error creating merchant:\", error);\n      res.status(500).json({ message: \"Failed to create merchant\" });\n    }\n  });\n\n  // Admin - Products\n  app.post('/api/admin/products', requireAdmin, requireCSRF, async (req, res) => {\n    try {\n      const validatedData = insertProductSchema.parse(req.body);\n      const product = await storage.createProduct(validatedData);\n      res.json(product);\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({ message: \"Invalid data\", errors: error.errors });\n      }\n      console.error(\"Error creating product:\", error);\n      res.status(500).json({ message: \"Failed to create product\" });\n    }\n  });\n\n  app.put('/api/admin/products/:id', requireAdmin, requireCSRF, async (req, res) => {\n    try {\n      const validatedData = insertProductSchema.partial().parse(req.body);\n      const product = await storage.updateProduct(req.params.id, validatedData);\n      res.json(product);\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({ message: \"Invalid data\", errors: error.errors });\n      }\n      console.error(\"Error updating product:\", error);\n      res.status(500).json({ message: \"Failed to update product\" });\n    }\n  });\n\n  // Admin - Coupons\n  app.post('/api/admin/coupons', requireAdmin, requireCSRF, async (req, res) => {\n    try {\n      const validatedData = insertCouponSchema.parse(req.body);\n      const coupon = await storage.createCoupon(validatedData);\n      res.json(coupon);\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({ message: \"Invalid data\", errors: error.errors });\n      }\n      console.error(\"Error creating coupon:\", error);\n      res.status(500).json({ message: \"Failed to create coupon\" });\n    }\n  });\n\n  app.put('/api/admin/coupons/:id', requireAdmin, requireCSRF, async (req, res) => {\n    try {\n      const validatedData = insertCouponSchema.partial().parse(req.body);\n      const coupon = await storage.updateCoupon(req.params.id, validatedData);\n      res.json(coupon);\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({ message: \"Invalid data\", errors: error.errors });\n      }\n      console.error(\"Error updating coupon:\", error);\n      res.status(500).json({ message: \"Failed to update coupon\" });\n    }\n  });\n\n  // Admin - Newsletter subscribers\n  app.get('/api/admin/subscribers', requireAdmin, async (req, res) => {\n    try {\n      const subscribers = await storage.getSubscribers();\n      res.json(subscribers);\n    } catch (error) {\n      console.error(\"Error fetching subscribers:\", error);\n      res.status(500).json({ message: \"Failed to fetch subscribers\" });\n    }\n  });\n\n  // Admin - Product generator trigger\n  app.post('/api/admin/generator/run', requireAdmin, requireCSRF, async (req, res) => {\n    try {\n      // Run the AI-powered product generator\n      const result = await runProductGenerator();\n      res.json({ \n        message: \"AI Product generator completed successfully\",\n        status: \"completed\",\n        timestamp: new Date().toISOString(),\n        stats: result\n      });\n    } catch (error) {\n      console.error(\"Error running product generator:\", error);\n      res.status(500).json({ message: \"Failed to run product generator\" });\n    }\n  });\n\n  // Admin - Auto-generator controls\n  app.post('/api/admin/generator/start-auto', requireAdmin, requireCSRF, async (req, res) => {\n    try {\n      startAutoGenerator();\n      res.json({ \n        message: \"Auto-generator started successfully\",\n        status: \"running\",\n        interval: \"daily\"\n      });\n    } catch (error) {\n      console.error(\"Error starting auto-generator:\", error);\n      res.status(500).json({ message: \"Failed to start auto-generator\" });\n    }\n  });\n\n  app.post('/api/admin/generator/stop-auto', requireAdmin, requireCSRF, async (req, res) => {\n    try {\n      stopAutoGenerator();\n      res.json({ \n        message: \"Auto-generator stopped successfully\",\n        status: \"stopped\"\n      });\n    } catch (error) {\n      console.error(\"Error stopping auto-generator:\", error);\n      res.status(500).json({ message: \"Failed to stop auto-generator\" });\n    }\n  });\n\n  const httpServer = createServer(app);\n  \n  // Start the AI product generator auto-scheduler\n  startAutoGenerator();\n  \n  return httpServer;\n}\n","size_bytes":27821},"server/storage.ts":{"content":"import {\n  users,\n  categories,\n  merchants,\n  products,\n  coupons,\n  subscribers,\n  clickouts,\n  pageViews,\n  conversionEvents,\n  analyticsMetrics,\n  productCategories,\n  userPreferences,\n  userInteractions,\n  userRecommendations,\n  userSavedDeals,\n  type User,\n  type UpsertUser,\n  type Category,\n  type InsertCategory,\n  type Merchant,\n  type InsertMerchant,\n  type Product,\n  type InsertProduct,\n  type Coupon,\n  type InsertCoupon,\n  type Subscriber,\n  type InsertSubscriber,\n  type Clickout,\n  type InsertClickout,\n  type PageView,\n  type InsertPageView,\n  type ConversionEvent,\n  type InsertConversionEvent,\n  type AnalyticsMetrics,\n  type InsertAnalyticsMetrics,\n  type UserPreferences,\n  type InsertUserPreferences,\n  type UserInteraction,\n  type InsertUserInteraction,\n  type UserRecommendation,\n  type InsertUserRecommendation,\n  type UserSavedDeal,\n  type InsertUserSavedDeal,\n} from \"@shared/schema\";\nimport { db } from \"./db\";\nimport { eq, desc, sql, and, or, ilike, count, asc } from \"drizzle-orm\";\n\nexport interface IStorage {\n  // User operations (required for Replit Auth)\n  getUser(id: string): Promise<User | undefined>;\n  upsertUser(user: UpsertUser): Promise<User>;\n  \n  // Categories\n  getCategories(): Promise<Category[]>;\n  getCategoryBySlug(slug: string): Promise<Category | undefined>;\n  createCategory(category: InsertCategory): Promise<Category>;\n  \n  // Merchants\n  getMerchants(limit?: number): Promise<Merchant[]>;\n  getMerchantBySlug(slug: string): Promise<Merchant | undefined>;\n  createMerchant(merchant: InsertMerchant): Promise<Merchant>;\n  \n  // Products\n  getProducts(options?: {\n    categoryId?: string;\n    merchantId?: string;\n    search?: string;\n    limit?: number;\n    offset?: number;\n    sort?: 'latest' | 'popular' | 'rating';\n  }): Promise<{ products: Product[]; total: number }>;\n  getProductById(id: string): Promise<Product | undefined>;\n  createProduct(product: InsertProduct): Promise<Product>;\n  updateProduct(id: string, updates: Partial<InsertProduct>): Promise<Product>;\n  getTopDeals(limit?: number): Promise<Product[]>;\n  getRandomSpecials(limit?: number): Promise<Product[]>;\n  \n  // Coupons\n  getCoupons(options?: {\n    merchantId?: string;\n    productId?: string;\n    verified?: boolean;\n    limit?: number;\n  }): Promise<Coupon[]>;\n  getCouponByCode(code: string): Promise<Coupon | undefined>;\n  createCoupon(coupon: InsertCoupon): Promise<Coupon>;\n  updateCoupon(id: string, updates: Partial<InsertCoupon>): Promise<Coupon>;\n  \n  // Newsletter\n  createSubscriber(subscriber: InsertSubscriber): Promise<Subscriber>;\n  getSubscribers(): Promise<Subscriber[]>;\n  \n  // Analytics\n  createClickout(clickout: InsertClickout): Promise<Clickout>;\n  getClickoutStats(days?: number): Promise<{ clicks: number; merchants: number; popular: any[] }>;\n  \n  // Search\n  searchProducts(query: string, limit?: number): Promise<Product[]>;\n  searchMerchants(query: string, limit?: number): Promise<Merchant[]>;\n\n  // User Preferences\n  getUserPreferences(userId: string): Promise<UserPreferences | undefined>;\n  upsertUserPreferences(preferences: InsertUserPreferences): Promise<UserPreferences>;\n\n  // User Interactions\n  createUserInteraction(interaction: InsertUserInteraction): Promise<UserInteraction>;\n  getUserInteractions(userId: string, options?: {\n    entityType?: string;\n    limit?: number;\n    days?: number;\n  }): Promise<UserInteraction[]>;\n\n  // User Recommendations\n  generateRecommendations(userId: string): Promise<UserRecommendation[]>;\n  getUserRecommendations(userId: string, options?: {\n    entityType?: string;\n    limit?: number;\n    onlyNew?: boolean;\n  }): Promise<UserRecommendation[]>;\n  markRecommendationViewed(userId: string, recommendationId: string): Promise<void>;\n  markRecommendationClicked(userId: string, recommendationId: string): Promise<void>;\n\n  // Saved Deals\n  saveUserDeal(savedDeal: InsertUserSavedDeal): Promise<UserSavedDeal>;\n  getUserSavedDeals(userId: string, entityType?: string): Promise<UserSavedDeal[]>;\n  removeUserSavedDeal(userId: string, entityType: string, entityId: string): Promise<void>;\n  isUserDealSaved(userId: string, entityType: string, entityId: string): Promise<boolean>;\n\n  // Advanced Analytics\n  recordPageView(pageView: InsertPageView): Promise<PageView>;\n  recordConversionEvent(conversion: InsertConversionEvent): Promise<ConversionEvent>;\n  updateClickoutConversion(clickoutId: string, conversionData: Partial<Clickout>): Promise<Clickout>;\n  \n  // Analytics queries\n  getAnalyticsClickouts(filters?: any, limit?: number, offset?: number): Promise<{ clickouts: Clickout[], total: number }>;\n  getPageViews(filters?: any, limit?: number, offset?: number): Promise<{ pageViews: PageView[], total: number }>;\n  getConversionEvents(filters?: any, limit?: number, offset?: number): Promise<{ conversions: ConversionEvent[], total: number }>;\n  \n  // Analytics metrics\n  getAnalyticsMetrics(date: string, period: string): Promise<AnalyticsMetrics | undefined>;\n  upsertAnalyticsMetrics(metrics: InsertAnalyticsMetrics): Promise<AnalyticsMetrics>;\n  getDashboardStats(days: number): Promise<any>;\n  getTopPerformers(period: string, limit?: number): Promise<any>;\n  getRevenueReport(startDate: string, endDate: string): Promise<any>;\n\n  // Advanced Analytics and tracking\n  recordPageView(pageView: InsertPageView): Promise<PageView>;\n  recordConversionEvent(conversion: InsertConversionEvent): Promise<ConversionEvent>;\n  updateClickoutConversion(clickoutId: string, conversionData: Partial<Clickout>): Promise<Clickout>;\n  \n  // Analytics queries\n  getPageViews(filters?: any, limit?: number, offset?: number): Promise<{ pageViews: PageView[], total: number }>;\n  getConversionEvents(filters?: any, limit?: number, offset?: number): Promise<{ conversions: ConversionEvent[], total: number }>;\n  \n  // Analytics metrics\n  getAnalyticsMetrics(date: string, period: string): Promise<AnalyticsMetrics | undefined>;\n  upsertAnalyticsMetrics(metrics: InsertAnalyticsMetrics): Promise<AnalyticsMetrics>;\n  getDashboardStats(days: number): Promise<any>;\n  getTopPerformers(period: string, limit?: number): Promise<any>;\n  getRevenueReport(startDate: string, endDate: string): Promise<any>;\n}\n\nexport class DatabaseStorage implements IStorage {\n  // User operations (required for Replit Auth)\n  async getUser(id: string): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.id, id));\n    return user;\n  }\n\n  async upsertUser(userData: UpsertUser): Promise<User> {\n    const [user] = await db\n      .insert(users)\n      .values(userData)\n      .onConflictDoUpdate({\n        target: users.id,\n        set: {\n          ...userData,\n          updatedAt: new Date(),\n        },\n      })\n      .returning();\n    return user;\n  }\n\n  // Categories\n  async getCategories(): Promise<Category[]> {\n    return await db.select().from(categories).orderBy(asc(categories.name));\n  }\n\n  async getCategoryBySlug(slug: string): Promise<Category | undefined> {\n    const [category] = await db.select().from(categories).where(eq(categories.slug, slug));\n    return category;\n  }\n\n  async createCategory(category: InsertCategory): Promise<Category> {\n    const [newCategory] = await db.insert(categories).values(category).returning();\n    return newCategory;\n  }\n\n  // Merchants\n  async getMerchants(limit = 50): Promise<Merchant[]> {\n    return await db.select().from(merchants).limit(limit).orderBy(asc(merchants.name));\n  }\n\n  async getMerchantBySlug(slug: string): Promise<Merchant | undefined> {\n    const [merchant] = await db.select().from(merchants).where(eq(merchants.slug, slug));\n    return merchant;\n  }\n\n  async createMerchant(merchant: InsertMerchant): Promise<Merchant> {\n    const [newMerchant] = await db.insert(merchants).values(merchant).returning();\n    return newMerchant;\n  }\n\n  // Products\n  async getProducts(options: {\n    categoryId?: string;\n    merchantId?: string;\n    search?: string;\n    limit?: number;\n    offset?: number;\n    sort?: 'latest' | 'popular' | 'rating';\n  } = {}): Promise<{ products: Product[]; total: number }> {\n    const { categoryId, merchantId, search, limit = 20, offset = 0, sort = 'latest' } = options;\n\n    let query = db.select().from(products);\n    let countQuery = db.select({ count: count() }).from(products);\n\n    const conditions = [];\n    \n    if (merchantId) {\n      conditions.push(eq(products.merchantId, merchantId));\n    }\n    \n    if (search) {\n      conditions.push(\n        or(\n          ilike(products.title, `%${search}%`),\n          ilike(products.description, `%${search}%`)\n        )\n      );\n    }\n\n    if (conditions.length > 0) {\n      query = query.where(and(...conditions));\n      countQuery = countQuery.where(and(...conditions));\n    }\n\n    // Add sorting\n    switch (sort) {\n      case 'rating':\n        query = query.orderBy(desc(products.rating));\n        break;\n      case 'popular':\n        // For now, sort by creation date as a proxy for popularity\n        query = query.orderBy(desc(products.createdAt));\n        break;\n      case 'latest':\n      default:\n        query = query.orderBy(desc(products.createdAt));\n        break;\n    }\n\n    const [productsResult, totalResult] = await Promise.all([\n      query.limit(limit).offset(offset),\n      countQuery\n    ]);\n\n    return {\n      products: productsResult,\n      total: totalResult[0].count\n    };\n  }\n\n  async getProductById(id: string): Promise<Product | undefined> {\n    const [product] = await db.select().from(products).where(eq(products.id, id));\n    return product;\n  }\n\n  async createProduct(product: InsertProduct): Promise<Product> {\n    const [newProduct] = await db.insert(products).values(product).returning();\n    return newProduct;\n  }\n\n  async updateProduct(id: string, updates: Partial<InsertProduct>): Promise<Product> {\n    const [updated] = await db\n      .update(products)\n      .set({ ...updates, updatedAt: new Date() })\n      .where(eq(products.id, id))\n      .returning();\n    return updated;\n  }\n\n  async getTopDeals(limit = 12): Promise<Product[]> {\n    return await db\n      .select()\n      .from(products)\n      .where(eq(products.ownedBySite, false))\n      .orderBy(desc(products.rating))\n      .limit(limit);\n  }\n\n  async getRandomSpecials(limit = 8): Promise<Product[]> {\n    return await db\n      .select()\n      .from(products)\n      .orderBy(sql`random()`)\n      .limit(limit);\n  }\n\n  // Coupons\n  async getCoupons(options: {\n    merchantId?: string;\n    productId?: string;\n    verified?: boolean;\n    limit?: number;\n  } = {}): Promise<Coupon[]> {\n    const { merchantId, productId, verified, limit = 50 } = options;\n\n    let query = db.select().from(coupons);\n\n    const conditions = [];\n    \n    if (merchantId) {\n      conditions.push(eq(coupons.merchantId, merchantId));\n    }\n    \n    if (productId) {\n      conditions.push(eq(coupons.productId, productId));\n    }\n    \n    if (verified !== undefined) {\n      conditions.push(eq(coupons.verified, verified));\n    }\n\n    if (conditions.length > 0) {\n      query = query.where(and(...conditions));\n    }\n\n    return await query.orderBy(desc(coupons.createdAt)).limit(limit);\n  }\n\n  async getCouponByCode(code: string): Promise<Coupon | undefined> {\n    const [coupon] = await db.select().from(coupons).where(eq(coupons.code, code));\n    return coupon;\n  }\n\n  async createCoupon(coupon: InsertCoupon): Promise<Coupon> {\n    const [newCoupon] = await db.insert(coupons).values(coupon).returning();\n    return newCoupon;\n  }\n\n  async updateCoupon(id: string, updates: Partial<InsertCoupon>): Promise<Coupon> {\n    const [updated] = await db\n      .update(coupons)\n      .set(updates)\n      .where(eq(coupons.id, id))\n      .returning();\n    return updated;\n  }\n\n  // Newsletter\n  async createSubscriber(subscriber: InsertSubscriber): Promise<Subscriber> {\n    const [newSubscriber] = await db\n      .insert(subscribers)\n      .values(subscriber)\n      .onConflictDoNothing({ target: subscribers.email })\n      .returning();\n    return newSubscriber;\n  }\n\n  async getSubscribers(): Promise<Subscriber[]> {\n    return await db\n      .select()\n      .from(subscribers)\n      .where(eq(subscribers.status, 'active'))\n      .orderBy(desc(subscribers.createdAt));\n  }\n\n  // Analytics\n  async createClickout(clickout: InsertClickout): Promise<Clickout> {\n    const [newClickout] = await db.insert(clickouts).values(clickout).returning();\n    return newClickout;\n  }\n\n  async getClickoutStats(days = 7): Promise<{ clicks: number; merchants: number; popular: any[] }> {\n    const dateThreshold = new Date();\n    dateThreshold.setDate(dateThreshold.getDate() - days);\n\n    const [clicksResult] = await db\n      .select({ count: count() })\n      .from(clickouts)\n      .where(sql`occurred_at >= ${dateThreshold}`);\n\n    const merchantsResult = await db\n      .select({ \n        merchantId: clickouts.merchantId,\n        clicks: count()\n      })\n      .from(clickouts)\n      .where(sql`occurred_at >= ${dateThreshold}`)\n      .groupBy(clickouts.merchantId);\n\n    const popularResult = await db\n      .select({\n        productId: clickouts.productId,\n        clicks: count()\n      })\n      .from(clickouts)\n      .where(sql`occurred_at >= ${dateThreshold}`)\n      .groupBy(clickouts.productId)\n      .orderBy(desc(count()))\n      .limit(10);\n\n    return {\n      clicks: clicksResult.count,\n      merchants: merchantsResult.length,\n      popular: popularResult\n    };\n  }\n\n  // Search\n  async searchProducts(query: string, limit = 10): Promise<Product[]> {\n    return await db\n      .select()\n      .from(products)\n      .where(\n        or(\n          ilike(products.title, `%${query}%`),\n          ilike(products.description, `%${query}%`)\n        )\n      )\n      .orderBy(desc(products.rating))\n      .limit(limit);\n  }\n\n  async searchMerchants(query: string, limit = 10): Promise<Merchant[]> {\n    return await db\n      .select()\n      .from(merchants)\n      .where(ilike(merchants.name, `%${query}%`))\n      .orderBy(asc(merchants.name))\n      .limit(limit);\n  }\n\n  // User Preferences\n  async getUserPreferences(userId: string): Promise<UserPreferences | undefined> {\n    const [preferences] = await db\n      .select()\n      .from(userPreferences)\n      .where(eq(userPreferences.userId, userId));\n    return preferences;\n  }\n\n  async upsertUserPreferences(preferences: InsertUserPreferences): Promise<UserPreferences> {\n    const [result] = await db\n      .insert(userPreferences)\n      .values(preferences)\n      .onConflictDoUpdate({\n        target: userPreferences.userId,\n        set: {\n          ...preferences,\n          updatedAt: new Date(),\n        },\n      })\n      .returning();\n    return result;\n  }\n\n  // User Interactions\n  async createUserInteraction(interaction: InsertUserInteraction): Promise<UserInteraction> {\n    const [result] = await db\n      .insert(userInteractions)\n      .values(interaction)\n      .returning();\n    return result;\n  }\n\n  async getUserInteractions(\n    userId: string,\n    options?: { entityType?: string; limit?: number; days?: number }\n  ): Promise<UserInteraction[]> {\n    const { entityType, limit = 50, days = 30 } = options || {};\n    \n    const conditions = [eq(userInteractions.userId, userId)];\n\n    if (entityType) {\n      conditions.push(eq(userInteractions.entityType, entityType));\n    }\n\n    if (days) {\n      const cutoffDate = new Date();\n      cutoffDate.setDate(cutoffDate.getDate() - days);\n      conditions.push(sql`${userInteractions.occurredAt} >= ${cutoffDate}`);\n    }\n\n    return await db\n      .select()\n      .from(userInteractions)\n      .where(and(...conditions))\n      .orderBy(desc(userInteractions.occurredAt))\n      .limit(limit);\n  }\n\n  // User Recommendations\n  async generateRecommendations(userId: string): Promise<UserRecommendation[]> {\n    // Get user preferences and interaction history\n    const preferences = await this.getUserPreferences(userId);\n    const recentInteractions = await this.getUserInteractions(userId, { limit: 100, days: 30 });\n    \n    const recommendations: Omit<InsertUserRecommendation, 'id' | 'generatedAt'>[] = [];\n\n    // Category-based recommendations\n    if (preferences?.categoryIds && preferences.categoryIds.length > 0) {\n      const categoryProducts = await db\n        .select()\n        .from(products)\n        .innerJoin(productCategories, eq(products.id, productCategories.productId))\n        .where(sql`${productCategories.categoryId} = ANY(${preferences.categoryIds})`)\n        .orderBy(desc(products.rating))\n        .limit(10);\n\n      categoryProducts.forEach(({ products: product }) => {\n        recommendations.push({\n          userId,\n          entityType: 'product',\n          entityId: product.id,\n          score: '0.8000',\n          reasonType: 'preferred_categories',\n          reasons: ['Based on your category preferences'],\n          expiresAt: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000), // 7 days\n        });\n      });\n    }\n\n    // Price-based recommendations\n    if (preferences?.priceRangeMin && preferences?.priceRangeMax) {\n      const priceProducts = await db\n        .select()\n        .from(products)\n        .where(\n          and(\n            sql`${products.priceCents} >= ${preferences.priceRangeMin * 100}`,\n            sql`${products.priceCents} <= ${preferences.priceRangeMax * 100}`\n          )\n        )\n        .orderBy(desc(products.rating))\n        .limit(10);\n\n      priceProducts.forEach(product => {\n        recommendations.push({\n          userId,\n          entityType: 'product',\n          entityId: product.id,\n          score: '0.7000',\n          reasonType: 'price_range',\n          reasons: ['Within your preferred price range'],\n          expiresAt: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000),\n        });\n      });\n    }\n\n    // Trending products (high rating, recent)\n    const trendingProducts = await db\n      .select()\n      .from(products)\n      .where(sql`${products.rating} >= 4.0`)\n      .orderBy(desc(products.createdAt))\n      .limit(5);\n\n    trendingProducts.forEach(product => {\n      recommendations.push({\n        userId,\n        entityType: 'product',\n        entityId: product.id,\n        score: '0.6000',\n        reasonType: 'trending',\n        reasons: ['Trending high-rated product'],\n        expiresAt: new Date(Date.now() + 3 * 24 * 60 * 60 * 1000), // 3 days\n      });\n    });\n\n    // Store recommendations in database\n    if (recommendations.length > 0) {\n      // Remove expired recommendations first\n      await db\n        .delete(userRecommendations)\n        .where(\n          and(\n            eq(userRecommendations.userId, userId),\n            sql`${userRecommendations.expiresAt} < NOW()`\n          )\n        );\n\n      const inserted = await db\n        .insert(userRecommendations)\n        .values(recommendations)\n        .onConflictDoNothing()\n        .returning();\n\n      return inserted;\n    }\n\n    return [];\n  }\n\n  async getUserRecommendations(\n    userId: string,\n    options?: { entityType?: string; limit?: number; onlyNew?: boolean }\n  ): Promise<UserRecommendation[]> {\n    const { entityType, limit = 20, onlyNew = false } = options || {};\n\n    const conditions = [\n      eq(userRecommendations.userId, userId),\n      eq(userRecommendations.isExpired, false)\n    ];\n\n    if (entityType) {\n      conditions.push(eq(userRecommendations.entityType, entityType));\n    }\n\n    if (onlyNew) {\n      conditions.push(eq(userRecommendations.isViewed, false));\n    }\n\n    return await db\n      .select()\n      .from(userRecommendations)\n      .where(and(...conditions))\n      .orderBy(desc(userRecommendations.score), desc(userRecommendations.generatedAt))\n      .limit(limit);\n  }\n\n  async markRecommendationViewed(userId: string, recommendationId: string): Promise<void> {\n    await db\n      .update(userRecommendations)\n      .set({ isViewed: true })\n      .where(\n        and(\n          eq(userRecommendations.id, recommendationId),\n          eq(userRecommendations.userId, userId)\n        )\n      );\n  }\n\n  async markRecommendationClicked(userId: string, recommendationId: string): Promise<void> {\n    await db\n      .update(userRecommendations)\n      .set({ isClicked: true })\n      .where(\n        and(\n          eq(userRecommendations.id, recommendationId),\n          eq(userRecommendations.userId, userId)\n        )\n      );\n  }\n\n  // Saved Deals\n  async saveUserDeal(savedDeal: InsertUserSavedDeal): Promise<UserSavedDeal> {\n    const [result] = await db\n      .insert(userSavedDeals)\n      .values(savedDeal)\n      .onConflictDoNothing()\n      .returning();\n    return result;\n  }\n\n  async getUserSavedDeals(userId: string, entityType?: string): Promise<UserSavedDeal[]> {\n    const conditions = [eq(userSavedDeals.userId, userId)];\n\n    if (entityType) {\n      conditions.push(eq(userSavedDeals.entityType, entityType));\n    }\n\n    return await db\n      .select()\n      .from(userSavedDeals)\n      .where(and(...conditions))\n      .orderBy(desc(userSavedDeals.createdAt));\n  }\n\n  async removeUserSavedDeal(userId: string, entityType: string, entityId: string): Promise<void> {\n    await db\n      .delete(userSavedDeals)\n      .where(\n        and(\n          eq(userSavedDeals.userId, userId),\n          eq(userSavedDeals.entityType, entityType),\n          eq(userSavedDeals.entityId, entityId)\n        )\n      );\n  }\n\n  async isUserDealSaved(userId: string, entityType: string, entityId: string): Promise<boolean> {\n    const [result] = await db\n      .select({ count: count() })\n      .from(userSavedDeals)\n      .where(\n        and(\n          eq(userSavedDeals.userId, userId),\n          eq(userSavedDeals.entityType, entityType),\n          eq(userSavedDeals.entityId, entityId)\n        )\n      );\n    return result.count > 0;\n  }\n}\n\nexport const storage = new DatabaseStorage();\n","size_bytes":21744},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","size_bytes":2263},"shared/schema.ts":{"content":"import { sql } from 'drizzle-orm';\nimport { relations } from 'drizzle-orm';\nimport {\n  index,\n  jsonb,\n  pgTable,\n  timestamp,\n  varchar,\n  text,\n  integer,\n  boolean,\n  decimal,\n  pgEnum,\n  unique,\n} from \"drizzle-orm/pg-core\";\nimport { createInsertSchema, createSelectSchema } from \"drizzle-zod\";\n\n// Session storage table (required for Replit Auth)\nexport const sessions = pgTable(\n  \"sessions\",\n  {\n    sid: varchar(\"sid\").primaryKey(),\n    sess: jsonb(\"sess\").notNull(),\n    expire: timestamp(\"expire\").notNull(),\n  },\n  (table) => [index(\"IDX_session_expire\").on(table.expire)],\n);\n\n// User storage table (required for Replit Auth)\nexport const users = pgTable(\"users\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  email: varchar(\"email\").unique(),\n  firstName: varchar(\"first_name\"),\n  lastName: varchar(\"last_name\"),\n  profileImageUrl: varchar(\"profile_image_url\"),\n  role: varchar(\"role\").default(\"viewer\"), // admin, editor, viewer\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\n// Categories table\nexport const categories = pgTable(\"categories\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  slug: varchar(\"slug\").unique().notNull(),\n  name: varchar(\"name\").notNull(),\n  icon: varchar(\"icon\"),\n  parentId: varchar(\"parent_id\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n}, (table) => [\n  index(\"idx_categories_slug\").on(table.slug),\n  index(\"idx_categories_parent\").on(table.parentId),\n]);\n\n// Merchants table\nexport const merchants = pgTable(\"merchants\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  name: varchar(\"name\").notNull(),\n  slug: varchar(\"slug\").unique().notNull(),\n  domain: varchar(\"domain\").notNull(),\n  logoUrl: varchar(\"logo_url\"),\n  affiliateNetwork: varchar(\"affiliate_network\"),\n  programId: varchar(\"program_id\"),\n  hasAffiliate: boolean(\"has_affiliate\").default(false),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n}, (table) => [\n  index(\"idx_merchants_slug\").on(table.slug),\n  index(\"idx_merchants_domain\").on(table.domain),\n]);\n\n// Products table\nexport const products = pgTable(\"products\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  merchantId: varchar(\"merchant_id\").notNull(),\n  skuOrAsin: varchar(\"sku_or_asin\").notNull(),\n  title: text(\"title\").notNull(),\n  description: text(\"description\"),\n  priceCents: integer(\"price_cents\"),\n  currency: varchar(\"currency\").default(\"USD\"),\n  rating: decimal(\"rating\", { precision: 3, scale: 2 }),\n  reviewCount: integer(\"review_count\"),\n  imageMain: varchar(\"image_main\"),\n  ownedBySite: boolean(\"owned_by_site\").default(false),\n  isLocked: boolean(\"is_locked\").default(false),\n  evergreenLocked: boolean(\"evergreen_locked\").default(false),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n}, (table) => [\n  index(\"idx_products_merchant\").on(table.merchantId),\n  index(\"idx_products_sku\").on(table.merchantId, table.skuOrAsin),\n  index(\"idx_products_created\").on(table.createdAt),\n]);\n\n// Product images table\nexport const productImages = pgTable(\"product_images\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  productId: varchar(\"product_id\").notNull(),\n  url: varchar(\"url\").notNull(),\n  alt: varchar(\"alt\"),\n}, (table) => [\n  index(\"idx_product_images_product\").on(table.productId),\n]);\n\n// Product categories junction table\nexport const productCategories = pgTable(\"product_categories\", {\n  productId: varchar(\"product_id\").notNull(),\n  categoryId: varchar(\"category_id\").notNull(),\n  primary: boolean(\"primary\").default(false),\n}, (table) => [\n  index(\"idx_product_categories\").on(table.productId, table.categoryId),\n]);\n\n// Discount type enum\nexport const discountTypeEnum = pgEnum(\"discount_type\", [\"percent\", \"amount\", \"free_ship\", \"bogo\"]);\n\n// Coupons table\nexport const coupons = pgTable(\"coupons\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  productId: varchar(\"product_id\"),\n  merchantId: varchar(\"merchant_id\").notNull(),\n  code: varchar(\"code\").notNull(),\n  discountType: discountTypeEnum(\"discount_type\").notNull(),\n  value: decimal(\"value\", { precision: 10, scale: 2 }),\n  minSpendCents: integer(\"min_spend_cents\"),\n  startsAt: timestamp(\"starts_at\"),\n  expiresAt: timestamp(\"expires_at\"),\n  verified: boolean(\"verified\").default(false),\n  verificationMethod: varchar(\"verification_method\"),\n  lastCheckedAt: timestamp(\"last_checked_at\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n}, (table) => [\n  index(\"idx_coupons_merchant\").on(table.merchantId),\n  index(\"idx_coupons_product\").on(table.productId),\n  index(\"idx_coupons_code\").on(table.code),\n  index(\"idx_coupons_expires\").on(table.expiresAt),\n]);\n\n// Advanced clickouts table for analytics and conversion tracking\nexport const clickouts = pgTable(\"clickouts\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").references(() => users.id),\n  productId: varchar(\"product_id\").references(() => products.id),\n  merchantId: varchar(\"merchant_id\").references(() => merchants.id),\n  couponId: varchar(\"coupon_id\").references(() => coupons.id),\n  \n  // Tracking data\n  clickType: varchar(\"click_type\").notNull(), // 'product', 'coupon', 'merchant'\n  sourceUrl: varchar(\"source_url\"),\n  targetUrl: varchar(\"target_url\").notNull(),\n  \n  // User data\n  userAgent: varchar(\"user_agent\"),\n  ipAddress: varchar(\"ip_address\"),\n  referrer: varchar(\"referrer\"),\n  \n  // UTM and campaign tracking\n  utmSource: varchar(\"utm_source\"),\n  utmCampaign: varchar(\"utm_campaign\"),\n  subid: varchar(\"subid\"),\n  \n  // Conversion tracking\n  conversionValue: decimal(\"conversion_value\", { precision: 10, scale: 2 }),\n  commissionRate: decimal(\"commission_rate\", { precision: 5, scale: 4 }),\n  estimatedCommission: decimal(\"estimated_commission\", { precision: 10, scale: 2 }),\n  conversionStatus: varchar(\"conversion_status\").default(\"pending\"), // 'pending', 'confirmed', 'rejected'\n  conversionDate: timestamp(\"conversion_date\"),\n  \n  // Analytics metadata\n  sessionId: varchar(\"session_id\"),\n  campaignId: varchar(\"campaign_id\"),\n  \n  occurredAt: timestamp(\"occurred_at\").defaultNow(),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n}, (table) => [\n  index(\"idx_clickouts_occurred\").on(table.occurredAt),\n  index(\"idx_clickouts_merchant\").on(table.merchantId, table.occurredAt),\n  index(\"idx_clickouts_user\").on(table.userId, table.occurredAt),\n  index(\"idx_clickouts_session\").on(table.sessionId),\n]);\n\n// Newsletter subscribers\nexport const subscribers = pgTable(\"subscribers\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  email: varchar(\"email\").unique().notNull(),\n  status: varchar(\"status\").default(\"active\"), // active, unsubscribed, bounced\n  createdAt: timestamp(\"created_at\").defaultNow(),\n}, (table) => [\n  index(\"idx_subscribers_email\").on(table.email),\n  index(\"idx_subscribers_status\").on(table.status),\n]);\n\n// Feature flags\nexport const featureFlags = pgTable(\"feature_flags\", {\n  key: varchar(\"key\").primaryKey(),\n  enabled: boolean(\"enabled\").default(false),\n  config: jsonb(\"config\"),\n});\n\n// User preferences for personalization\nexport const userPreferences = pgTable(\"user_preferences\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull(),\n  categoryIds: varchar(\"category_ids\").array().default(sql`ARRAY[]::varchar[]`),\n  merchantIds: varchar(\"merchant_ids\").array().default(sql`ARRAY[]::varchar[]`),\n  priceRangeMin: integer(\"price_range_min\"),\n  priceRangeMax: integer(\"price_range_max\"),\n  discountThreshold: integer(\"discount_threshold\").default(10),\n  notificationFrequency: varchar(\"notification_frequency\").default(\"daily\"), // daily, weekly, instant\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n}, (table) => [\n  index(\"idx_user_preferences_user\").on(table.userId),\n]);\n\n// User interactions for behavior tracking\nexport const userInteractions = pgTable(\"user_interactions\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull(),\n  entityType: varchar(\"entity_type\").notNull(), // product, merchant, category, coupon\n  entityId: varchar(\"entity_id\").notNull(),\n  interactionType: varchar(\"interaction_type\").notNull(), // view, click, save, share, purchase\n  duration: integer(\"duration\"), // seconds spent on entity\n  source: varchar(\"source\"), // search, recommendation, category_browse, etc\n  occurredAt: timestamp(\"occurred_at\").defaultNow(),\n}, (table) => [\n  index(\"idx_user_interactions_user\").on(table.userId, table.occurredAt),\n  index(\"idx_user_interactions_entity\").on(table.entityType, table.entityId),\n  index(\"idx_user_interactions_type\").on(table.interactionType),\n]);\n\n// Generated recommendations for users\nexport const userRecommendations = pgTable(\"user_recommendations\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull(),\n  entityType: varchar(\"entity_type\").notNull(), // product, coupon\n  entityId: varchar(\"entity_id\").notNull(),\n  score: decimal(\"score\", { precision: 5, scale: 4 }).notNull(), // 0-1 relevance score\n  reasonType: varchar(\"reason_type\").notNull(), // similar_categories, trending, price_drop, etc\n  reasons: text(\"reasons\").array().default(sql`ARRAY[]::text[]`),\n  isViewed: boolean(\"is_viewed\").default(false),\n  isClicked: boolean(\"is_clicked\").default(false),\n  isExpired: boolean(\"is_expired\").default(false),\n  generatedAt: timestamp(\"generated_at\").defaultNow(),\n  expiresAt: timestamp(\"expires_at\"),\n}, (table) => [\n  index(\"idx_user_recommendations_user\").on(table.userId, table.generatedAt),\n  index(\"idx_user_recommendations_score\").on(table.score),\n  unique(\"idx_user_recommendations_unique\").on(table.userId, table.entityType, table.entityId),\n]);\n\n// Saved deals/favorites\nexport const userSavedDeals = pgTable(\"user_saved_deals\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull(),\n  entityType: varchar(\"entity_type\").notNull(), // product, coupon\n  entityId: varchar(\"entity_id\").notNull(),\n  notes: text(\"notes\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n}, (table) => [\n  index(\"idx_user_saved_deals_user\").on(table.userId, table.createdAt),\n  unique(\"idx_user_saved_deals_unique\").on(table.userId, table.entityType, table.entityId),\n]);\n\n// Relations\nexport const categoriesRelations = relations(categories, ({ one, many }) => ({\n  parent: one(categories, {\n    fields: [categories.parentId],\n    references: [categories.id],\n  }),\n  children: many(categories),\n  productCategories: many(productCategories),\n}));\n\nexport const merchantsRelations = relations(merchants, ({ many }) => ({\n  products: many(products),\n  coupons: many(coupons),\n  clickouts: many(clickouts),\n}));\n\nexport const productsRelations = relations(products, ({ one, many }) => ({\n  merchant: one(merchants, {\n    fields: [products.merchantId],\n    references: [merchants.id],\n  }),\n  images: many(productImages),\n  categories: many(productCategories),\n  coupons: many(coupons),\n  clickouts: many(clickouts),\n}));\n\nexport const productImagesRelations = relations(productImages, ({ one }) => ({\n  product: one(products, {\n    fields: [productImages.productId],\n    references: [products.id],\n  }),\n}));\n\nexport const productCategoriesRelations = relations(productCategories, ({ one }) => ({\n  product: one(products, {\n    fields: [productCategories.productId],\n    references: [products.id],\n  }),\n  category: one(categories, {\n    fields: [productCategories.categoryId],\n    references: [categories.id],\n  }),\n}));\n\nexport const couponsRelations = relations(coupons, ({ one, many }) => ({\n  product: one(products, {\n    fields: [coupons.productId],\n    references: [products.id],\n  }),\n  merchant: one(merchants, {\n    fields: [coupons.merchantId],\n    references: [merchants.id],\n  }),\n  clickouts: many(clickouts),\n}));\n\nexport const clickoutsRelations = relations(clickouts, ({ one }) => ({\n  product: one(products, {\n    fields: [clickouts.productId],\n    references: [products.id],\n  }),\n  merchant: one(merchants, {\n    fields: [clickouts.merchantId],\n    references: [merchants.id],\n  }),\n  coupon: one(coupons, {\n    fields: [clickouts.couponId],\n    references: [coupons.id],\n  }),\n}));\n\nexport const userPreferencesRelations = relations(userPreferences, ({ one }) => ({\n  user: one(users, {\n    fields: [userPreferences.userId],\n    references: [users.id],\n  }),\n}));\n\nexport const userInteractionsRelations = relations(userInteractions, ({ one }) => ({\n  user: one(users, {\n    fields: [userInteractions.userId],\n    references: [users.id],\n  }),\n}));\n\nexport const userRecommendationsRelations = relations(userRecommendations, ({ one }) => ({\n  user: one(users, {\n    fields: [userRecommendations.userId],\n    references: [users.id],\n  }),\n}));\n\nexport const userSavedDealsRelations = relations(userSavedDeals, ({ one }) => ({\n  user: one(users, {\n    fields: [userSavedDeals.userId],\n    references: [users.id],\n  }),\n}));\n\n// Schema types\nexport type UpsertUser = typeof users.$inferInsert;\nexport type User = typeof users.$inferSelect;\n\n\n\nexport const pageViews = pgTable(\"page_views\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").references(() => users.id),\n  \n  // Page data\n  pageUrl: varchar(\"page_url\").notNull(),\n  pageTitle: varchar(\"page_title\"),\n  pageType: varchar(\"page_type\"), // 'home', 'category', 'product', 'merchant'\n  entityId: varchar(\"entity_id\"), // ID of the entity being viewed\n  \n  // Session data\n  sessionId: varchar(\"session_id\").notNull(),\n  userAgent: varchar(\"user_agent\"),\n  ipAddress: varchar(\"ip_address\"),\n  referrer: varchar(\"referrer\"),\n  \n  // Time tracking\n  timeOnPage: integer(\"time_on_page\"), // seconds\n  bounceRate: boolean(\"bounce_rate\").default(false),\n  \n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const conversionEvents = pgTable(\"conversion_events\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  clickoutId: varchar(\"clickout_id\").references(() => clickouts.id).notNull(),\n  \n  // Conversion details\n  eventType: varchar(\"event_type\").notNull(), // 'purchase', 'signup', 'lead'\n  conversionValue: decimal(\"conversion_value\", { precision: 10, scale: 2 }).notNull(),\n  currency: varchar(\"currency\").default(\"USD\"),\n  \n  // Commission details\n  commissionRate: decimal(\"commission_rate\", { precision: 5, scale: 4 }),\n  commissionAmount: decimal(\"commission_amount\", { precision: 10, scale: 2 }),\n  \n  // Merchant data\n  orderId: varchar(\"order_id\"),\n  merchantTransactionId: varchar(\"merchant_transaction_id\"),\n  \n  // Verification\n  verificationStatus: varchar(\"verification_status\").default(\"pending\"), // 'pending', 'verified', 'disputed'\n  verificationDate: timestamp(\"verification_date\"),\n  \n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\nexport const analyticsMetrics = pgTable(\"analytics_metrics\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  \n  // Time period\n  date: varchar(\"date\").notNull(), // YYYY-MM-DD format\n  period: varchar(\"period\").notNull(), // 'daily', 'weekly', 'monthly'\n  \n  // Traffic metrics\n  totalPageViews: integer(\"total_page_views\").default(0),\n  uniqueVisitors: integer(\"unique_visitors\").default(0),\n  totalSessions: integer(\"total_sessions\").default(0),\n  avgSessionDuration: integer(\"avg_session_duration\").default(0),\n  bounceRate: decimal(\"bounce_rate\", { precision: 5, scale: 2 }).default(\"0.00\"),\n  \n  // Conversion metrics\n  totalClickouts: integer(\"total_clickouts\").default(0),\n  totalConversions: integer(\"total_conversions\").default(0),\n  conversionRate: decimal(\"conversion_rate\", { precision: 5, scale: 2 }).default(\"0.00\"),\n  \n  // Revenue metrics\n  totalRevenue: decimal(\"total_revenue\", { precision: 12, scale: 2 }).default(\"0.00\"),\n  totalCommissions: decimal(\"total_commissions\", { precision: 12, scale: 2 }).default(\"0.00\"),\n  avgOrderValue: decimal(\"avg_order_value\", { precision: 10, scale: 2 }).default(\"0.00\"),\n  \n  // Top performing entities\n  topProducts: jsonb(\"top_products\"), // [{ id, name, clicks, conversions, revenue }]\n  topMerchants: jsonb(\"top_merchants\"),\n  topCategories: jsonb(\"top_categories\"),\n  \n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\n// Relations\nexport const clickoutsRelations = relations(clickouts, ({ one }) => ({\n  user: one(users, {\n    fields: [clickouts.userId],\n    references: [users.id],\n  }),\n  product: one(products, {\n    fields: [clickouts.productId],\n    references: [products.id],\n  }),\n  merchant: one(merchants, {\n    fields: [clickouts.merchantId],\n    references: [merchants.id],\n  }),\n  coupon: one(coupons, {\n    fields: [clickouts.couponId],\n    references: [coupons.id],\n  }),\n}));\n\nexport const pageViewsRelations = relations(pageViews, ({ one }) => ({\n  user: one(users, {\n    fields: [pageViews.userId],\n    references: [users.id],\n  }),\n}));\n\nexport const conversionEventsRelations = relations(conversionEvents, ({ one }) => ({\n  clickout: one(clickouts, {\n    fields: [conversionEvents.clickoutId],\n    references: [clickouts.id],\n  }),\n}));\n\n// Insert schemas\nexport const insertClickoutSchema = createInsertSchema(clickouts).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertPageViewSchema = createInsertSchema(pageViews).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertConversionEventSchema = createInsertSchema(conversionEvents).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertAnalyticsMetricsSchema = createInsertSchema(analyticsMetrics).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\n// Types\nexport type Clickout = typeof clickouts.$inferSelect;\nexport type InsertClickout = z.infer<typeof insertClickoutSchema>;\nexport type PageView = typeof pageViews.$inferSelect;\nexport type InsertPageView = z.infer<typeof insertPageViewSchema>;\nexport type ConversionEvent = typeof conversionEvents.$inferSelect;\nexport type InsertConversionEvent = z.infer<typeof insertConversionEventSchema>;\nexport type AnalyticsMetrics = typeof analyticsMetrics.$inferSelect;\nexport type InsertAnalyticsMetrics = z.infer<typeof insertAnalyticsMetricsSchema>;\n\nexport type InsertCategory = typeof categories.$inferInsert;\nexport type Category = typeof categories.$inferSelect;\n\nexport type InsertMerchant = typeof merchants.$inferInsert;\nexport type Merchant = typeof merchants.$inferSelect;\n\nexport type InsertProduct = typeof products.$inferInsert;\nexport type Product = typeof products.$inferSelect;\n\nexport type InsertCoupon = typeof coupons.$inferInsert;\nexport type Coupon = typeof coupons.$inferSelect;\n\nexport type InsertSubscriber = typeof subscribers.$inferInsert;\nexport type Subscriber = typeof subscribers.$inferSelect;\n\nexport type InsertClickout = typeof clickouts.$inferInsert;\nexport type Clickout = typeof clickouts.$inferSelect;\n\nexport type InsertUserPreferences = typeof userPreferences.$inferInsert;\nexport type UserPreferences = typeof userPreferences.$inferSelect;\n\nexport type InsertUserInteraction = typeof userInteractions.$inferInsert;\nexport type UserInteraction = typeof userInteractions.$inferSelect;\n\nexport type InsertUserRecommendation = typeof userRecommendations.$inferInsert;\nexport type UserRecommendation = typeof userRecommendations.$inferSelect;\n\nexport type InsertUserSavedDeal = typeof userSavedDeals.$inferInsert;\nexport type UserSavedDeal = typeof userSavedDeals.$inferSelect;\n\n// Insert schemas for validation\nexport const insertCategorySchema = createInsertSchema(categories).omit({ id: true, createdAt: true });\nexport const insertMerchantSchema = createInsertSchema(merchants).omit({ id: true, createdAt: true });\nexport const insertProductSchema = createInsertSchema(products).omit({ id: true, createdAt: true, updatedAt: true });\nexport const insertCouponSchema = createInsertSchema(coupons).omit({ id: true, createdAt: true });\nexport const insertSubscriberSchema = createInsertSchema(subscribers).omit({ id: true, createdAt: true });\nexport const insertClickoutSchema = createInsertSchema(clickouts).omit({ id: true, occurredAt: true });\n\nexport const insertUserPreferencesSchema = createInsertSchema(userPreferences).omit({ id: true, updatedAt: true });\nexport const insertUserInteractionSchema = createInsertSchema(userInteractions).omit({ id: true, occurredAt: true });\nexport const insertUserRecommendationSchema = createInsertSchema(userRecommendations).omit({ id: true, generatedAt: true });\nexport const insertUserSavedDealSchema = createInsertSchema(userSavedDeals).omit({ id: true, createdAt: true });\n","size_bytes":20889},"client/src/App.tsx":{"content":"import { Switch, Route } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport NotFound from \"@/pages/not-found\";\nimport Landing from \"@/pages/landing\";\nimport Home from \"@/pages/home\";\nimport Category from \"@/pages/category\";\nimport Merchant from \"@/pages/merchant\";\nimport Product from \"@/pages/product\";\nimport About from \"@/pages/about\";\nimport AdminSecure from \"@/pages/admin-secure\";\nimport Contact from \"@/pages/contact\";\nimport Privacy from \"@/pages/privacy\";\nimport Terms from \"@/pages/terms\";\nimport AffiliateDisclosure from \"@/pages/affiliate-disclosure\";\n\nfunction Router() {\n  const { isAuthenticated, isLoading } = useAuth();\n\n  return (\n    <Switch>\n      {isLoading || !isAuthenticated ? (\n        <>\n          <Route path=\"/\" component={Landing} />\n          <Route path=\"/about\" component={About} />\n          <Route path=\"/contact\" component={Contact} />\n          <Route path=\"/privacy\" component={Privacy} />\n          <Route path=\"/terms\" component={Terms} />\n          <Route path=\"/affiliate-disclosure\" component={AffiliateDisclosure} />\n        </>\n      ) : (\n        <>\n          <Route path=\"/\" component={Home} />\n          <Route path=\"/categories/:slug\" component={Category} />\n          <Route path=\"/merchants/:slug\" component={Merchant} />\n          <Route path=\"/products/:id\" component={Product} />\n          <Route path=\"/about\" component={About} />\n          <Route path=\"/contact\" component={Contact} />\n          <Route path=\"/privacy\" component={Privacy} />\n          <Route path=\"/terms\" component={Terms} />\n          <Route path=\"/affiliate-disclosure\" component={AffiliateDisclosure} />\n        </>\n      )}\n      {/* Admin route accessible regardless of auth status for secure login */}\n      <Route path=\"/admin\" component={AdminSecure} />\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <TooltipProvider>\n        <div className=\"dark\">\n          <Toaster />\n          <Router />\n        </div>\n      </TooltipProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","size_bytes":2346},"client/src/index.css":{"content":"@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap');\n\n@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n:root {\n  --background: hsl(218, 47%, 9%);\n  --foreground: hsl(0, 0%, 95%);\n  --card: hsl(218, 47%, 12%);\n  --card-foreground: hsl(0, 0%, 95%);\n  --popover: hsl(218, 47%, 9%);\n  --popover-foreground: hsl(0, 0%, 95%);\n  --primary: hsl(159, 94%, 60%);\n  --primary-foreground: hsl(218, 47%, 9%);\n  --secondary: hsl(251, 100%, 66%);\n  --secondary-foreground: hsl(218, 47%, 9%);\n  --muted: hsl(218, 47%, 15%);\n  --muted-foreground: hsl(0, 0%, 65%);\n  --accent: hsl(321, 100%, 66%);\n  --accent-foreground: hsl(218, 47%, 9%);\n  --destructive: hsl(0, 62%, 55%);\n  --destructive-foreground: hsl(0, 0%, 95%);\n  --border: hsl(218, 47%, 20%);\n  --input: hsl(218, 47%, 15%);\n  --ring: hsl(159, 94%, 60%);\n  --success: hsl(142, 76%, 48%);\n  --warning: hsl(43, 100%, 64%);\n  --dark-navy: hsl(218, 47%, 9%);\n  --neon-mint: hsl(159, 94%, 60%);\n  --neon-purple: hsl(251, 100%, 66%);\n  --neon-pink: hsl(321, 100%, 66%);\n  --chart-1: hsl(159, 94%, 60%);\n  --chart-2: hsl(251, 100%, 66%);\n  --chart-3: hsl(43, 100%, 64%);\n  --chart-4: hsl(142, 76%, 48%);\n  --chart-5: hsl(321, 100%, 66%);\n  --sidebar: hsl(218, 47%, 12%);\n  --sidebar-foreground: hsl(0, 0%, 95%);\n  --sidebar-primary: hsl(159, 94%, 60%);\n  --sidebar-primary-foreground: hsl(218, 47%, 9%);\n  --sidebar-accent: hsl(218, 47%, 15%);\n  --sidebar-accent-foreground: hsl(159, 94%, 60%);\n  --sidebar-border: hsl(218, 47%, 20%);\n  --sidebar-ring: hsl(159, 94%, 60%);\n  --font-sans: 'Inter', sans-serif;\n  --font-space: 'Space Grotesk', sans-serif;\n  --font-mono: 'JetBrains Mono', monospace;\n  --radius: 0.5rem;\n}\n\n.dark {\n  --background: hsl(218, 47%, 9%);\n  --foreground: hsl(0, 0%, 95%);\n  --card: hsl(218, 47%, 12%);\n  --card-foreground: hsl(0, 0%, 95%);\n  --popover: hsl(218, 47%, 9%);\n  --popover-foreground: hsl(0, 0%, 95%);\n  --primary: hsl(159, 94%, 60%);\n  --primary-foreground: hsl(218, 47%, 9%);\n  --secondary: hsl(251, 100%, 66%);\n  --secondary-foreground: hsl(218, 47%, 9%);\n  --muted: hsl(218, 47%, 15%);\n  --muted-foreground: hsl(0, 0%, 65%);\n  --accent: hsl(321, 100%, 66%);\n  --accent-foreground: hsl(218, 47%, 9%);\n  --destructive: hsl(0, 62%, 55%);\n  --destructive-foreground: hsl(0, 0%, 95%);\n  --border: hsl(218, 47%, 20%);\n  --input: hsl(218, 47%, 15%);\n  --ring: hsl(159, 94%, 60%);\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n  \n  body {\n    @apply bg-dark-navy text-foreground font-sans antialiased;\n    background: linear-gradient(135deg, #0B0F1A 0%, #1A1B3A 100%);\n    min-height: 100vh;\n  }\n\n  h1, h2, h3, h4, h5, h6 {\n    @apply font-space;\n  }\n}\n\n@layer components {\n  .glassmorphism {\n    background: rgba(255, 255, 255, 0.05);\n    backdrop-filter: blur(10px);\n    border: 1px solid rgba(255, 255, 255, 0.1);\n  }\n  \n  .glassmorphism-strong {\n    background: rgba(255, 255, 255, 0.1);\n    backdrop-filter: blur(15px);\n    border: 1px solid rgba(255, 255, 255, 0.2);\n  }\n  \n  .neon-glow {\n    box-shadow: 0 0 20px rgba(56, 248, 179, 0.3);\n  }\n  \n  .neon-glow-purple {\n    box-shadow: 0 0 20px rgba(124, 77, 255, 0.3);\n  }\n  \n  .neon-glow-pink {\n    box-shadow: 0 0 20px rgba(255, 90, 241, 0.3);\n  }\n  \n  .transition-smooth {\n    transition: all 150ms cubic-bezier(0.4, 0.0, 0.2, 1);\n  }\n  \n  .search-dropdown {\n    background: rgba(11, 15, 26, 0.95);\n    backdrop-filter: blur(20px);\n    border: 1px solid rgba(56, 248, 179, 0.2);\n  }\n\n  .admin-sidebar {\n    background: linear-gradient(180deg, rgba(11, 15, 26, 0.9) 0%, rgba(26, 27, 58, 0.9) 100%);\n    backdrop-filter: blur(20px);\n  }\n  \n  .gradient-primary {\n    background: linear-gradient(to right, var(--neon-mint), var(--neon-purple));\n  }\n  \n  .gradient-secondary {\n    background: linear-gradient(to right, var(--neon-purple), var(--neon-pink));\n  }\n  \n  .text-gradient-primary {\n    background: linear-gradient(to right, var(--neon-mint), var(--neon-purple));\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent;\n    background-clip: text;\n  }\n}\n\n@layer utilities {\n  .font-space {\n    font-family: var(--font-space);\n  }\n  \n  .bg-dark-navy {\n    background-color: var(--dark-navy);\n  }\n  \n  .text-neon-mint {\n    color: var(--neon-mint);\n  }\n  \n  .text-neon-purple {\n    color: var(--neon-purple);\n  }\n  \n  .text-neon-pink {\n    color: var(--neon-pink);\n  }\n  \n  .bg-neon-mint {\n    background-color: var(--neon-mint);\n  }\n  \n  .bg-neon-purple {\n    background-color: var(--neon-purple);\n  }\n  \n  .bg-neon-pink {\n    background-color: var(--neon-pink);\n  }\n  \n  .border-neon-mint {\n    border-color: var(--neon-mint);\n  }\n  \n  .border-neon-purple {\n    border-color: var(--neon-purple);\n  }\n  \n  .text-success {\n    color: var(--success);\n  }\n  \n  .bg-success {\n    background-color: var(--success);\n  }\n  \n  .text-warning {\n    color: var(--warning);\n  }\n  \n  .bg-warning {\n    background-color: var(--warning);\n  }\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .transition-smooth {\n    transition: none;\n  }\n}\n","size_bytes":5069},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","size_bytes":157},"client/src/components/AdminDashboard.tsx":{"content":"import { useQuery } from \"@tanstack/react-query\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { \n  BarChart3, \n  TrendingUp, \n  Users, \n  ShoppingCart, \n  Eye, \n  MousePointer,\n  DollarSign,\n  Package,\n  Store,\n  Ticket\n} from \"lucide-react\";\n\nexport default function AdminDashboard() {\n  const { data: analyticsStats = {} } = useQuery({\n    queryKey: [\"/api/analytics/stats?days=7\"],\n  });\n\n  const { data: productsResult = {} } = useQuery({\n    queryKey: [\"/api/products?limit=1\"],\n  });\n\n  const { data: merchants = [] } = useQuery({\n    queryKey: [\"/api/merchants?limit=1000\"],\n  });\n\n  const { data: coupons = [] } = useQuery({\n    queryKey: [\"/api/coupons?limit=1000\"],\n  });\n\n  const { data: subscribers = [] } = useQuery({\n    queryKey: [\"/api/admin/subscribers\"],\n  });\n\n  const stats = {\n    totalProducts: (productsResult as any)?.total || 0,\n    totalMerchants: Array.isArray(merchants) ? merchants.length : 0,\n    totalCoupons: Array.isArray(coupons) ? coupons.length : 0,\n    totalSubscribers: Array.isArray(subscribers) ? subscribers.length : 0,\n    weeklyClicks: (analyticsStats as any)?.clicks || 0,\n    activeMerchants: (analyticsStats as any)?.merchants || 0,\n  };\n\n  const kpiCards = [\n    {\n      title: \"Total Products\",\n      value: stats.totalProducts.toLocaleString(),\n      icon: Package,\n      description: \"Active products in catalog\",\n      color: \"text-neon-mint\",\n      bgColor: \"bg-neon-mint/10\",\n    },\n    {\n      title: \"Total Merchants\",\n      value: stats.totalMerchants.toLocaleString(),\n      icon: Store,\n      description: \"Partner merchants\",\n      color: \"text-neon-purple\",\n      bgColor: \"bg-neon-purple/10\",\n    },\n    {\n      title: \"Active Coupons\",\n      value: stats.totalCoupons.toLocaleString(),\n      icon: Ticket,\n      description: \"Available coupon codes\",\n      color: \"text-neon-pink\",\n      bgColor: \"bg-neon-pink/10\",\n    },\n    {\n      title: \"Newsletter Subscribers\",\n      value: stats.totalSubscribers.toLocaleString(),\n      icon: Users,\n      description: \"Active email subscribers\",\n      color: \"text-success\",\n      bgColor: \"bg-success/10\",\n    },\n    {\n      title: \"Weekly Clicks\",\n      value: stats.weeklyClicks.toLocaleString(),\n      icon: MousePointer,\n      description: \"Clicks in last 7 days\",\n      color: \"text-warning\",\n      bgColor: \"bg-warning/10\",\n    },\n    {\n      title: \"Active Merchants\",\n      value: stats.activeMerchants.toLocaleString(),\n      icon: TrendingUp,\n      description: \"Merchants with clicks\",\n      color: \"text-neon-mint\",\n      bgColor: \"bg-neon-mint/10\",\n    },\n  ];\n\n  return (\n    <div className=\"space-y-8\">\n      {/* KPI Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {kpiCards.map((kpi, index) => (\n          <Card key={index} className=\"glassmorphism border-white/10 hover:bg-white/5 transition-smooth\">\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium text-gray-300\">\n                {kpi.title}\n              </CardTitle>\n              <div className={`p-2 rounded-lg ${kpi.bgColor}`}>\n                <kpi.icon className={`h-4 w-4 ${kpi.color}`} />\n              </div>\n            </CardHeader>\n            <CardContent>\n              <div className={`text-2xl font-space font-bold ${kpi.color} mb-1`}>\n                {kpi.value}\n              </div>\n              <p className=\"text-xs text-gray-400\">\n                {kpi.description}\n              </p>\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n\n      {/* Quick Actions */}\n      <Card className=\"glassmorphism border-white/10\">\n        <CardHeader>\n          <CardTitle className=\"text-white font-space\">Quick Actions</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n            <Button className=\"gradient-primary text-dark-navy font-medium h-12\">\n              <Package className=\"mr-2 h-4 w-4\" />\n              Add Product\n            </Button>\n            <Button \n              variant=\"outline\" \n              className=\"glassmorphism border-white/20 hover:bg-white/10 h-12\"\n            >\n              <Store className=\"mr-2 h-4 w-4\" />\n              Add Merchant\n            </Button>\n            <Button \n              variant=\"outline\" \n              className=\"glassmorphism border-white/20 hover:bg-white/10 h-12\"\n            >\n              <Ticket className=\"mr-2 h-4 w-4\" />\n              Add Coupon\n            </Button>\n            <Button \n              variant=\"outline\" \n              className=\"glassmorphism border-white/20 hover:bg-white/10 h-12\"\n            >\n              <BarChart3 className=\"mr-2 h-4 w-4\" />\n              View Reports\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Recent Activity */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Popular Products */}\n        <Card className=\"glassmorphism border-white/10\">\n          <CardHeader>\n            <CardTitle className=\"text-white font-space\">Popular Products</CardTitle>\n          </CardHeader>\n          <CardContent>\n            {(analyticsStats as any)?.popular?.length > 0 ? (\n              <div className=\"space-y-3\">\n                {(analyticsStats as any).popular.slice(0, 5).map((item: any, index: number) => (\n                  <div key={index} className=\"flex items-center justify-between p-3 glassmorphism rounded-lg\">\n                    <div className=\"flex items-center\">\n                      <div className=\"w-8 h-8 rounded-full bg-neon-mint/20 flex items-center justify-center mr-3\">\n                        <span className=\"text-xs font-bold text-neon-mint\">#{index + 1}</span>\n                      </div>\n                      <div>\n                        <div className=\"text-sm font-medium text-white\">Product {item.productId}</div>\n                        <div className=\"text-xs text-gray-400\">{item.clicks} clicks</div>\n                      </div>\n                    </div>\n                    <Badge className=\"bg-success text-white\">Active</Badge>\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <div className=\"text-center py-8 text-gray-400\">\n                <BarChart3 className=\"h-12 w-12 mx-auto mb-3 opacity-50\" />\n                <p>No analytics data available yet</p>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        {/* System Status */}\n        <Card className=\"glassmorphism border-white/10\">\n          <CardHeader>\n            <CardTitle className=\"text-white font-space\">System Status</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-sm text-gray-300\">Product Generator</span>\n                <Badge className=\"bg-success text-white\">Running</Badge>\n              </div>\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-sm text-gray-300\">Coupon Verification</span>\n                <Badge className=\"bg-neon-mint text-dark-navy\">Active</Badge>\n              </div>\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-sm text-gray-300\">Email Service</span>\n                <Badge className=\"bg-success text-white\">Online</Badge>\n              </div>\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-sm text-gray-300\">Database</span>\n                <Badge className=\"bg-success text-white\">Healthy</Badge>\n              </div>\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-sm text-gray-300\">Last Generator Run</span>\n                <span className=\"text-xs text-gray-400\">2 hours ago</span>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}\n","size_bytes":8252},"client/src/components/AdminSidebar.tsx":{"content":"import { useMutation, useQuery } from \"@tanstack/react-query\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Link, useLocation } from \"wouter\";\nimport { \n  X, \n  Box, \n  Store, \n  Ticket, \n  Tags, \n  Settings as SettingsIcon, \n  Network, \n  BarChart3, \n  FileText, \n  Sliders, \n  Users, \n  Play, \n  RotateCcw \n} from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useAdminRequest } from \"@/hooks/useAdminAuth\";\n\ninterface AdminSidebarProps {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nexport default function AdminSidebar({ isOpen, onClose }: AdminSidebarProps) {\n  const { toast } = useToast();\n  const { adminRequest } = useAdminRequest();\n\n  // Get counts for badges\n  const { data: productsResult } = useQuery({\n    queryKey: [\"/api/products?limit=1\"],\n    enabled: isOpen,\n  });\n\n  const { data: merchants = [] } = useQuery({\n    queryKey: [\"/api/merchants?limit=1000\"],\n    enabled: isOpen,\n  });\n\n  const { data: coupons = [] } = useQuery({\n    queryKey: [\"/api/coupons?limit=1000\"],\n    enabled: isOpen,\n  });\n\n  const runGeneratorMutation = useMutation({\n    mutationFn: async () => {\n      return await adminRequest(\"POST\", \"/api/admin/generator/run\", {});\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Success\",\n        description: \"Product generator started successfully!\",\n      });\n    },\n    onError: () => {\n      toast({\n        title: \"Error\",\n        description: \"Failed to run product generator.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleRunGenerator = () => {\n    runGeneratorMutation.mutate();\n  };\n\n  const productCount = productsResult?.total || 0;\n  const merchantCount = merchants.length || 0;\n  const couponCount = coupons.length || 0;\n\n  return (\n    <div \n      className={`fixed inset-y-0 left-0 z-50 w-80 admin-sidebar transform transition-transform duration-200 ease-in-out ${\n        isOpen ? 'translate-x-0' : '-translate-x-full'\n      }`}\n    >\n      <div className=\"flex flex-col h-full\">\n        {/* Admin Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-white/10\">\n          <h2 className=\"text-xl font-space font-bold text-neon-mint\">Admin Panel</h2>\n          <Button \n            variant=\"ghost\" \n            size=\"sm\"\n            onClick={onClose}\n            className=\"p-2 text-gray-400 hover:text-white transition-smooth\"\n          >\n            <X className=\"h-4 w-4\" />\n          </Button>\n        </div>\n\n        {/* Admin Navigation */}\n        <nav className=\"flex-1 p-6 overflow-y-auto\">\n          <div className=\"space-y-2\">\n            <div className=\"mb-6\">\n              <h3 className=\"text-sm font-semibold text-gray-400 uppercase tracking-wide mb-3\">Content</h3>\n              \n              <Link \n                href=\"/admin\" \n                className=\"flex items-center px-3 py-2 text-gray-300 hover:text-neon-mint hover:bg-white/5 rounded-lg transition-smooth\"\n                onClick={onClose}\n              >\n                <Box className=\"h-4 w-4 mr-3\" />\n                Products\n                <Badge className=\"ml-auto text-xs bg-neon-mint text-dark-navy px-2 py-1 rounded-full\">\n                  {productCount.toLocaleString()}\n                </Badge>\n              </Link>\n              \n              <Link \n                href=\"/merchant\"\n                className=\"flex items-center px-3 py-2 text-gray-300 hover:text-neon-mint hover:bg-white/5 rounded-lg transition-smooth\"\n                onClick={onClose}\n              >\n                <Store className=\"h-4 w-4 mr-3\" />\n                Merchants\n                <Badge className=\"ml-auto text-xs bg-neon-purple text-dark-navy px-2 py-1 rounded-full\">\n                  {merchantCount}\n                </Badge>\n              </Link>\n              \n              <div className=\"flex items-center px-3 py-2 text-gray-600 cursor-not-allowed rounded-lg\">\n                <Ticket className=\"h-4 w-4 mr-3\" />\n                Coupons\n                <Badge className=\"ml-auto text-xs bg-gray-600 text-gray-300 px-2 py-1 rounded-full\">\n                  {couponCount}\n                </Badge>\n              </div>\n              \n              <Link \n                href=\"/category\"\n                className=\"flex items-center px-3 py-2 text-gray-300 hover:text-neon-mint hover:bg-white/5 rounded-lg transition-smooth\"\n                onClick={onClose}\n              >\n                <Tags className=\"h-4 w-4 mr-3\" />\n                Categories\n              </Link>\n            </div>\n\n            <div className=\"mb-6\">\n              <h3 className=\"text-sm font-semibold text-gray-400 uppercase tracking-wide mb-3\">Automation</h3>\n              \n              <div className=\"flex items-center px-3 py-2 text-gray-600 cursor-not-allowed rounded-lg\">\n                <SettingsIcon className=\"h-4 w-4 mr-3\" />\n                Product Generator\n              </div>\n              \n              <div className=\"flex items-center px-3 py-2 text-gray-600 cursor-not-allowed rounded-lg\">\n                <Network className=\"h-4 w-4 mr-3\" />\n                Affiliate Networks\n              </div>\n            </div>\n\n            <div className=\"mb-6\">\n              <h3 className=\"text-sm font-semibold text-gray-400 uppercase tracking-wide mb-3\">Analytics</h3>\n              \n              <div className=\"flex items-center px-3 py-2 text-gray-600 cursor-not-allowed rounded-lg\">\n                <BarChart3 className=\"h-4 w-4 mr-3\" />\n                Dashboard\n              </div>\n              \n              <div className=\"flex items-center px-3 py-2 text-gray-600 cursor-not-allowed rounded-lg\">\n                <FileText className=\"h-4 w-4 mr-3\" />\n                Reports\n              </div>\n            </div>\n\n            <div>\n              <h3 className=\"text-sm font-semibold text-gray-400 uppercase tracking-wide mb-3\">Settings</h3>\n              \n              <div className=\"flex items-center px-3 py-2 text-gray-600 cursor-not-allowed rounded-lg\">\n                <Sliders className=\"h-4 w-4 mr-3\" />\n                Global Settings\n              </div>\n              \n              <div className=\"flex items-center px-3 py-2 text-gray-600 cursor-not-allowed rounded-lg\">\n                <Users className=\"h-4 w-4 mr-3\" />\n                Users & Roles\n              </div>\n            </div>\n          </div>\n        </nav>\n\n        {/* Generator Quick Actions */}\n        <div className=\"p-6 border-t border-white/10\">\n          <h4 className=\"text-sm font-semibold text-gray-400 uppercase tracking-wide mb-3\">Quick Actions</h4>\n          <div className=\"space-y-2\">\n            <Button\n              className=\"w-full gradient-primary text-dark-navy font-medium hover:shadow-lg transition-smooth\"\n              onClick={handleRunGenerator}\n              disabled={runGeneratorMutation.isPending}\n            >\n              <Play className=\"h-4 w-4 mr-2\" />\n              {runGeneratorMutation.isPending ? \"Running...\" : \"Run Generator Now\"}\n            </Button>\n            \n            <Button\n              variant=\"outline\"\n              className=\"w-full glassmorphism text-gray-300 border-white/20 hover:bg-white/10 font-medium transition-smooth\"\n              onClick={() => {\n                // Verify all coupons functionality\n                console.log('Verifying all coupons...');\n                // This would implement coupon verification logic\n              }}\n            >\n              <RotateCcw className=\"h-4 w-4 mr-2\" />\n              Verify Coupons\n            </Button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":7677},"client/src/components/CategoryCard.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { \n  Laptop, \n  Shirt, \n  Home, \n  Dumbbell, \n  Plane, \n  UtensilsCrossed,\n  ShoppingBag,\n  Tag\n} from \"lucide-react\";\nimport { Link } from \"wouter\";\n\ninterface CategoryCardProps {\n  category: {\n    id: string;\n    slug: string;\n    name: string;\n    icon?: string;\n  };\n  dealCount?: number;\n}\n\nconst iconMap: Record<string, any> = {\n  \"laptop\": Laptop,\n  \"electronics\": Laptop,\n  \"shirt\": Shirt,\n  \"fashion\": Shirt,\n  \"clothing\": Shirt,\n  \"home\": Home,\n  \"house\": Home,\n  \"dumbbell\": Dumbbell,\n  \"sports\": Dumbbell,\n  \"fitness\": Dumbbell,\n  \"plane\": Plane,\n  \"travel\": Plane,\n  \"utensils\": UtensilsCrossed,\n  \"food\": UtensilsCrossed,\n  \"restaurant\": UtensilsCrossed,\n  \"bag\": ShoppingBag,\n  \"shopping\": ShoppingBag,\n  \"default\": Tag,\n};\n\nexport default function CategoryCard({ category, dealCount }: CategoryCardProps) {\n  const getIcon = () => {\n    const iconKey = category.icon?.toLowerCase() || category.name.toLowerCase();\n    const IconComponent = iconMap[iconKey] || iconMap.default;\n    return IconComponent;\n  };\n\n  const Icon = getIcon();\n\n  // Generate gradient based on category name for consistency\n  const getGradientClass = (name: string) => {\n    const hash = name.split('').reduce((a, b) => {\n      a = ((a << 5) - a) + b.charCodeAt(0);\n      return a & a;\n    }, 0);\n    \n    const gradients = [\n      \"gradient-primary\", // mint to purple\n      \"gradient-secondary\", // purple to pink\n      \"bg-gradient-to-r from-neon-mint to-neon-pink\",\n      \"bg-gradient-to-r from-neon-purple to-success\",\n      \"bg-gradient-to-r from-neon-pink to-warning\",\n    ];\n    \n    return gradients[Math.abs(hash) % gradients.length];\n  };\n\n  return (\n    <Link href={`/categories/${category.slug}`}>\n      <Card className=\"glassmorphism rounded-xl p-6 text-center hover:bg-white/10 transition-smooth cursor-pointer group border-white/10\">\n        <CardContent className=\"p-0\">\n          <div className={`w-12 h-12 mx-auto mb-3 rounded-full ${getGradientClass(category.name)} flex items-center justify-center group-hover:scale-110 transition-smooth`}>\n            <Icon className=\"text-dark-navy h-6 w-6\" />\n          </div>\n          <h3 className=\"font-space font-medium text-sm group-hover:text-neon-mint transition-smooth\">\n            {category.name}\n          </h3>\n          {dealCount !== undefined && (\n            <p className=\"text-xs text-gray-400 mt-1\">\n              {dealCount.toLocaleString()} deals\n            </p>\n          )}\n        </CardContent>\n      </Card>\n    </Link>\n  );\n}\n","size_bytes":2567},"client/src/components/Footer.tsx":{"content":"import { Bolt, Twitter, Facebook, Instagram, Linkedin } from \"lucide-react\";\nimport { Link } from \"wouter\";\n\nexport default function Footer() {\n  return (\n    <footer className=\"border-t border-white/10 mt-20\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\n          {/* Brand */}\n          <div className=\"col-span-1 md:col-span-2\">\n            <div className=\"flex items-center space-x-2 mb-4\">\n              <div className=\"w-10 h-10 rounded-lg gradient-primary flex items-center justify-center\">\n                <Bolt className=\"text-dark-navy text-lg\" />\n              </div>\n              <h3 className=\"text-xl font-space font-bold\">\n                Fair<span className=\"text-neon-mint\">Deal</span>Hub\n              </h3>\n            </div>\n            <p className=\"text-gray-400 mb-6 max-w-md\">\n              Your trusted source for verified coupon codes and exclusive deals. \n              Save money on your favorite brands with our constantly updated database \n              of promotional offers.\n            </p>\n            \n            {/* Social Links */}\n            <div className=\"flex space-x-4\">\n              <a \n                href=\"#\" \n                className=\"p-2 glassmorphism rounded-lg text-gray-400 hover:text-neon-mint transition-smooth\"\n                aria-label=\"Twitter\"\n              >\n                <Twitter className=\"h-4 w-4\" />\n              </a>\n              <a \n                href=\"#\" \n                className=\"p-2 glassmorphism rounded-lg text-gray-400 hover:text-neon-mint transition-smooth\"\n                aria-label=\"Facebook\"\n              >\n                <Facebook className=\"h-4 w-4\" />\n              </a>\n              <a \n                href=\"#\" \n                className=\"p-2 glassmorphism rounded-lg text-gray-400 hover:text-neon-mint transition-smooth\"\n                aria-label=\"Instagram\"\n              >\n                <Instagram className=\"h-4 w-4\" />\n              </a>\n              <a \n                href=\"#\" \n                className=\"p-2 glassmorphism rounded-lg text-gray-400 hover:text-neon-mint transition-smooth\"\n                aria-label=\"LinkedIn\"\n              >\n                <Linkedin className=\"h-4 w-4\" />\n              </a>\n            </div>\n          </div>\n\n          {/* Quick Links */}\n          <div>\n            <h4 className=\"font-space font-semibold text-white mb-4\">Quick Links</h4>\n            <ul className=\"space-y-2 text-gray-400\">\n              <li><Link href=\"/\" className=\"hover:text-neon-mint transition-smooth\">All Categories</Link></li>\n              <li><a href=\"#top-deals\" className=\"hover:text-neon-mint transition-smooth\">Top Deals</a></li>\n              <li><a href=\"#merchants\" className=\"hover:text-neon-mint transition-smooth\">Popular Merchants</a></li>\n              <li><a href=\"#blog\" className=\"hover:text-neon-mint transition-smooth\">Money Saving Tips</a></li>\n            </ul>\n          </div>\n\n          {/* Support */}\n          <div>\n            <h4 className=\"font-space font-semibold text-white mb-4\">Support</h4>\n            <ul className=\"space-y-2 text-gray-400\">\n              <li><Link href=\"/about\" className=\"hover:text-neon-mint transition-smooth\">About Us</Link></li>\n              <li><Link href=\"/contact\" className=\"hover:text-neon-mint transition-smooth\">Contact</Link></li>\n              <li><Link href=\"/privacy\" className=\"hover:text-neon-mint transition-smooth\">Privacy Policy</Link></li>\n              <li><Link href=\"/terms\" className=\"hover:text-neon-mint transition-smooth\">Terms of Service</Link></li>\n              <li><Link href=\"/affiliate-disclosure\" className=\"hover:text-neon-mint transition-smooth\">Affiliate Disclosure</Link></li>\n              <li>\n                <a \n                  href=\"https://stellarcdynamics.com\" \n                  target=\"_blank\" \n                  rel=\"noopener noreferrer\" \n                  className=\"hover:text-neon-mint transition-smooth\"\n                >\n                  Stellar C Dynamics\n                </a>\n              </li>\n            </ul>\n          </div>\n        </div>\n\n        <div className=\"border-t border-white/10 mt-12 pt-8 flex flex-col sm:flex-row justify-between items-center\">\n          <p className=\"text-gray-400 text-sm\">\n            Â© 2024 FairDealHub. All rights reserved.\n          </p>\n          <p className=\"text-gray-400 text-sm mt-4 sm:mt-0\">\n            Last updated: {new Date().toLocaleTimeString()}\n          </p>\n        </div>\n      </div>\n    </footer>\n  );\n}\n","size_bytes":4596},"client/src/components/Header.tsx":{"content":"import { useState, useRef, useEffect } from \"react\";\nimport { Link } from \"wouter\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Bolt, Search, Menu, Settings, X } from \"lucide-react\";\nimport SearchDropdown from \"./SearchDropdown\";\nimport { useAuth } from \"@/hooks/useAuth\";\n\nexport default function Header() {\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [searchOpen, setSearchOpen] = useState(false);\n  const searchRef = useRef<HTMLDivElement>(null);\n  const { user, isAuthenticated } = useAuth();\n\n  // Close search dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (searchRef.current && !searchRef.current.contains(event.target as Node)) {\n        setSearchOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const handleSearchChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value;\n    setSearchQuery(value);\n    setSearchOpen(value.length > 0);\n  };\n\n  const handleSearchSelect = (item: any) => {\n    setSearchQuery(\"\");\n    setSearchOpen(false);\n  };\n\n  return (\n    <>\n      <header className=\"sticky top-0 z-50 glassmorphism-strong\">\n        <nav className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center h-16\">\n            {/* Logo */}\n            <Link href=\"/\">\n              <div className=\"flex items-center space-x-2 cursor-pointer\">\n                <div className=\"w-10 h-10 rounded-lg gradient-primary flex items-center justify-center\">\n                  <Bolt className=\"text-dark-navy text-lg\" />\n                </div>\n                <h1 className=\"text-xl font-space font-bold\">\n                  Fair<span className=\"text-neon-mint\">Deal</span>Hub\n                </h1>\n              </div>\n            </Link>\n\n            {/* Desktop Navigation */}\n            <div className=\"hidden lg:flex items-center space-x-8\">\n              <Link href=\"/\" className=\"text-gray-300 hover:text-neon-mint transition-smooth\">\n                All Categories\n              </Link>\n              <a \n                href=\"#top-products\" \n                className=\"text-gray-300 hover:text-neon-mint transition-smooth cursor-pointer\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  const element = document.getElementById('top-products');\n                  if (element) {\n                    element.scrollIntoView({ behavior: 'smooth' });\n                  }\n                }}\n              >\n                Top Products\n              </a>\n              <a \n                href=\"#random-specials\" \n                className=\"text-gray-300 hover:text-neon-mint transition-smooth cursor-pointer\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  const element = document.getElementById('random-specials');\n                  if (element) {\n                    element.scrollIntoView({ behavior: 'smooth' });\n                  }\n                }}\n              >\n                Random Specials\n              </a>\n            </div>\n\n            {/* Search Bar */}\n            <div className=\"flex-1 max-w-lg mx-8 relative\" ref={searchRef}>\n              <div className=\"relative\">\n                <Input\n                  type=\"text\"\n                  placeholder=\"Search products, merchants, categories...\"\n                  value={searchQuery}\n                  onChange={handleSearchChange}\n                  className=\"w-full bg-white/5 border border-white/10 text-white placeholder-gray-400 focus:border-neon-mint pr-10\"\n                />\n                <Search className=\"absolute right-3 top-3 text-gray-400 h-4 w-4\" />\n              </div>\n              \n              {searchOpen && (\n                <SearchDropdown \n                  query={searchQuery} \n                  onSelect={handleSearchSelect}\n                  onClose={() => setSearchOpen(false)}\n                />\n              )}\n            </div>\n\n            {/* User Actions */}\n            <div className=\"flex items-center space-x-4\">\n              {isAuthenticated ? (\n                <div className=\"flex items-center space-x-4\">\n                  {user?.firstName && (\n                    <span className=\"hidden sm:block text-sm text-gray-300\">\n                      Hi, {user.firstName}!\n                    </span>\n                  )}\n                  \n                  {/* Admin access removed from public header for security */}\n\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => window.location.href = \"/api/logout\"}\n                    className=\"glassmorphism border-white/20 hover:bg-white/10\"\n                  >\n                    Sign Out\n                  </Button>\n                </div>\n              ) : (\n                <Button\n                  onClick={() => window.location.href = \"/api/login\"}\n                  className=\"gradient-primary text-dark-navy font-medium hover:shadow-lg hover:scale-105 transition-smooth\"\n                >\n                  Sign In\n                </Button>\n              )}\n\n              {/* Mobile Menu Button */}\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"lg:hidden text-gray-300 hover:text-neon-mint transition-smooth\"\n                onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\n              >\n                {mobileMenuOpen ? <X className=\"h-5 w-5\" /> : <Menu className=\"h-5 w-5\" />}\n              </Button>\n            </div>\n          </div>\n        </nav>\n      </header>\n\n      {/* Mobile Menu */}\n      {mobileMenuOpen && (\n        <div className=\"lg:hidden glassmorphism-strong border-t border-white/10\">\n          <div className=\"px-4 py-3 space-y-3\">\n            <Link \n              href=\"/\" \n              className=\"block text-gray-300 hover:text-neon-mint transition-smooth\"\n              onClick={() => setMobileMenuOpen(false)}\n            >\n              All Categories\n            </Link>\n            <a \n              href=\"#top-products\" \n              className=\"block text-gray-300 hover:text-neon-mint transition-smooth\"\n              onClick={() => setMobileMenuOpen(false)}\n            >\n              Top Products\n            </a>\n            <a \n              href=\"#random-specials\" \n              className=\"block text-gray-300 hover:text-neon-mint transition-smooth\"\n              onClick={() => setMobileMenuOpen(false)}\n            >\n              Random Specials\n            </a>\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n","size_bytes":6885},"client/src/components/NewsletterSection.tsx":{"content":"import { useState } from \"react\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Gift } from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest } from \"@/lib/queryClient\";\n\nexport default function NewsletterSection() {\n  const [email, setEmail] = useState(\"\");\n  const { toast } = useToast();\n\n  const subscribeMutation = useMutation({\n    mutationFn: async (email: string) => {\n      return await apiRequest(\"POST\", \"/api/newsletter/subscribe\", { email });\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Success!\",\n        description: \"You've been subscribed to our newsletter.\",\n      });\n      setEmail(\"\");\n    },\n    onError: (error) => {\n      toast({\n        title: \"Error\",\n        description: \"Failed to subscribe. Please try again.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!email.trim()) return;\n    subscribeMutation.mutate(email.trim());\n  };\n\n  return (\n    <section className=\"py-16\">\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <Card className=\"glassmorphism-strong rounded-2xl p-8 md:p-12 text-center neon-glow-purple border-white/20\">\n          <CardContent className=\"p-0\">\n            <div className=\"mb-8\">\n              <div className=\"w-16 h-16 mx-auto mb-6 rounded-full gradient-secondary flex items-center justify-center\">\n                <Gift className=\"text-dark-navy text-2xl h-8 w-8\" />\n              </div>\n              <h2 className=\"text-3xl font-space font-bold mb-4\">Never Miss a Deal</h2>\n              <p className=\"text-gray-300 text-lg max-w-2xl mx-auto\">\n                Get exclusive coupon codes and the best deals delivered straight to your inbox. \n                Join over 50,000 smart shoppers saving big every day.\n              </p>\n            </div>\n\n            <form className=\"flex flex-col sm:flex-row gap-4 max-w-lg mx-auto\" onSubmit={handleSubmit}>\n              <Input\n                type=\"email\"\n                placeholder=\"Enter your email address\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                required\n                className=\"flex-1 bg-white/10 border-white/20 text-white placeholder-gray-400 focus:border-neon-mint\"\n              />\n              <Button\n                type=\"submit\"\n                disabled={subscribeMutation.isPending}\n                className=\"gradient-primary text-dark-navy font-semibold hover:shadow-lg hover:scale-105 transition-smooth\"\n              >\n                {subscribeMutation.isPending ? \"Subscribing...\" : \"Subscribe\"}\n              </Button>\n            </form>\n\n            <p className=\"text-xs text-gray-400 mt-4\">\n              No spam, unsubscribe at any time. By subscribing, you agree to our{\" \"}\n              <a href=\"/privacy\" className=\"text-neon-mint hover:underline\">Privacy Policy</a>.\n            </p>\n          </CardContent>\n        </Card>\n      </div>\n    </section>\n  );\n}\n","size_bytes":3200},"client/src/components/PersonalizedRecommendations.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { Card } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { \n  useUserRecommendations, \n  useGenerateRecommendations,\n  useMarkRecommendationViewed,\n  useMarkRecommendationClicked,\n  useTrackInteraction\n} from \"@/hooks/usePersonalization\";\nimport { Sparkles, RefreshCw, Heart, ExternalLink, Star, Tag } from \"lucide-react\";\nimport { Link } from \"wouter\";\n\ninterface PersonalizedRecommendationsProps {\n  entityType?: \"product\" | \"coupon\";\n  limit?: number;\n  showHeader?: boolean;\n  className?: string;\n}\n\nexport default function PersonalizedRecommendations({ \n  entityType, \n  limit = 6, \n  showHeader = true,\n  className = \"\"\n}: PersonalizedRecommendationsProps) {\n  const [viewedRecommendations, setViewedRecommendations] = useState<Set<string>>(new Set());\n  \n  const { \n    data: recommendations = [], \n    isLoading, \n    refetch \n  } = useUserRecommendations({ entityType, limit });\n  \n  const generateRecommendations = useGenerateRecommendations();\n  const markViewed = useMarkRecommendationViewed();\n  const markClicked = useMarkRecommendationClicked();\n  const trackInteraction = useTrackInteraction();\n\n  // Get product/coupon details for each recommendation\n  const { data: productDetails } = useQuery({\n    queryKey: [\"/api/products\", recommendations?.filter((r: any) => r.entityType === \"product\").map((r: any) => r.entityId)],\n    enabled: recommendations?.some((r: any) => r.entityType === \"product\"),\n    retry: false,\n  });\n\n  const { data: couponDetails } = useQuery({\n    queryKey: [\"/api/coupons\", recommendations?.filter((r: any) => r.entityType === \"coupon\").map((r: any) => r.entityId)],\n    enabled: recommendations?.some((r: any) => r.entityType === \"coupon\"),\n    retry: false,\n  });\n\n  // Mark recommendations as viewed when they come into view\n  useEffect(() => {\n    if (recommendations?.length > 0) {\n      recommendations.forEach((rec: any) => {\n        if (!rec.isViewed && !viewedRecommendations.has(rec.id)) {\n          markViewed.mutate(rec.id);\n          setViewedRecommendations(prev => new Set([...prev, rec.id]));\n          \n          // Track view interaction\n          trackInteraction.mutate({\n            entityType: \"recommendation\",\n            entityId: rec.id,\n            interactionType: \"view\",\n            source: \"personalized_recommendations\"\n          });\n        }\n      });\n    }\n  }, [recommendations, markViewed, trackInteraction, viewedRecommendations]);\n\n  const handleRecommendationClick = (recommendation: any, entity: any) => {\n    markClicked.mutate(recommendation.id);\n    trackInteraction.mutate({\n      entityType: recommendation.entityType,\n      entityId: recommendation.entityId,\n      interactionType: \"click\",\n      source: \"personalized_recommendations\"\n    });\n  };\n\n  const handleGenerateNew = () => {\n    generateRecommendations.mutate(undefined, {\n      onSuccess: () => {\n        refetch();\n      }\n    });\n  };\n\n  const getEntityDetails = (recommendation: any) => {\n    if (recommendation.entityType === \"product\") {\n      return productDetails?.find((p: any) => p.id === recommendation.entityId);\n    } else if (recommendation.entityType === \"coupon\") {\n      return couponDetails?.find((c: any) => c.id === recommendation.entityId);\n    }\n    return null;\n  };\n\n  const getReasonIcon = (reasonType: string) => {\n    switch (reasonType) {\n      case \"preferred_categories\":\n        return <Tag className=\"h-3 w-3\" />;\n      case \"price_range\":\n        return <Star className=\"h-3 w-3\" />;\n      case \"trending\":\n        return <Sparkles className=\"h-3 w-3\" />;\n      default:\n        return <Sparkles className=\"h-3 w-3\" />;\n    }\n  };\n\n  const getReasonColor = (reasonType: string) => {\n    switch (reasonType) {\n      case \"preferred_categories\":\n        return \"bg-purple-500/20 text-purple-300 border-purple-500/30\";\n      case \"price_range\":\n        return \"bg-green-500/20 text-green-300 border-green-500/30\";\n      case \"trending\":\n        return \"bg-pink-500/20 text-pink-300 border-pink-500/30\";\n      default:\n        return \"bg-neon-mint/20 text-neon-mint border-neon-mint/30\";\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className={`space-y-4 ${className}`}>\n        {showHeader && (\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-2\">\n              <Sparkles className=\"h-5 w-5 text-neon-mint\" />\n              <h2 className=\"text-xl font-space font-bold text-white\">Just for You</h2>\n            </div>\n          </div>\n        )}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {Array.from({ length: limit }, (_, i) => (\n            <Card key={i} className=\"animate-pulse bg-gray-800 border-gray-700\">\n              <div className=\"p-4 space-y-3\">\n                <div className=\"h-4 bg-gray-700 rounded w-3/4\"></div>\n                <div className=\"h-16 bg-gray-700 rounded\"></div>\n                <div className=\"h-4 bg-gray-700 rounded w-1/2\"></div>\n              </div>\n            </Card>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  if (!recommendations?.length) {\n    return (\n      <div className={`space-y-4 ${className}`}>\n        {showHeader && (\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-2\">\n              <Sparkles className=\"h-5 w-5 text-neon-mint\" />\n              <h2 className=\"text-xl font-space font-bold text-white\">Just for You</h2>\n            </div>\n            <Button\n              onClick={handleGenerateNew}\n              disabled={generateRecommendations.isPending}\n              variant=\"outline\"\n              size=\"sm\"\n              className=\"border-neon-mint/30 text-neon-mint hover:bg-neon-mint/10\"\n            >\n              {generateRecommendations.isPending ? (\n                <RefreshCw className=\"h-4 w-4 animate-spin mr-2\" />\n              ) : (\n                <Sparkles className=\"h-4 w-4 mr-2\" />\n              )}\n              Get Recommendations\n            </Button>\n          </div>\n        )}\n        <Card className=\"bg-dark-card border-white/10\">\n          <div className=\"p-8 text-center\">\n            <Sparkles className=\"h-12 w-12 text-gray-500 mx-auto mb-4\" />\n            <h3 className=\"text-lg font-semibold text-gray-300 mb-2\">No Recommendations Yet</h3>\n            <p className=\"text-gray-500 mb-4\">\n              We'll learn your preferences as you browse and create personalized recommendations.\n            </p>\n            <Button\n              onClick={handleGenerateNew}\n              disabled={generateRecommendations.isPending}\n              className=\"bg-neon-mint/20 text-neon-mint hover:bg-neon-mint/30 border border-neon-mint/50\"\n            >\n              {generateRecommendations.isPending ? (\n                <RefreshCw className=\"h-4 w-4 animate-spin mr-2\" />\n              ) : (\n                <Sparkles className=\"h-4 w-4 mr-2\" />\n              )}\n              Generate My First Recommendations\n            </Button>\n          </div>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`space-y-6 ${className}`}>\n      {showHeader && (\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-2\">\n            <Sparkles className=\"h-5 w-5 text-neon-mint animate-pulse\" />\n            <h2 className=\"text-xl font-space font-bold text-white\">Just for You</h2>\n          </div>\n          <Button\n            onClick={handleGenerateNew}\n            disabled={generateRecommendations.isPending}\n            variant=\"outline\"\n            size=\"sm\"\n            className=\"border-neon-mint/30 text-neon-mint hover:bg-neon-mint/10\"\n          >\n            {generateRecommendations.isPending ? (\n              <RefreshCw className=\"h-4 w-4 animate-spin mr-2\" />\n            ) : (\n              <RefreshCw className=\"h-4 w-4 mr-2\" />\n            )}\n            Refresh\n          </Button>\n        </div>\n      )}\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {recommendations.slice(0, limit).map((recommendation: any) => {\n          const entity = getEntityDetails(recommendation);\n          if (!entity) return null;\n\n          const isProduct = recommendation.entityType === \"product\";\n          const linkPath = isProduct \n            ? `/products/${entity.id}` \n            : `/coupons/${entity.id}`;\n\n          return (\n            <Card key={recommendation.id} className=\"group hover:scale-105 transition-smooth bg-dark-card border-white/10 overflow-hidden\">\n              <Link href={linkPath}>\n                <div \n                  className=\"cursor-pointer\"\n                  onClick={() => handleRecommendationClick(recommendation, entity)}\n                >\n                  {/* Entity Image/Icon */}\n                  <div className=\"relative h-48 bg-gradient-to-br from-gray-800 to-gray-900\">\n                    {isProduct && entity.imageMain ? (\n                      <img \n                        src={entity.imageMain} \n                        alt={entity.title}\n                        className=\"w-full h-full object-cover group-hover:scale-110 transition-smooth\"\n                      />\n                    ) : (\n                      <div className=\"flex items-center justify-center h-full\">\n                        <Tag className=\"h-16 w-16 text-neon-mint opacity-50\" />\n                      </div>\n                    )}\n                    \n                    {/* Recommendation Score Badge */}\n                    <div className=\"absolute top-3 right-3\">\n                      <Badge className={`${getReasonColor(recommendation.reasonType)} border`}>\n                        <span className=\"flex items-center space-x-1\">\n                          {getReasonIcon(recommendation.reasonType)}\n                          <span className=\"text-xs font-medium\">\n                            {Math.round(parseFloat(recommendation.score) * 100)}%\n                          </span>\n                        </span>\n                      </Badge>\n                    </div>\n                  </div>\n\n                  {/* Content */}\n                  <div className=\"p-4 space-y-3\">\n                    <div>\n                      <h3 className=\"font-semibold text-white group-hover:text-neon-mint transition-colors line-clamp-2\">\n                        {entity.title || entity.code}\n                      </h3>\n                      \n                      {isProduct && entity.priceCents && (\n                        <p className=\"text-lg font-bold text-neon-mint mt-1\">\n                          ${(entity.priceCents / 100).toFixed(2)}\n                        </p>\n                      )}\n                      \n                      {!isProduct && entity.value && (\n                        <p className=\"text-lg font-bold text-neon-mint mt-1\">\n                          {entity.discountType === 'percentage' ? `${entity.value}% OFF` : `$${entity.value} OFF`}\n                        </p>\n                      )}\n                    </div>\n\n                    {/* Recommendation Reason */}\n                    <div className=\"flex items-center space-x-2 text-sm text-gray-400\">\n                      {getReasonIcon(recommendation.reasonType)}\n                      <span>{recommendation.reasons?.[0] || \"Recommended for you\"}</span>\n                    </div>\n\n                    {/* Rating for Products */}\n                    {isProduct && entity.rating && (\n                      <div className=\"flex items-center space-x-2\">\n                        <div className=\"flex items-center\">\n                          {Array.from({ length: 5 }, (_, i) => (\n                            <Star\n                              key={i}\n                              className={`h-4 w-4 ${\n                                i < entity.rating \n                                  ? \"text-yellow-400 fill-current\" \n                                  : \"text-gray-600\"\n                              }`}\n                            />\n                          ))}\n                        </div>\n                        <span className=\"text-sm text-gray-400\">\n                          ({entity.rating})\n                        </span>\n                      </div>\n                    )}\n                    \n                    <div className=\"flex items-center justify-between pt-2 border-t border-white/10\">\n                      <Button \n                        size=\"sm\" \n                        className=\"bg-neon-mint/20 text-neon-mint hover:bg-neon-mint/30 border border-neon-mint/50\"\n                      >\n                        <ExternalLink className=\"h-4 w-4 mr-2\" />\n                        {isProduct ? \"View Deal\" : \"Get Code\"}\n                      </Button>\n                    </div>\n                  </div>\n                </div>\n              </Link>\n            </Card>\n          );\n        })}\n      </div>\n    </div>\n  );\n}","size_bytes":13128},"client/src/components/ProductCard.tsx":{"content":"import { useMutation } from \"@tanstack/react-query\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Star, CheckCircle, ShoppingCart, Clock } from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { Link } from \"wouter\";\n\ninterface ProductCardProps {\n  product: {\n    id: string;\n    title: string;\n    imageMain?: string;\n    priceCents?: number;\n    currency?: string;\n    rating?: string;\n    merchantId: string;\n    createdAt: string;\n    ownedBySite?: boolean;\n  };\n  merchant?: {\n    name: string;\n    logoUrl?: string;\n  };\n  showDiscount?: string;\n  originalPrice?: string;\n}\n\nexport default function ProductCard({ \n  product, \n  merchant, \n  showDiscount,\n  originalPrice \n}: ProductCardProps) {\n  const { toast } = useToast();\n\n  const clickoutMutation = useMutation({\n    mutationFn: async (data: any) => {\n      return await apiRequest(\"POST\", \"/api/clickout\", data);\n    },\n    onSuccess: (response: any) => {\n      if (response.affiliateUrl) {\n        window.open(response.affiliateUrl, '_blank');\n      }\n    },\n    onError: () => {\n      toast({\n        title: \"Error\",\n        description: \"Failed to track click. Please try again.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleGetDeal = (e: React.MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    \n    clickoutMutation.mutate({\n      productId: product.id,\n      merchantId: product.merchantId,\n      utmSource: \"product_card\",\n      utmCampaign: \"get_deal\",\n    });\n  };\n\n  const formatTimeAgo = (dateString: string) => {\n    const now = new Date();\n    const created = new Date(dateString);\n    const diffInHours = Math.floor((now.getTime() - created.getTime()) / (1000 * 60 * 60));\n    \n    if (diffInHours < 1) return \"Just now\";\n    if (diffInHours < 24) return `${diffInHours}h ago`;\n    const diffInDays = Math.floor(diffInHours / 24);\n    return `${diffInDays}d ago`;\n  };\n\n  return (\n    <Link href={`/products/${product.id}`}>\n      <Card className=\"glassmorphism rounded-xl overflow-hidden hover:bg-white/10 transition-smooth group cursor-pointer border-white/10 neon-glow\">\n        <div className=\"relative\">\n          {product.imageMain ? (\n            <img \n              src={product.imageMain} \n              alt={product.title}\n              className=\"w-full h-48 object-cover group-hover:scale-105 transition-smooth\" \n            />\n          ) : (\n            <div className=\"w-full h-48 bg-gray-800/50 flex items-center justify-center\">\n              <div className=\"text-center text-gray-400\">\n                <div className=\"w-16 h-16 mx-auto mb-2 rounded-full bg-gray-700 flex items-center justify-center\">\n                  <ShoppingCart className=\"h-8 w-8\" />\n                </div>\n                <span className=\"text-sm\">No image</span>\n              </div>\n            </div>\n          )}\n          \n          {/* Discount Badge */}\n          {showDiscount && (\n            <div className=\"absolute top-3 left-3 gradient-primary text-dark-navy px-3 py-1 rounded-full text-sm font-bold\">\n              {showDiscount}\n            </div>\n          )}\n          \n          {/* Verification Badge */}\n          <div className=\"absolute top-3 right-3 bg-success/90 backdrop-blur-sm text-white px-2 py-1 rounded-full text-xs flex items-center\">\n            <CheckCircle className=\"h-3 w-3 mr-1\" />\n            Verified\n          </div>\n        </div>\n        \n        <CardContent className=\"p-6\">\n          <div className=\"flex items-center mb-2\">\n            <div className=\"w-8 h-8 rounded-full bg-gray-600 mr-3 flex items-center justify-center\">\n              {merchant?.logoUrl ? (\n                <img \n                  src={merchant.logoUrl} \n                  alt={merchant.name}\n                  className=\"w-6 h-6 object-contain\"\n                />\n              ) : (\n                <ShoppingCart className=\"h-4 w-4 text-orange-400\" />\n              )}\n            </div>\n            <span className=\"text-sm text-gray-400\">\n              {merchant?.name || \"Store\"}\n            </span>\n          </div>\n          \n          <h3 className=\"font-space font-semibold text-lg mb-2 group-hover:text-neon-mint transition-smooth line-clamp-2\">\n            {product.title}\n          </h3>\n          \n          <div className=\"flex items-center justify-between mb-4\">\n            <div className=\"flex items-center\">\n              {product.priceCents && (\n                <>\n                  <span className=\"text-xl font-bold text-neon-mint\">\n                    ${(product.priceCents / 100).toFixed(2)}\n                  </span>\n                  {originalPrice && (\n                    <span className=\"text-sm text-gray-400 line-through ml-2\">\n                      {originalPrice}\n                    </span>\n                  )}\n                </>\n              )}\n            </div>\n            {product.rating && (\n              <div className=\"flex items-center text-yellow-400\">\n                <Star className=\"h-3 w-3 fill-current\" />\n                <span className=\"text-sm ml-1\">{product.rating}</span>\n              </div>\n            )}\n          </div>\n          \n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center text-gray-400 text-sm\">\n              <Clock className=\"h-3 w-3 mr-1\" />\n              <span>{formatTimeAgo(product.createdAt)}</span>\n            </div>\n            \n            <Button \n              size=\"sm\" \n              className=\"gradient-primary text-dark-navy font-medium hover:shadow-lg transition-smooth\"\n              onClick={handleGetDeal}\n              disabled={clickoutMutation.isPending}\n            >\n              {clickoutMutation.isPending ? \"...\" : \"Get Deal\"}\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n    </Link>\n  );\n}\n","size_bytes":5997},"client/src/components/SearchDropdown.tsx":{"content":"import { useQuery } from \"@tanstack/react-query\";\nimport { Card } from \"@/components/ui/card\";\nimport { Search, Package, Store } from \"lucide-react\";\nimport { Link } from \"wouter\";\n\ninterface SearchDropdownProps {\n  query: string;\n  onSelect: (item: any) => void;\n  onClose: () => void;\n}\n\nexport default function SearchDropdown({ query, onSelect, onClose }: SearchDropdownProps) {\n  const { data: searchResults, isLoading } = useQuery({\n    queryKey: [`/api/search?q=${encodeURIComponent(query)}&limit=5`],\n    enabled: query.length > 1,\n  });\n\n  if (query.length < 2) {\n    return (\n      <Card className=\"absolute top-full left-0 right-0 mt-2 search-dropdown rounded-lg shadow-xl z-50\">\n        <div className=\"p-4\">\n          <div className=\"flex items-center text-gray-400 text-sm\">\n            <Search className=\"h-4 w-4 mr-2\" />\n            <span>Start typing to search products and merchants...</span>\n          </div>\n        </div>\n      </Card>\n    );\n  }\n\n  if (isLoading) {\n    return (\n      <Card className=\"absolute top-full left-0 right-0 mt-2 search-dropdown rounded-lg shadow-xl z-50\">\n        <div className=\"p-4\">\n          <div className=\"flex items-center text-gray-400 text-sm\">\n            <div className=\"animate-spin rounded-full h-4 w-4 border-b border-neon-mint mr-2\"></div>\n            <span>Searching...</span>\n          </div>\n        </div>\n      </Card>\n    );\n  }\n\n  const products = searchResults?.products || [];\n  const merchants = searchResults?.merchants || [];\n  const hasResults = products.length > 0 || merchants.length > 0;\n\n  return (\n    <Card className=\"absolute top-full left-0 right-0 mt-2 search-dropdown rounded-lg shadow-xl z-50\">\n      <div className=\"p-3 max-h-96 overflow-y-auto\">\n        {!hasResults ? (\n          <div className=\"text-center py-4\">\n            <div className=\"text-gray-400 text-sm\">No results found for \"{query}\"</div>\n          </div>\n        ) : (\n          <div className=\"space-y-4\">\n            {/* Products */}\n            {products.length > 0 && (\n              <div>\n                <div className=\"text-xs text-gray-400 uppercase tracking-wide mb-2 flex items-center\">\n                  <Package className=\"h-3 w-3 mr-1\" />\n                  Products\n                </div>\n                <div className=\"space-y-1\">\n                  {products.map((product: any) => (\n                    <Link key={product.id} href={`/products/${product.id}`}>\n                      <div \n                        className=\"flex items-center px-3 py-2 hover:bg-white/5 rounded cursor-pointer transition-smooth\"\n                        onClick={() => {\n                          onSelect(product);\n                          onClose();\n                        }}\n                      >\n                        {product.imageMain && (\n                          <img \n                            src={product.imageMain} \n                            alt={product.title}\n                            className=\"w-10 h-10 rounded object-cover mr-3\"\n                          />\n                        )}\n                        <div className=\"flex-1 min-w-0\">\n                          <div className=\"text-sm font-medium text-white truncate\">\n                            {product.title}\n                          </div>\n                          {product.priceCents && (\n                            <div className=\"text-xs text-neon-mint\">\n                              ${(product.priceCents / 100).toFixed(2)}\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    </Link>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* Merchants */}\n            {merchants.length > 0 && (\n              <div>\n                <div className=\"text-xs text-gray-400 uppercase tracking-wide mb-2 flex items-center\">\n                  <Store className=\"h-3 w-3 mr-1\" />\n                  Merchants\n                </div>\n                <div className=\"space-y-1\">\n                  {merchants.map((merchant: any) => (\n                    <Link key={merchant.id} href={`/merchants/${merchant.slug}`}>\n                      <div \n                        className=\"flex items-center px-3 py-2 hover:bg-white/5 rounded cursor-pointer transition-smooth\"\n                        onClick={() => {\n                          onSelect(merchant);\n                          onClose();\n                        }}\n                      >\n                        <div className=\"w-10 h-10 rounded bg-gray-600 mr-3 flex items-center justify-center\">\n                          {merchant.logoUrl ? (\n                            <img \n                              src={merchant.logoUrl} \n                              alt={merchant.name}\n                              className=\"w-8 h-8 object-contain\"\n                            />\n                          ) : (\n                            <Store className=\"h-5 w-5 text-gray-400\" />\n                          )}\n                        </div>\n                        <div className=\"flex-1 min-w-0\">\n                          <div className=\"text-sm font-medium text-white truncate\">\n                            {merchant.name}\n                          </div>\n                          <div className=\"text-xs text-gray-400 truncate\">\n                            {merchant.domain}\n                          </div>\n                        </div>\n                      </div>\n                    </Link>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* Show All Results Link */}\n            <div className=\"border-t border-white/10 pt-2\">\n              <Link href={`/search?q=${encodeURIComponent(query)}`}>\n                <div \n                  className=\"flex items-center justify-center px-3 py-2 text-sm text-neon-mint hover:bg-white/5 rounded cursor-pointer transition-smooth\"\n                  onClick={() => {\n                    onClose();\n                  }}\n                >\n                  <Search className=\"h-4 w-4 mr-2\" />\n                  See all results for \"{query}\"\n                </div>\n              </Link>\n            </div>\n          </div>\n        )}\n      </div>\n    </Card>\n  );\n}\n","size_bytes":6288},"client/src/components/UserPreferencesSettings.tsx":{"content":"import { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { Card } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Input } from \"@/components/ui/input\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useUserPreferences, useUpdateUserPreferences } from \"@/hooks/usePersonalization\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Settings, Save, Sparkles } from \"lucide-react\";\n\nconst preferencesSchema = z.object({\n  categoryIds: z.array(z.string()).default([]),\n  merchantIds: z.array(z.string()).default([]),\n  priceRangeMin: z.number().min(0).optional(),\n  priceRangeMax: z.number().min(0).optional(),\n  discountThreshold: z.number().min(0).max(100).default(10),\n  notificationFrequency: z.enum([\"instant\", \"daily\", \"weekly\"]).default(\"daily\"),\n});\n\ntype PreferencesFormData = z.infer<typeof preferencesSchema>;\n\nexport default function UserPreferencesSettings() {\n  const { toast } = useToast();\n  const [isOpen, setIsOpen] = useState(false);\n  \n  const { data: preferences, isLoading: preferencesLoading } = useUserPreferences();\n  const { data: categories } = useQuery({ queryKey: [\"/api/categories\"] });\n  const { data: merchants } = useQuery({ queryKey: [\"/api/merchants\"] });\n  const updatePreferences = useUpdateUserPreferences();\n\n  const form = useForm<PreferencesFormData>({\n    resolver: zodResolver(preferencesSchema),\n    defaultValues: {\n      categoryIds: preferences?.categoryIds || [],\n      merchantIds: preferences?.merchantIds || [],\n      priceRangeMin: preferences?.priceRangeMin || undefined,\n      priceRangeMax: preferences?.priceRangeMax || undefined,\n      discountThreshold: preferences?.discountThreshold || 10,\n      notificationFrequency: preferences?.notificationFrequency || \"daily\",\n    },\n  });\n\n  // Update form when preferences are loaded\n  useState(() => {\n    if (preferences) {\n      form.reset({\n        categoryIds: preferences.categoryIds || [],\n        merchantIds: preferences.merchantIds || [],\n        priceRangeMin: preferences.priceRangeMin || undefined,\n        priceRangeMax: preferences.priceRangeMax || undefined,\n        discountThreshold: preferences.discountThreshold || 10,\n        notificationFrequency: preferences.notificationFrequency || \"daily\",\n      });\n    }\n  });\n\n  const onSubmit = (data: PreferencesFormData) => {\n    updatePreferences.mutate(data, {\n      onSuccess: () => {\n        toast({\n          title: \"Preferences Updated\",\n          description: \"Your deal preferences have been saved successfully.\",\n        });\n        setIsOpen(false);\n      },\n      onError: (error: any) => {\n        toast({\n          title: \"Error\",\n          description: error.message || \"Failed to update preferences\",\n          variant: \"destructive\",\n        });\n      },\n    });\n  };\n\n  if (!isOpen) {\n    return (\n      <Button\n        onClick={() => setIsOpen(true)}\n        variant=\"outline\"\n        size=\"sm\"\n        className=\"border-neon-mint/30 text-neon-mint hover:bg-neon-mint/10\"\n      >\n        <Settings className=\"h-4 w-4 mr-2\" />\n        Deal Preferences\n      </Button>\n    );\n  }\n\n  return (\n    <Card className=\"bg-dark-card border-white/10 p-6 max-w-2xl mx-auto\">\n      <div className=\"flex items-center justify-between mb-6\">\n        <div className=\"flex items-center space-x-2\">\n          <Sparkles className=\"h-5 w-5 text-neon-mint\" />\n          <h3 className=\"text-lg font-semibold text-white\">Deal Preferences</h3>\n        </div>\n        <Button\n          variant=\"ghost\"\n          size=\"sm\"\n          onClick={() => setIsOpen(false)}\n          className=\"text-gray-400 hover:text-white\"\n        >\n          Ã—\n        </Button>\n      </div>\n\n      <Form {...form}>\n        <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\n          \n          {/* Preferred Categories */}\n          <FormField\n            control={form.control}\n            name=\"categoryIds\"\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel className=\"text-white\">Preferred Categories</FormLabel>\n                <FormControl>\n                  <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3 max-h-48 overflow-y-auto\">\n                    {categories?.map((category: any) => (\n                      <div key={category.id} className=\"flex items-center space-x-2\">\n                        <Checkbox\n                          id={`category-${category.id}`}\n                          checked={field.value.includes(category.id)}\n                          onCheckedChange={(checked) => {\n                            const newValue = checked\n                              ? [...field.value, category.id]\n                              : field.value.filter((id) => id !== category.id);\n                            field.onChange(newValue);\n                          }}\n                          className=\"border-gray-600 data-[state=checked]:bg-neon-mint data-[state=checked]:border-neon-mint\"\n                        />\n                        <label\n                          htmlFor={`category-${category.id}`}\n                          className=\"text-sm text-gray-300 cursor-pointer hover:text-white transition-colors\"\n                        >\n                          {category.name}\n                        </label>\n                      </div>\n                    ))}\n                  </div>\n                </FormControl>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n\n          {/* Preferred Merchants */}\n          <FormField\n            control={form.control}\n            name=\"merchantIds\"\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel className=\"text-white\">Preferred Merchants</FormLabel>\n                <FormControl>\n                  <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3 max-h-48 overflow-y-auto\">\n                    {merchants?.slice(0, 20).map((merchant: any) => (\n                      <div key={merchant.id} className=\"flex items-center space-x-2\">\n                        <Checkbox\n                          id={`merchant-${merchant.id}`}\n                          checked={field.value.includes(merchant.id)}\n                          onCheckedChange={(checked) => {\n                            const newValue = checked\n                              ? [...field.value, merchant.id]\n                              : field.value.filter((id) => id !== merchant.id);\n                            field.onChange(newValue);\n                          }}\n                          className=\"border-gray-600 data-[state=checked]:bg-neon-mint data-[state=checked]:border-neon-mint\"\n                        />\n                        <label\n                          htmlFor={`merchant-${merchant.id}`}\n                          className=\"text-sm text-gray-300 cursor-pointer hover:text-white transition-colors\"\n                        >\n                          {merchant.name}\n                        </label>\n                      </div>\n                    ))}\n                  </div>\n                </FormControl>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n\n          {/* Price Range */}\n          <div className=\"grid grid-cols-2 gap-4\">\n            <FormField\n              control={form.control}\n              name=\"priceRangeMin\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel className=\"text-white\">Min Price ($)</FormLabel>\n                  <FormControl>\n                    <Input\n                      type=\"number\"\n                      min=\"0\"\n                      step=\"1\"\n                      placeholder=\"0\"\n                      {...field}\n                      onChange={(e) => field.onChange(e.target.value ? parseInt(e.target.value) : undefined)}\n                      className=\"bg-gray-800 border-gray-600 text-white placeholder-gray-400\"\n                    />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n            \n            <FormField\n              control={form.control}\n              name=\"priceRangeMax\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel className=\"text-white\">Max Price ($)</FormLabel>\n                  <FormControl>\n                    <Input\n                      type=\"number\"\n                      min=\"0\"\n                      step=\"1\"\n                      placeholder=\"1000\"\n                      {...field}\n                      onChange={(e) => field.onChange(e.target.value ? parseInt(e.target.value) : undefined)}\n                      className=\"bg-gray-800 border-gray-600 text-white placeholder-gray-400\"\n                    />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n          </div>\n\n          {/* Discount Threshold */}\n          <FormField\n            control={form.control}\n            name=\"discountThreshold\"\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel className=\"text-white\">Minimum Discount (%)</FormLabel>\n                <FormControl>\n                  <Input\n                    type=\"number\"\n                    min=\"0\"\n                    max=\"100\"\n                    step=\"1\"\n                    placeholder=\"10\"\n                    {...field}\n                    onChange={(e) => field.onChange(parseInt(e.target.value) || 0)}\n                    className=\"bg-gray-800 border-gray-600 text-white placeholder-gray-400\"\n                  />\n                </FormControl>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n\n          {/* Notification Frequency */}\n          <FormField\n            control={form.control}\n            name=\"notificationFrequency\"\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel className=\"text-white\">Deal Notifications</FormLabel>\n                <Select onValueChange={field.onChange} defaultValue={field.value}>\n                  <FormControl>\n                    <SelectTrigger className=\"bg-gray-800 border-gray-600 text-white\">\n                      <SelectValue placeholder=\"Select frequency\" />\n                    </SelectTrigger>\n                  </FormControl>\n                  <SelectContent className=\"bg-gray-800 border-gray-600\">\n                    <SelectItem value=\"instant\">Instant</SelectItem>\n                    <SelectItem value=\"daily\">Daily</SelectItem>\n                    <SelectItem value=\"weekly\">Weekly</SelectItem>\n                  </SelectContent>\n                </Select>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n\n          <div className=\"flex justify-end space-x-3 pt-4\">\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              onClick={() => setIsOpen(false)}\n              className=\"border-gray-600 text-gray-300 hover:bg-gray-800\"\n            >\n              Cancel\n            </Button>\n            <Button\n              type=\"submit\"\n              disabled={updatePreferences.isPending}\n              className=\"bg-neon-mint text-black hover:bg-neon-mint/80\"\n            >\n              {updatePreferences.isPending ? (\n                <div className=\"flex items-center space-x-2\">\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-b border-black\"></div>\n                  <span>Saving...</span>\n                </div>\n              ) : (\n                <div className=\"flex items-center space-x-2\">\n                  <Save className=\"h-4 w-4\" />\n                  <span>Save Preferences</span>\n                </div>\n              )}\n            </Button>\n          </div>\n        </form>\n      </Form>\n    </Card>\n  );\n}","size_bytes":12273},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":565},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","size_bytes":3895},"client/src/hooks/useAuth.ts":{"content":"import { useQuery } from \"@tanstack/react-query\";\nimport type { User } from \"@shared/schema\";\n\nexport function useAuth() {\n  const { data: user, isLoading } = useQuery<User>({\n    queryKey: [\"/api/auth/user\"],\n    retry: false,\n  });\n\n  return {\n    user,\n    isLoading,\n    isAuthenticated: !!user,\n  };\n}\n","size_bytes":307},"client/src/hooks/usePersonalization.ts":{"content":"import { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { useAuth } from \"@/hooks/useAuth\";\n\n// User Preferences Hook\nexport function useUserPreferences() {\n  const { isAuthenticated } = useAuth();\n  \n  return useQuery({\n    queryKey: [\"/api/user/preferences\"],\n    enabled: isAuthenticated,\n    retry: false,\n  });\n}\n\nexport function useUpdateUserPreferences() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: async (preferences: any) => {\n      return await apiRequest(\"PUT\", \"/api/user/preferences\", preferences);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/user/preferences\"] });\n    },\n  });\n}\n\n// User Recommendations Hook\nexport function useUserRecommendations(options?: {\n  entityType?: string;\n  limit?: number;\n  onlyNew?: boolean;\n}) {\n  const { isAuthenticated } = useAuth();\n  \n  // Create proper query parameters for URL\n  const params = new URLSearchParams();\n  if (options?.entityType) params.append('entityType', options.entityType);\n  if (options?.limit) params.append('limit', options.limit.toString());\n  if (options?.onlyNew) params.append('onlyNew', options.onlyNew.toString());\n  \n  const url = `/api/user/recommendations${params.toString() ? '?' + params.toString() : ''}`;\n  const queryKey = [url];\n\n  return useQuery({\n    queryKey,\n    enabled: isAuthenticated,\n    retry: false,\n  });\n}\n\nexport function useGenerateRecommendations() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: async () => {\n      return await apiRequest(\"POST\", \"/api/user/recommendations/generate\");\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/user/recommendations\"] });\n    },\n  });\n}\n\n// User Interactions Hook\nexport function useTrackInteraction() {\n  return useMutation({\n    mutationFn: async (interaction: {\n      entityType: string;\n      entityId: string;\n      interactionType: string;\n      duration?: number;\n      source?: string;\n    }) => {\n      return await apiRequest(\"POST\", \"/api/user/interactions\", interaction);\n    },\n  });\n}\n\n// Mark Recommendation Actions\nexport function useMarkRecommendationViewed() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: async (recommendationId: string) => {\n      return await apiRequest(\"PATCH\", `/api/user/recommendations/${recommendationId}/viewed`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/user/recommendations\"] });\n    },\n  });\n}\n\nexport function useMarkRecommendationClicked() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: async (recommendationId: string) => {\n      return await apiRequest(\"PATCH\", `/api/user/recommendations/${recommendationId}/clicked`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/user/recommendations\"] });\n    },\n  });\n}\n\n// Saved Deals Hooks\nexport function useSavedDeals(entityType?: string) {\n  const { isAuthenticated } = useAuth();\n  \n  const queryKey = entityType \n    ? [\"/api/user/saved-deals\", { entityType }]\n    : [\"/api/user/saved-deals\"];\n\n  return useQuery({\n    queryKey,\n    enabled: isAuthenticated,\n    retry: false,\n  });\n}\n\nexport function useSaveDeal() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: async (savedDeal: {\n      entityType: string;\n      entityId: string;\n      notes?: string;\n    }) => {\n      return await apiRequest(\"POST\", \"/api/user/saved-deals\", savedDeal);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/user/saved-deals\"] });\n    },\n  });\n}\n\nexport function useRemoveSavedDeal() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: async ({ entityType, entityId }: {\n      entityType: string;\n      entityId: string;\n    }) => {\n      return await apiRequest(\"DELETE\", `/api/user/saved-deals/${entityType}/${entityId}`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/user/saved-deals\"] });\n    },\n  });\n}\n\nexport function useIsDealSaved(entityType: string, entityId: string) {\n  const { isAuthenticated } = useAuth();\n  \n  return useQuery({\n    queryKey: [\"/api/user/saved-deals\", entityType, entityId, \"status\"],\n    enabled: isAuthenticated && !!entityType && !!entityId,\n    retry: false,\n  });\n}","size_bytes":4451},"client/src/lib/authUtils.ts":{"content":"export function isUnauthorizedError(error: Error): boolean {\n  return /^401: .*Unauthorized/.test(error.message);\n}","size_bytes":115},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","size_bytes":1383},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","size_bytes":166},"client/src/pages/about.tsx":{"content":"import Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Shield, Users, Zap, Heart, ExternalLink } from \"lucide-react\";\n\nexport default function About() {\n  return (\n    <div className=\"min-h-screen text-white\">\n      <Header />\n\n      {/* Hero Section */}\n      <section className=\"py-20\">\n        <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center\">\n          <h1 className=\"text-4xl md:text-6xl font-space font-bold mb-6\">\n            About <span className=\"text-neon-mint\">Fair</span><span className=\"text-neon-purple\">Deal</span>Hub\n          </h1>\n          <p className=\"text-xl text-gray-300 max-w-3xl mx-auto\">\n            We're on a mission to help you save money on everything you love. Our platform connects you \n            with the best deals, exclusive coupon codes, and verified discounts from top brands worldwide.\n          </p>\n        </div>\n      </section>\n\n      {/* Mission Section */}\n      <section className=\"py-16 bg-white/5\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center\">\n            <div>\n              <h2 className=\"text-3xl font-space font-bold mb-6\">Our Mission</h2>\n              <p className=\"text-gray-300 text-lg leading-relaxed mb-6\">\n                In a world where online shopping has become the norm, we believe everyone deserves \n                access to the best deals and savings opportunities. FairDealHub was created to bridge \n                the gap between shoppers and savings, ensuring no great deal goes unnoticed.\n              </p>\n              <p className=\"text-gray-300 text-lg leading-relaxed\">\n                We work tirelessly to verify every coupon code, negotiate exclusive discounts, and \n                provide you with a seamless shopping experience that puts more money back in your pocket.\n              </p>\n            </div>\n            <div className=\"grid grid-cols-2 gap-4\">\n              <Card className=\"glassmorphism border-white/10 text-center p-6\">\n                <CardContent className=\"p-0\">\n                  <div className=\"text-3xl font-space font-bold text-neon-mint mb-2\">50K+</div>\n                  <div className=\"text-sm text-gray-400\">Happy Customers</div>\n                </CardContent>\n              </Card>\n              <Card className=\"glassmorphism border-white/10 text-center p-6\">\n                <CardContent className=\"p-0\">\n                  <div className=\"text-3xl font-space font-bold text-neon-purple mb-2\">12K+</div>\n                  <div className=\"text-sm text-gray-400\">Active Deals</div>\n                </CardContent>\n              </Card>\n              <Card className=\"glassmorphism border-white/10 text-center p-6\">\n                <CardContent className=\"p-0\">\n                  <div className=\"text-3xl font-space font-bold text-neon-pink mb-2\">$2.4M</div>\n                  <div className=\"text-sm text-gray-400\">Total Saved</div>\n                </CardContent>\n              </Card>\n              <Card className=\"glassmorphism border-white/10 text-center p-6\">\n                <CardContent className=\"p-0\">\n                  <div className=\"text-3xl font-space font-bold text-success mb-2\">98%</div>\n                  <div className=\"text-sm text-gray-400\">Success Rate</div>\n                </CardContent>\n              </Card>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* Values Section */}\n      <section className=\"py-16\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center mb-12\">\n            <h2 className=\"text-3xl font-space font-bold mb-4\">Our Values</h2>\n            <p className=\"text-gray-300 max-w-2xl mx-auto\">\n              The principles that guide everything we do and help us deliver the best experience for our users.\n            </p>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n            {[\n              {\n                icon: Shield,\n                title: \"Trust & Verification\",\n                description: \"Every deal is verified and every coupon is tested to ensure you get working discounts.\"\n              },\n              {\n                icon: Users,\n                title: \"Community First\",\n                description: \"We listen to our users and continuously improve based on your feedback and needs.\"\n              },\n              {\n                icon: Zap,\n                title: \"Speed & Innovation\",\n                description: \"We use cutting-edge technology to bring you the latest deals faster than anyone else.\"\n              },\n              {\n                icon: Heart,\n                title: \"Customer Care\",\n                description: \"Your satisfaction is our priority. We're here to help you save money and shop smarter.\"\n              }\n            ].map((value, index) => (\n              <Card key={index} className=\"glassmorphism border-white/10 hover:bg-white/10 transition-smooth\">\n                <CardContent className=\"p-6 text-center\">\n                  <div className=\"w-12 h-12 mx-auto mb-4 rounded-full gradient-primary flex items-center justify-center\">\n                    <value.icon className=\"h-6 w-6 text-dark-navy\" />\n                  </div>\n                  <h3 className=\"text-lg font-space font-semibold mb-3\">{value.title}</h3>\n                  <p className=\"text-gray-300 text-sm\">{value.description}</p>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n        </div>\n      </section>\n\n      {/* How It Works */}\n      <section className=\"py-16 bg-white/5\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center mb-12\">\n            <h2 className=\"text-3xl font-space font-bold mb-4\">How FairDealHub Works</h2>\n            <p className=\"text-gray-300 max-w-2xl mx-auto\">\n              Our process is simple, transparent, and designed to get you the best deals with minimal effort.\n            </p>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n            {[\n              {\n                step: \"01\",\n                title: \"Discover Deals\",\n                description: \"Browse our curated collection of deals from top brands, or use our search to find specific products.\"\n              },\n              {\n                step: \"02\",\n                title: \"Get Your Code\",\n                description: \"Click to reveal verified coupon codes or follow our direct links to exclusive discounts.\"\n              },\n              {\n                step: \"03\",\n                title: \"Save Money\",\n                description: \"Apply your code at checkout or enjoy automatic discounts. Start saving immediately!\"\n              }\n            ].map((step, index) => (\n              <div key={index} className=\"text-center\">\n                <div className=\"w-16 h-16 mx-auto mb-6 rounded-full gradient-primary flex items-center justify-center\">\n                  <span className=\"text-2xl font-space font-bold text-dark-navy\">{step.step}</span>\n                </div>\n                <h3 className=\"text-xl font-space font-semibold mb-4\">{step.title}</h3>\n                <p className=\"text-gray-300\">{step.description}</p>\n              </div>\n            ))}\n          </div>\n        </div>\n      </section>\n\n      {/* Contact Section */}\n      <section className=\"py-16\">\n        <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center\">\n          <div className=\"glassmorphism-strong rounded-2xl p-8 md:p-12 neon-glow-purple\">\n            <h2 className=\"text-3xl font-space font-bold mb-4\">Have Questions?</h2>\n            <p className=\"text-gray-300 text-lg mb-8 max-w-2xl mx-auto\">\n              We're here to help! Whether you have questions about our deals, need help with a coupon, \n              or want to partner with us, don't hesitate to reach out.\n            </p>\n            <div className=\"flex flex-col sm:flex-row gap-4 justify-center\">\n              <Button className=\"gradient-primary text-dark-navy font-semibold\">\n                Contact Support\n              </Button>\n              <Button \n                variant=\"outline\" \n                className=\"glassmorphism border-white/20 hover:bg-white/10\"\n                onClick={() => window.open('https://stellarcdynamics.com', '_blank')}\n              >\n                Visit Stellar C Dynamics\n                <ExternalLink className=\"ml-2 h-4 w-4\" />\n              </Button>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      <Footer />\n    </div>\n  );\n}\n","size_bytes":8800},"client/src/pages/admin.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { isUnauthorizedError } from \"@/lib/authUtils\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport AdminDashboard from \"@/components/AdminDashboard\";\nimport AdminSidebar from \"@/components/AdminSidebar\";\n\nexport default function Admin() {\n  const { toast } = useToast();\n  const { isAuthenticated, isLoading, user } = useAuth();\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n\n  // Redirect to home if not authenticated or not admin\n  useEffect(() => {\n    if (!isLoading && (!isAuthenticated || user?.role !== 'admin')) {\n      toast({\n        title: \"Unauthorized\",\n        description: \"Admin access required. Redirecting to login...\",\n        variant: \"destructive\",\n      });\n      setTimeout(() => {\n        window.location.href = \"/api/login\";\n      }, 500);\n      return;\n    }\n  }, [isAuthenticated, isLoading, user, toast]);\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen text-white flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-neon-mint\"></div>\n      </div>\n    );\n  }\n\n  if (!isAuthenticated || user?.role !== 'admin') {\n    return null; // Will redirect in useEffect\n  }\n\n  return (\n    <div className=\"min-h-screen text-white\">\n      <Header \n        onAdminToggle={() => setSidebarOpen(!sidebarOpen)} \n        showAdminButton={true}\n      />\n      \n      <AdminSidebar \n        isOpen={sidebarOpen} \n        onClose={() => setSidebarOpen(false)} \n      />\n      \n      {sidebarOpen && (\n        <div \n          className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-40\" \n          onClick={() => setSidebarOpen(false)}\n        />\n      )}\n\n      {/* Admin Content */}\n      <div className=\"py-8\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"mb-8\">\n            <h1 className=\"text-3xl md:text-4xl font-space font-bold mb-4\">\n              Admin <span className=\"text-neon-mint\">Dashboard</span>\n            </h1>\n            <p className=\"text-gray-300\">\n              Manage your affiliate platform, products, and analytics from here.\n            </p>\n          </div>\n\n          <AdminDashboard />\n        </div>\n      </div>\n\n      <Footer />\n    </div>\n  );\n}\n","size_bytes":2406},"client/src/pages/affiliate-disclosure.tsx":{"content":"import Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport { Card, CardHeader, CardTitle, CardContent } from \"@/components/ui/card\";\nimport { DollarSign, Link2, Info, Heart, Shield, Users } from \"lucide-react\";\n\nexport default function AffiliateDisclosure() {\n  return (\n    <div className=\"min-h-screen bg-dark-navy\">\n      <Header />\n      \n      <main className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-20\">\n        <div className=\"text-center mb-16\">\n          <h1 className=\"text-4xl md:text-6xl font-space font-bold mb-6\">\n            Affiliate <span className=\"text-neon-mint\">Disclosure</span>\n          </h1>\n          <p className=\"text-xl text-gray-400 max-w-3xl mx-auto\">\n            Transparency is important to us. Here's how we earn revenue and why it helps you save more.\n          </p>\n          <p className=\"text-sm text-gray-500 mt-4\">Last updated: December 2024</p>\n        </div>\n\n        <div className=\"space-y-8\">\n          <Card className=\"glassmorphism border-white/10\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center space-x-3 text-white\">\n                <Info className=\"h-6 w-6 text-neon-mint\" />\n                <span>What Are Affiliate Links?</span>\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"text-gray-300 space-y-4\">\n              <p>\n                FairDealHub participates in affiliate marketing programs with various retailers and brands. \n                This means when you click on certain links or use coupon codes on our site, we may earn a small \n                commission if you make a purchase.\n              </p>\n              <p>\n                <strong className=\"text-white\">Important:</strong> This commission comes from the retailer, not from you. \n                You don't pay any extra fees, and in many cases, you'll save money through our exclusive deals and codes.\n              </p>\n            </CardContent>\n          </Card>\n\n          <Card className=\"glassmorphism border-white/10\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center space-x-3 text-white\">\n                <DollarSign className=\"h-6 w-6 text-neon-mint\" />\n                <span>How We Use Affiliate Revenue</span>\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"text-gray-300 space-y-4\">\n              <p>The commissions we earn help us:</p>\n              <ul className=\"list-disc list-inside space-y-2 ml-4\">\n                <li>Keep FairDealHub completely free for all users</li>\n                <li>Continuously update and verify coupon codes</li>\n                <li>Discover new deals and exclusive offers</li>\n                <li>Maintain and improve our platform</li>\n                <li>Provide customer support and assistance</li>\n                <li>Invest in better technology and features</li>\n              </ul>\n            </CardContent>\n          </Card>\n\n          <Card className=\"glassmorphism border-white/10\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center space-x-3 text-white\">\n                <Link2 className=\"h-6 w-6 text-neon-mint\" />\n                <span>Which Links Are Affiliate Links?</span>\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"text-gray-300 space-y-4\">\n              <p>We work with affiliate networks and individual retailers, including:</p>\n              <ul className=\"list-disc list-inside space-y-2 ml-4\">\n                <li><strong>Commission Junction (CJ):</strong> Major brands and retailers</li>\n                <li><strong>ShareASale:</strong> Diverse range of merchants</li>\n                <li><strong>Impact.com:</strong> Enterprise-level partnerships</li>\n                <li><strong>Rakuten Advertising:</strong> Global retail partners</li>\n                <li><strong>Direct partnerships:</strong> Exclusive deals with specific brands</li>\n              </ul>\n              <p>\n                Most product links, \"Shop Now\" buttons, and activated coupon codes on our site contain affiliate tracking. \n                We clearly mark sponsored content when applicable.\n              </p>\n            </CardContent>\n          </Card>\n\n          <Card className=\"glassmorphism border-white/10\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center space-x-3 text-white\">\n                <Heart className=\"h-6 w-6 text-neon-mint\" />\n                <span>Our Editorial Promise</span>\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"text-gray-300 space-y-4\">\n              <p>Our affiliate partnerships do not influence our editorial decisions:</p>\n              <ul className=\"list-disc list-inside space-y-2 ml-4\">\n                <li>We only recommend products and deals we believe offer genuine value</li>\n                <li>Our reviews and comparisons are based on research and user feedback</li>\n                <li>We test coupon codes regularly to ensure they work</li>\n                <li>We don't promote deals just because they offer higher commissions</li>\n                <li>User experience and savings always come first</li>\n              </ul>\n            </CardContent>\n          </Card>\n\n          <Card className=\"glassmorphism border-white/10\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center space-x-3 text-white\">\n                <Shield className=\"h-6 w-6 text-neon-mint\" />\n                <span>Your Privacy</span>\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"text-gray-300 space-y-4\">\n              <p>Regarding tracking and privacy:</p>\n              <ul className=\"list-disc list-inside space-y-2 ml-4\">\n                <li>We use cookies to track affiliate referrals (standard practice)</li>\n                <li>This helps us receive proper credit for successful referrals</li>\n                <li>You can disable cookies in your browser if preferred</li>\n                <li>We don't share your personal information with affiliate partners</li>\n                <li>All tracking complies with privacy regulations</li>\n              </ul>\n              <p>\n                For more details about data handling, please read our <a href=\"/privacy\" className=\"text-neon-mint hover:underline\">Privacy Policy</a>.\n              </p>\n            </CardContent>\n          </Card>\n\n          <Card className=\"glassmorphism border-white/10\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center space-x-3 text-white\">\n                <Users className=\"h-6 w-6 text-neon-mint\" />\n                <span>FTC Compliance</span>\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"text-gray-300 space-y-4\">\n              <p>\n                We comply with Federal Trade Commission (FTC) guidelines regarding affiliate marketing disclosure. \n                This means we clearly identify our affiliate relationships and any compensation we receive.\n              </p>\n              <p>\n                As required by law, we want you to know that FairDealHub may receive financial compensation \n                for products purchased through links on our website.\n              </p>\n            </CardContent>\n          </Card>\n\n          <div className=\"bg-gradient-to-r from-neon-mint/10 to-neon-purple/10 rounded-lg p-6 border border-white/10\">\n            <h3 className=\"text-lg font-space font-semibold text-white mb-4\">Questions About Our Affiliate Program?</h3>\n            <p className=\"text-gray-300 mb-4\">\n              We believe in complete transparency. If you have any questions about our affiliate partnerships \n              or how we operate, please don't hesitate to reach out.\n            </p>\n            <div className=\"text-gray-400\">\n              <p>Email: affiliates@fairdealhub.com</p>\n              <p>Or use our <a href=\"/contact\" className=\"text-neon-mint hover:underline\">contact form</a></p>\n            </div>\n          </div>\n\n          <div className=\"text-center bg-white/5 rounded-lg p-6 border border-white/10\">\n            <h3 className=\"text-xl font-space font-semibold text-white mb-4\">Thank You for Supporting FairDealHub</h3>\n            <p className=\"text-gray-300\">\n              By using our platform and affiliate links, you help us continue providing free access to the best deals \n              and coupon codes. Every purchase you make through our links helps us serve you better.\n            </p>\n          </div>\n        </div>\n      </main>\n      \n      <Footer />\n    </div>\n  );\n}","size_bytes":8698},"client/src/pages/category.tsx":{"content":"import { useParams } from \"wouter\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport ProductCard from \"@/components/ProductCard\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { ArrowLeft, Filter } from \"lucide-react\";\nimport { Link } from \"wouter\";\n\ntype Category = {\n  id: string;\n  name: string;\n  slug: string;\n  description?: string;\n};\n\ntype Product = {\n  id: string;\n  title: string;\n  description: string;\n  currentPrice: number;\n  basePrice: number;\n  discount: number;\n  imageUrl: string;\n  merchantId: string;\n};\n\ntype ProductsResult = {\n  products: Product[];\n  total: number;\n};\n\nexport default function Category() {\n  const { slug } = useParams() as { slug: string };\n\n  const { data: category, isLoading: categoryLoading } = useQuery<Category>({\n    queryKey: [`/api/categories/${slug}`],\n    queryFn: async () => {\n      const response = await fetch(`/api/categories/${slug}`);\n      if (!response.ok) {\n        throw new Error('Failed to fetch category');\n      }\n      return response.json();\n    },\n  });\n\n  const { data: productsResult, isLoading: productsLoading } = useQuery<ProductsResult>({\n    queryKey: [`/api/products?categoryId=${category?.id}`],\n    queryFn: async () => {\n      if (!category?.id) return { products: [], total: 0 };\n      const response = await fetch(`/api/products?categoryId=${category.id}`);\n      if (!response.ok) {\n        throw new Error('Failed to fetch products');\n      }\n      return response.json();\n    },\n    enabled: !!category?.id,\n  });\n\n  if (categoryLoading) {\n    return (\n      <div className=\"min-h-screen text-white flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-neon-mint\"></div>\n      </div>\n    );\n  }\n\n  if (!category) {\n    return (\n      <div className=\"min-h-screen text-white\">\n        <Header />\n        <div className=\"max-w-4xl mx-auto px-4 py-20 text-center\">\n          <h1 className=\"text-3xl font-space font-bold mb-4\">Category Not Found</h1>\n          <p className=\"text-gray-300 mb-8\">The category you're looking for doesn't exist.</p>\n          <Link href=\"/\">\n            <Button className=\"gradient-primary text-dark-navy\">\n              <ArrowLeft className=\"mr-2 h-4 w-4\" />\n              Back to Home\n            </Button>\n          </Link>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  const products = productsResult?.products || [];\n\n  return (\n    <div className=\"min-h-screen text-white\">\n      <Header />\n\n      {/* Category Header */}\n      <section className=\"py-12 border-b border-white/10\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex items-center mb-6\">\n            <Link href=\"/\">\n              <Button variant=\"ghost\" size=\"sm\" className=\"text-gray-300 hover:text-white\">\n                <ArrowLeft className=\"mr-2 h-4 w-4\" />\n                Back\n              </Button>\n            </Link>\n          </div>\n          \n          <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center\">\n            <div>\n              <h1 className=\"text-4xl font-space font-bold mb-4\">{category.name}</h1>\n              <p className=\"text-gray-300\">\n                {products.length} deals available in {category.name}\n              </p>\n            </div>\n            \n            <div className=\"flex space-x-2 mt-4 sm:mt-0\">\n              <Button \n                size=\"sm\" \n                variant=\"outline\" \n                className=\"glassmorphism border-white/20 hover:bg-white/10\"\n              >\n                <Filter className=\"mr-2 h-4 w-4\" />\n                Filter\n              </Button>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* Products Grid */}\n      <section className=\"py-16\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          {productsLoading ? (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n              {Array.from({ length: 8 }).map((_, i) => (\n                <Card key={i} className=\"glassmorphism rounded-xl overflow-hidden border-white/10\">\n                  <div className=\"h-48 bg-gray-800/50 animate-pulse\" />\n                  <CardContent className=\"p-6\">\n                    <div className=\"space-y-3\">\n                      <div className=\"h-4 bg-gray-700 rounded animate-pulse\" />\n                      <div className=\"h-4 bg-gray-700 rounded w-3/4 animate-pulse\" />\n                      <div className=\"flex justify-between\">\n                        <div className=\"h-6 bg-gray-700 rounded w-16 animate-pulse\" />\n                        <div className=\"h-8 bg-gray-700 rounded w-20 animate-pulse\" />\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          ) : products.length > 0 ? (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n              {products.map((product: any) => (\n                <ProductCard key={product.id} product={product} />\n              ))}\n            </div>\n          ) : (\n            <div className=\"text-center py-20\">\n              <div className=\"w-24 h-24 mx-auto mb-6 rounded-full glassmorphism flex items-center justify-center\">\n                <Filter className=\"h-12 w-12 text-gray-400\" />\n              </div>\n              <h3 className=\"text-2xl font-space font-semibold mb-4\">No Deals Found</h3>\n              <p className=\"text-gray-300 mb-8 max-w-md mx-auto\">\n                We don't have any deals in this category yet. Check back soon for new offers!\n              </p>\n              <Link href=\"/\">\n                <Button className=\"gradient-primary text-dark-navy\">\n                  Browse All Categories\n                </Button>\n              </Link>\n            </div>\n          )}\n        </div>\n      </section>\n\n      <Footer />\n    </div>\n  );\n}\n","size_bytes":6124},"client/src/pages/contact.tsx":{"content":"import Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Card, CardHeader, CardTitle, CardContent } from \"@/components/ui/card\";\nimport { Mail, MessageCircle, Users, Globe } from \"lucide-react\";\n\nexport default function Contact() {\n  return (\n    <div className=\"min-h-screen bg-dark-navy\">\n      <Header />\n      \n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20\">\n        <div className=\"text-center mb-16\">\n          <h1 className=\"text-4xl md:text-6xl font-space font-bold mb-6\">\n            Get in <span className=\"text-neon-mint\">Touch</span>\n          </h1>\n          <p className=\"text-xl text-gray-400 max-w-3xl mx-auto\">\n            Have questions about deals, need technical support, or want to partner with us? \n            We're here to help you save more and discover better deals.\n          </p>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12\">\n          {/* Contact Form */}\n          <Card className=\"glassmorphism border-white/10\">\n            <CardHeader>\n              <CardTitle className=\"text-2xl font-space text-white\">Send us a Message</CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">First Name</label>\n                  <Input className=\"glassmorphism border-white/20\" placeholder=\"John\" />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">Last Name</label>\n                  <Input className=\"glassmorphism border-white/20\" placeholder=\"Doe\" />\n                </div>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">Email</label>\n                <Input className=\"glassmorphism border-white/20\" type=\"email\" placeholder=\"john@example.com\" />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">Subject</label>\n                <Input className=\"glassmorphism border-white/20\" placeholder=\"How can we help you?\" />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">Message</label>\n                <Textarea \n                  className=\"glassmorphism border-white/20 min-h-[120px]\" \n                  placeholder=\"Tell us about your question or feedback...\"\n                />\n              </div>\n              \n              <Button className=\"w-full gradient-primary text-dark-navy font-semibold\">\n                Send Message\n              </Button>\n            </CardContent>\n          </Card>\n\n          {/* Contact Information */}\n          <div className=\"space-y-8\">\n            <div>\n              <h3 className=\"text-2xl font-space font-bold text-white mb-6\">Other Ways to Reach Us</h3>\n              <div className=\"space-y-6\">\n                <div className=\"flex items-start space-x-4\">\n                  <div className=\"w-12 h-12 rounded-lg gradient-primary flex items-center justify-center flex-shrink-0\">\n                    <Mail className=\"text-dark-navy h-5 w-5\" />\n                  </div>\n                  <div>\n                    <h4 className=\"font-semibold text-white mb-1\">Email Support</h4>\n                    <p className=\"text-gray-400\">support@fairdealhub.com</p>\n                    <p className=\"text-sm text-gray-500\">We typically respond within 24 hours</p>\n                  </div>\n                </div>\n                \n                <div className=\"flex items-start space-x-4\">\n                  <div className=\"w-12 h-12 rounded-lg gradient-secondary flex items-center justify-center flex-shrink-0\">\n                    <MessageCircle className=\"text-dark-navy h-5 w-5\" />\n                  </div>\n                  <div>\n                    <h4 className=\"font-semibold text-white mb-1\">Live Chat</h4>\n                    <p className=\"text-gray-400\">Available 9 AM - 6 PM EST</p>\n                    <p className=\"text-sm text-gray-500\">Get instant help with your questions</p>\n                  </div>\n                </div>\n                \n                <div className=\"flex items-start space-x-4\">\n                  <div className=\"w-12 h-12 rounded-lg gradient-accent flex items-center justify-center flex-shrink-0\">\n                    <Users className=\"text-dark-navy h-5 w-5\" />\n                  </div>\n                  <div>\n                    <h4 className=\"font-semibold text-white mb-1\">Partner Inquiries</h4>\n                    <p className=\"text-gray-400\">partners@fairdealhub.com</p>\n                    <p className=\"text-sm text-gray-500\">For merchant and affiliate partnerships</p>\n                  </div>\n                </div>\n                \n                <div className=\"flex items-start space-x-4\">\n                  <div className=\"w-12 h-12 rounded-lg bg-white/10 flex items-center justify-center flex-shrink-0\">\n                    <Globe className=\"text-neon-mint h-5 w-5\" />\n                  </div>\n                  <div>\n                    <h4 className=\"font-semibold text-white mb-1\">Press & Media</h4>\n                    <p className=\"text-gray-400\">press@fairdealhub.com</p>\n                    <p className=\"text-sm text-gray-500\">Media inquiries and press releases</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <Card className=\"glassmorphism border-white/10\">\n              <CardContent className=\"p-6\">\n                <h4 className=\"font-space font-semibold text-white mb-4\">Frequently Asked Questions</h4>\n                <div className=\"space-y-4 text-sm\">\n                  <div>\n                    <p className=\"font-medium text-gray-300\">How do I submit a coupon code?</p>\n                    <p className=\"text-gray-400\">Use our merchant submission form or contact our support team.</p>\n                  </div>\n                  <div>\n                    <p className=\"font-medium text-gray-300\">Why isn't my coupon working?</p>\n                    <p className=\"text-gray-400\">Codes may have expired or have specific terms. Contact us for help.</p>\n                  </div>\n                  <div>\n                    <p className=\"font-medium text-gray-300\">Do you offer affiliate partnerships?</p>\n                    <p className=\"text-gray-400\">Yes! Reach out to our partnerships team for more information.</p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n      </main>\n      \n      <Footer />\n    </div>\n  );\n}","size_bytes":6973},"client/src/pages/home.tsx":{"content":"import { useQuery } from \"@tanstack/react-query\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport ProductCard from \"@/components/ProductCard\";\nimport CategoryCard from \"@/components/CategoryCard\";\nimport NewsletterSection from \"@/components/NewsletterSection\";\nimport PersonalizedRecommendations from \"@/components/PersonalizedRecommendations\";\nimport UserPreferencesSettings from \"@/components/UserPreferencesSettings\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Gift } from \"lucide-react\";\nimport { useAuth } from \"@/hooks/useAuth\";\n\nexport default function Home() {\n  const { user } = useAuth();\n\n  const { data: categories = [] } = useQuery({\n    queryKey: [\"/api/categories\"],\n  });\n\n  const { data: topDealsResult } = useQuery({\n    queryKey: [\"/api/products?sort=popular&limit=12\"],\n  });\n\n  const { data: randomSpecials = [] } = useQuery({\n    queryKey: [\"/api/products/random-specials?limit=8\"],\n  });\n\n  const topDeals = topDealsResult?.products || [];\n\n  return (\n    <div className=\"min-h-screen text-white\">\n      <Header />\n\n      {/* Hero Section */}\n      <section className=\"relative py-20 overflow-hidden\">\n        <div className=\"absolute inset-0 bg-gradient-to-r from-neon-mint/20 via-transparent to-neon-purple/20\"></div>\n        \n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative\">\n          <div className=\"text-center\">\n            <h1 className=\"text-4xl md:text-6xl font-space font-bold mb-6\">\n              Welcome Back to <span className=\"text-neon-mint\">Premium</span> Deals\n              <br />Save <span className=\"text-neon-purple\">Big</span> Today\n            </h1>\n            <p className=\"text-xl text-gray-300 mb-8 max-w-3xl mx-auto\">\n              Discover verified coupon codes and exclusive discounts from top brands. \n              Continue saving with our latest deals and exclusive offers.\n            </p>\n            \n            <div className=\"flex flex-col sm:flex-row gap-4 justify-center\">\n              <Button\n                size=\"lg\"\n                className=\"gradient-primary text-dark-navy font-semibold text-lg hover:shadow-lg hover:scale-105 transition-smooth neon-glow\"\n                onClick={() => {\n                  const element = document.getElementById('top-products');\n                  if (element) {\n                    element.scrollIntoView({ behavior: 'smooth' });\n                  }\n                }}\n              >\n                Browse New Deals\n              </Button>\n              <Button\n                size=\"lg\"\n                variant=\"outline\"\n                className=\"glassmorphism text-white border-white/20 hover:bg-white/10 font-semibold text-lg\"\n                onClick={() => {\n                  // Navigate to saved deals functionality\n                  const element = document.getElementById('saved-deals');\n                  if (element) {\n                    element.scrollIntoView({ behavior: 'smooth' });\n                  }\n                }}\n              >\n                My Saved Deals\n              </Button>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* Personalized Recommendations */}\n      <section className=\"py-16 bg-gradient-to-r from-dark-navy/50 to-dark-purple/50\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center mb-8\">\n            <div>\n              <h2 className=\"text-3xl font-space font-bold mb-2 text-white\">\n                Personalized for You\n              </h2>\n              <p className=\"text-gray-300\">\n                Deals tailored to your preferences and shopping habits\n              </p>\n            </div>\n            <UserPreferencesSettings />\n          </div>\n          \n          <PersonalizedRecommendations limit={6} showHeader={false} />\n        </div>\n      </section>\n\n      {/* Featured Categories */}\n      <section className=\"py-16\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center mb-12\">\n            <h2 className=\"text-3xl font-space font-bold mb-4\">Popular Categories</h2>\n            <p className=\"text-gray-300\">Find deals in your favorite shopping categories</p>\n          </div>\n\n          <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4\">\n            {categories.slice(0, 6).map((category: any) => (\n              <CategoryCard key={category.id} category={category} />\n            ))}\n          </div>\n        </div>\n      </section>\n\n      {/* Top Deals Section */}\n      <section className=\"py-16\" id=\"top-products\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex flex-col sm:flex-row justify-between items-center mb-12\">\n            <div>\n              <h2 className=\"text-3xl font-space font-bold mb-4\">Top Deals Right Now</h2>\n              <p className=\"text-gray-300\">Hand-picked deals that are trending today</p>\n            </div>\n            \n            <div className=\"flex space-x-2 mt-4 sm:mt-0\">\n              <Button \n                size=\"sm\" \n                className=\"bg-neon-mint text-dark-navy\"\n                onClick={() => {\n                  // Show all products filter\n                  console.log('Showing all products');\n                }}\n              >\n                All\n              </Button>\n              <Button \n                size=\"sm\" \n                variant=\"outline\" \n                className=\"glassmorphism border-white/20 hover:bg-white/10\"\n                onClick={() => {\n                  // Filter by new products\n                  console.log('Filtering by new products');\n                }}\n              >\n                New\n              </Button>\n              <Button \n                size=\"sm\" \n                variant=\"outline\" \n                className=\"glassmorphism border-white/20 hover:bg-white/10\"\n                onClick={() => {\n                  // Filter by popular products\n                  console.log('Filtering by popular products');\n                }}\n              >\n                Popular\n              </Button>\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n            {topDeals.map((product: any) => (\n              <ProductCard key={product.id} product={product} />\n            ))}\n          </div>\n\n          <div className=\"text-center mt-12\">\n            <Button \n              size=\"lg\"\n              variant=\"outline\" \n              className=\"glassmorphism text-white border-white/20 hover:bg-white/10 font-semibold\"\n              onClick={() => {\n                // Navigate to browsing page or show all products\n                window.location.href = '/?view=all';\n              }}\n            >\n              View All Deals â†’\n            </Button>\n          </div>\n        </div>\n      </section>\n\n      {/* Random Specials Section */}\n      <section className=\"py-16\" id=\"random-specials\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center mb-12\">\n            <h2 className=\"text-3xl font-space font-bold mb-4\">Random Specials</h2>\n            <p className=\"text-gray-300\">Surprise deals you might love</p>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n            {randomSpecials.map((product: any) => (\n              <ProductCard key={product.id} product={product} />\n            ))}\n          </div>\n        </div>\n      </section>\n\n      <NewsletterSection />\n      <Footer />\n    </div>\n  );\n}\n","size_bytes":7724},"client/src/pages/landing.tsx":{"content":"import { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Link } from \"wouter\";\nimport { Bolt, Search, ShoppingCart, Star, CheckCircle, Gift, Laptop, Shirt, Home, Dumbbell, Plane, UtensilsCrossed } from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { apiRequest } from \"@/lib/queryClient\";\n\nexport default function Landing() {\n  const [email, setEmail] = useState(\"\");\n  const { toast } = useToast();\n\n  const subscribeMutation = useMutation({\n    mutationFn: async (email: string) => {\n      return await apiRequest(\"POST\", \"/api/newsletter/subscribe\", { email });\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Success!\",\n        description: \"You've been subscribed to our newsletter.\",\n      });\n      setEmail(\"\");\n    },\n    onError: (error) => {\n      toast({\n        title: \"Error\",\n        description: \"Failed to subscribe. Please try again.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleNewsletterSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!email) return;\n    subscribeMutation.mutate(email);\n  };\n\n  return (\n    <div className=\"min-h-screen text-white\">\n      {/* Header */}\n      <header className=\"sticky top-0 z-50 glassmorphism-strong\">\n        <nav className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center h-16\">\n            {/* Logo */}\n            <div className=\"flex items-center space-x-2\">\n              <div className=\"w-10 h-10 rounded-lg gradient-primary flex items-center justify-center\">\n                <Bolt className=\"text-dark-navy text-lg\" />\n              </div>\n              <h1 className=\"text-xl font-space font-bold\">\n                Fair<span className=\"text-neon-mint\">Deal</span>Hub\n              </h1>\n            </div>\n\n            {/* Desktop Navigation */}\n            <div className=\"hidden lg:flex items-center space-x-8\">\n              <a \n                href=\"#featured-categories\"\n                className=\"text-gray-300 hover:text-neon-mint transition-smooth cursor-pointer\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  const element = document.getElementById('featured-categories');\n                  if (element) {\n                    element.scrollIntoView({ behavior: 'smooth' });\n                  }\n                }}\n              >\n                All Categories\n              </a>\n              <a \n                href=\"#top-products\" \n                className=\"text-gray-300 hover:text-neon-mint transition-smooth cursor-pointer\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  const element = document.getElementById('top-products');\n                  if (element) {\n                    element.scrollIntoView({ behavior: 'smooth' });\n                  }\n                }}\n              >\n                Top Products\n              </a>\n              <a \n                href=\"#random-specials\" \n                className=\"text-gray-300 hover:text-neon-mint transition-smooth cursor-pointer\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  const element = document.getElementById('random-specials');\n                  if (element) {\n                    element.scrollIntoView({ behavior: 'smooth' });\n                  }\n                }}\n              >\n                Random Specials\n              </a>\n            </div>\n\n            {/* Search Bar */}\n            <div className=\"flex-1 max-w-lg mx-8 relative\">\n              <div className=\"relative\">\n                <Input\n                  type=\"text\"\n                  placeholder=\"Search products, merchants, categories...\"\n                  className=\"w-full bg-white/5 border border-white/10 text-white placeholder-gray-400 focus:border-neon-mint\"\n                />\n                <Search className=\"absolute right-3 top-3 text-gray-400 h-4 w-4\" />\n              </div>\n            </div>\n\n            {/* User Actions */}\n            <div className=\"flex items-center space-x-4\">\n              <Button\n                onClick={() => window.location.href = \"/api/login\"}\n                className=\"gradient-primary text-dark-navy font-medium hover:shadow-lg hover:scale-105 transition-smooth\"\n              >\n                Sign In\n              </Button>\n            </div>\n          </div>\n        </nav>\n      </header>\n\n      {/* Hero Section */}\n      <section className=\"relative py-20 overflow-hidden\">\n        <div className=\"absolute inset-0 bg-gradient-to-r from-neon-mint/20 via-transparent to-neon-purple/20\"></div>\n        \n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative\">\n          <div className=\"text-center\">\n            <h1 className=\"text-4xl md:text-6xl font-space font-bold mb-6\">\n              Unlock <span className=\"text-neon-mint\">Premium</span> Deals\n              <br />Save <span className=\"text-neon-purple\">Big</span> Today\n            </h1>\n            <p className=\"text-xl text-gray-300 mb-8 max-w-3xl mx-auto\">\n              Discover verified coupon codes and exclusive discounts from top brands. \n              Join thousands saving up to 70% on their favorite products.\n            </p>\n            \n            <div className=\"flex flex-col sm:flex-row gap-4 justify-center\">\n              <Button\n                size=\"lg\"\n                className=\"gradient-primary text-dark-navy font-semibold text-lg hover:shadow-lg hover:scale-105 transition-smooth neon-glow\"\n                onClick={() => {\n                  // Navigate to login to access authenticated home page with deals\n                  window.location.href = \"/api/login\";\n                }}\n              >\n                Browse All Deals\n              </Button>\n              <Button\n                size=\"lg\"\n                variant=\"outline\"\n                className=\"glassmorphism text-white border-white/20 hover:bg-white/10 font-semibold text-lg\"\n                onClick={() => {\n                  const element = document.getElementById('how-it-works');\n                  if (element) {\n                    const targetPosition = element.offsetTop - 80; // Leave some space from top\n                    window.scrollTo({\n                      top: targetPosition,\n                      behavior: 'smooth'\n                    });\n                  }\n                }}\n              >\n                How It Works\n              </Button>\n            </div>\n\n            {/* Stats */}\n            <div className=\"grid grid-cols-3 gap-8 mt-16 max-w-2xl mx-auto\">\n              <div className=\"text-center\">\n                <div className=\"text-3xl font-space font-bold text-neon-mint\">12,847</div>\n                <div className=\"text-sm text-gray-400\">Active Deals</div>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-3xl font-space font-bold text-neon-purple\">$2.4M</div>\n                <div className=\"text-sm text-gray-400\">Total Saved</div>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-3xl font-space font-bold text-neon-pink\">50K+</div>\n                <div className=\"text-sm text-gray-400\">Happy Users</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* Featured Categories */}\n      <section id=\"featured-categories\" className=\"py-16\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center mb-12\">\n            <h2 className=\"text-3xl font-space font-bold mb-4\">Popular Categories</h2>\n            <p className=\"text-gray-300\">Find deals in your favorite shopping categories</p>\n          </div>\n\n          <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4\">\n            {[\n              { icon: Laptop, name: \"Electronics\", deals: \"2,340 deals\", slug: \"electronics\" },\n              { icon: Shirt, name: \"Fashion\", deals: \"1,890 deals\", slug: \"fashion\" },\n              { icon: Home, name: \"Home\", deals: \"1,456 deals\", slug: \"home\" },\n              { icon: Dumbbell, name: \"Sports\", deals: \"987 deals\", slug: \"sports\" },\n              { icon: Plane, name: \"Travel\", deals: \"654 deals\", slug: \"travel\" },\n              { icon: UtensilsCrossed, name: \"Food\", deals: \"432 deals\", slug: \"food\" },\n            ].map((category, index) => (\n              <Link key={index} href={`/category/${category.slug}`}>\n                <Card className=\"glassmorphism rounded-xl p-6 text-center hover:bg-white/10 transition-smooth cursor-pointer group border-white/10\">\n                  <CardContent className=\"p-0\">\n                    <div className=\"w-12 h-12 mx-auto mb-3 rounded-full gradient-primary flex items-center justify-center group-hover:scale-110 transition-smooth\">\n                      <category.icon className=\"text-dark-navy h-6 w-6\" />\n                    </div>\n                    <h3 className=\"font-space font-medium text-sm group-hover:text-neon-mint transition-smooth\">{category.name}</h3>\n                    <p className=\"text-xs text-gray-400 mt-1\">{category.deals}</p>\n                  </CardContent>\n                </Card>\n              </Link>\n            ))}\n          </div>\n        </div>\n      </section>\n\n      {/* How It Works Section */}\n      <section id=\"how-it-works\" className=\"py-16 bg-gradient-to-r from-dark-navy/50 to-dark-purple/50\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center mb-12\">\n            <h2 className=\"text-3xl font-space font-bold mb-4\">How It Works</h2>\n            <p className=\"text-gray-300 max-w-2xl mx-auto\">\n              Getting the best deals is simple with FairDealHub. Follow these easy steps to start saving today.\n            </p>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n            <div className=\"text-center\">\n              <div className=\"w-16 h-16 mx-auto mb-4 rounded-full gradient-primary flex items-center justify-center\">\n                <Search className=\"text-dark-navy h-8 w-8\" />\n              </div>\n              <h3 className=\"text-xl font-space font-semibold mb-3\">1. Browse Deals</h3>\n              <p className=\"text-gray-300\">\n                Explore thousands of verified deals across all major categories. Our AI generator automatically updates products with the best deals and working codes daily. Use our smart filters to find exactly what you need.\n              </p>\n            </div>\n            \n            <div className=\"text-center\">\n              <div className=\"w-16 h-16 mx-auto mb-4 rounded-full gradient-primary flex items-center justify-center\">\n                <CheckCircle className=\"text-dark-navy h-8 w-8\" />\n              </div>\n              <h3 className=\"text-xl font-space font-semibold mb-3\">2. Get Your Code</h3>\n              <p className=\"text-gray-300\">\n                Click on any deal to reveal the coupon code or activate the discount. All codes are tested and verified daily.\n              </p>\n            </div>\n            \n            <div className=\"text-center\">\n              <div className=\"w-16 h-16 mx-auto mb-4 rounded-full gradient-primary flex items-center justify-center\">\n                <ShoppingCart className=\"text-dark-navy h-8 w-8\" />\n              </div>\n              <h3 className=\"text-xl font-space font-semibold mb-3\">3. Shop & Save</h3>\n              <p className=\"text-gray-300\">\n                Complete your purchase on the merchant's website and enjoy your savings. Track your deals and get personalized recommendations.\n              </p>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* Top Deals Section */}\n      <section className=\"py-16\" id=\"top-products\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex flex-col sm:flex-row justify-between items-center mb-12\">\n            <div>\n              <h2 className=\"text-3xl font-space font-bold mb-4\">Top Deals Right Now</h2>\n              <p className=\"text-gray-300\">Hand-picked deals that are trending today</p>\n            </div>\n            \n            <div className=\"flex space-x-2 mt-4 sm:mt-0\">\n              <Button size=\"sm\" className=\"bg-neon-mint text-dark-navy\">All</Button>\n              <Button size=\"sm\" variant=\"outline\" className=\"glassmorphism border-white/20 hover:bg-white/10\">New</Button>\n              <Button size=\"sm\" variant=\"outline\" className=\"glassmorphism border-white/20 hover:bg-white/10\">Popular</Button>\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n            {/* Sample deal cards */}\n            {[\n              {\n                title: \"Sony WH-1000XM4 Wireless Noise Canceling Headphones\",\n                merchant: \"Amazon\",\n                discount: \"30% OFF\",\n                price: \"$248\",\n                originalPrice: \"$348\",\n                rating: \"4.8\",\n                image: \"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?auto=format&fit=crop&w=800&h=600\",\n              },\n              {\n                title: \"MacBook Air M2 - 13-inch Laptop\",\n                merchant: \"Apple\",\n                discount: \"25% OFF\",\n                price: \"$899\",\n                originalPrice: \"$1199\",\n                rating: \"4.9\",\n                image: \"https://images.unsplash.com/photo-1496181133206-80ce9b88a853?auto=format&fit=crop&w=800&h=600\",\n              },\n              {\n                title: \"Air Max 270 Running Shoes\",\n                merchant: \"Nike\",\n                discount: \"40% OFF\",\n                price: \"$89\",\n                originalPrice: \"$150\",\n                rating: \"4.7\",\n                image: \"https://images.unsplash.com/photo-1549298916-b41d501d3772?auto=format&fit=crop&w=800&h=600\",\n              },\n              {\n                title: \"Echo Dot (5th Gen) Smart Speaker\",\n                merchant: \"Amazon\",\n                discount: \"50% OFF\",\n                price: \"$24\",\n                originalPrice: \"$49\",\n                rating: \"4.6\",\n                image: \"https://images.unsplash.com/photo-1543512214-318c7553f230?auto=format&fit=crop&w=800&h=600\",\n              },\n            ].map((deal, index) => (\n              <Card key={index} className=\"glassmorphism rounded-xl overflow-hidden hover:bg-white/10 transition-smooth group cursor-pointer border-white/10 neon-glow\">\n                <div className=\"relative\">\n                  <img \n                    src={deal.image} \n                    alt={deal.title}\n                    className=\"w-full h-48 object-cover group-hover:scale-105 transition-smooth\" \n                  />\n                  \n                  <div className=\"absolute top-3 left-3 gradient-primary text-dark-navy px-3 py-1 rounded-full text-sm font-bold\">\n                    {deal.discount}\n                  </div>\n                  \n                  <div className=\"absolute top-3 right-3 bg-success/90 backdrop-blur-sm text-white px-2 py-1 rounded-full text-xs flex items-center\">\n                    <CheckCircle className=\"h-3 w-3 mr-1\" />\n                    Verified\n                  </div>\n                </div>\n                \n                <CardContent className=\"p-6\">\n                  <div className=\"flex items-center mb-2\">\n                    <div className=\"w-8 h-8 rounded-full bg-gray-600 mr-3 flex items-center justify-center\">\n                      <ShoppingCart className=\"h-4 w-4 text-orange-400\" />\n                    </div>\n                    <span className=\"text-sm text-gray-400\">{deal.merchant}</span>\n                  </div>\n                  \n                  <h3 className=\"font-space font-semibold text-lg mb-2 group-hover:text-neon-mint transition-smooth\">\n                    {deal.title}\n                  </h3>\n                  \n                  <div className=\"flex items-center justify-between mb-4\">\n                    <div className=\"flex items-center\">\n                      <span className=\"text-xl font-bold text-neon-mint\">{deal.price}</span>\n                      <span className=\"text-sm text-gray-400 line-through ml-2\">{deal.originalPrice}</span>\n                    </div>\n                    <div className=\"flex items-center text-yellow-400\">\n                      <Star className=\"h-3 w-3 fill-current\" />\n                      <span className=\"text-sm ml-1\">{deal.rating}</span>\n                    </div>\n                  </div>\n                  \n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center text-gray-400 text-sm\">\n                      <span>2h ago</span>\n                    </div>\n                    \n                    <Button size=\"sm\" className=\"gradient-primary text-dark-navy font-medium\">\n                      Get Deal\n                    </Button>\n                  </div>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n\n          <div className=\"text-center mt-12\">\n            <Button \n              size=\"lg\"\n              variant=\"outline\" \n              className=\"glassmorphism text-white border-white/20 hover:bg-white/10 font-semibold\"\n              onClick={() => {\n                // Navigate to login to access authenticated deals page\n                window.location.href = \"/api/login\";\n              }}\n            >\n              View All Deals â†’\n            </Button>\n          </div>\n        </div>\n      </section>\n\n      {/* Random Specials Section */}\n      <section id=\"random-specials\" className=\"py-16 bg-gradient-to-r from-dark-purple/30 to-dark-navy/30\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center mb-12\">\n            <h2 className=\"text-3xl font-space font-bold mb-4\">Random Specials</h2>\n            <p className=\"text-gray-300\">Surprise deals that change daily - limited time offers</p>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {/* Random special deals */}\n            {[\n              {\n                title: \"Instant Pot Pro 8-Quart Multi-Cooker\",\n                merchant: \"Target\",\n                discount: \"45% OFF\",\n                price: \"$109\",\n                originalPrice: \"$199\",\n                timeLeft: \"6h left\",\n                image: \"https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?auto=format&fit=crop&w=800&h=600\",\n              },\n              {\n                title: \"Samsung Galaxy Buds Pro Wireless Earbuds\",\n                merchant: \"Best Buy\",\n                discount: \"35% OFF\",\n                price: \"$129\",\n                originalPrice: \"$199\",\n                timeLeft: \"12h left\",\n                image: \"https://images.unsplash.com/photo-1590658268037-6bf12165a8df?auto=format&fit=crop&w=800&h=600\",\n              },\n              {\n                title: \"Adidas Ultraboost 22 Running Shoes\",\n                merchant: \"Adidas\",\n                discount: \"40% OFF\",\n                price: \"$108\",\n                originalPrice: \"$180\",\n                timeLeft: \"18h left\",\n                image: \"https://images.unsplash.com/photo-1542291026-7eec264c27ff?auto=format&fit=crop&w=800&h=600\",\n              }\n            ].map((deal, index) => (\n              <Card key={index} className=\"glassmorphism rounded-xl overflow-hidden hover:bg-white/10 transition-smooth group cursor-pointer border-white/10 neon-glow-pink relative\">\n                <div className=\"absolute top-3 right-3 bg-red-500/90 backdrop-blur-sm text-white px-3 py-1 rounded-full text-xs font-bold animate-pulse\">\n                  âš¡ {deal.timeLeft}\n                </div>\n                \n                <div className=\"relative\">\n                  <img \n                    src={deal.image} \n                    alt={deal.title}\n                    className=\"w-full h-48 object-cover group-hover:scale-105 transition-smooth\" \n                  />\n                  \n                  <div className=\"absolute top-3 left-3 gradient-secondary text-dark-navy px-3 py-1 rounded-full text-sm font-bold\">\n                    {deal.discount}\n                  </div>\n                </div>\n                \n                <CardContent className=\"p-6\">\n                  <div className=\"flex items-center mb-2\">\n                    <div className=\"w-8 h-8 rounded-full bg-gray-600 mr-3 flex items-center justify-center\">\n                      <ShoppingCart className=\"h-4 w-4 text-pink-400\" />\n                    </div>\n                    <span className=\"text-sm text-gray-400\">{deal.merchant}</span>\n                  </div>\n                  \n                  <h3 className=\"font-medium mb-3 text-sm group-hover:text-neon-mint transition-smooth line-clamp-2\">\n                    {deal.title}\n                  </h3>\n                  \n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center space-x-2\">\n                      <span className=\"text-xl font-bold text-neon-pink\">{deal.price}</span>\n                      <span className=\"text-sm text-gray-400 line-through\">{deal.originalPrice}</span>\n                    </div>\n                    \n                    <Button \n                      size=\"sm\" \n                      className=\"gradient-secondary text-dark-navy font-medium\"\n                      onClick={() => {\n                        // Navigate to login to access authenticated deals\n                        window.location.href = \"/api/login\";\n                      }}\n                    >\n                      Grab Now\n                    </Button>\n                  </div>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n\n          <div className=\"text-center mt-8\">\n            <p className=\"text-sm text-gray-400 mb-4\">â° These deals refresh every 24 hours</p>\n          </div>\n        </div>\n      </section>\n\n      {/* Newsletter Section */}\n      <section className=\"py-16\">\n        <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <Card className=\"glassmorphism-strong rounded-2xl p-8 md:p-12 text-center neon-glow-purple border-white/20\">\n            <CardContent className=\"p-0\">\n              <div className=\"mb-8\">\n                <div className=\"w-16 h-16 mx-auto mb-6 rounded-full gradient-secondary flex items-center justify-center\">\n                  <Gift className=\"text-dark-navy text-2xl h-8 w-8\" />\n                </div>\n                <h2 className=\"text-3xl font-space font-bold mb-4\">Never Miss a Deal</h2>\n                <p className=\"text-gray-300 text-lg max-w-2xl mx-auto\">\n                  Get exclusive coupon codes and the best deals delivered straight to your inbox. \n                  Join over 50,000 smart shoppers saving big every day.\n                </p>\n              </div>\n\n              <form className=\"flex flex-col sm:flex-row gap-4 max-w-lg mx-auto\" onSubmit={handleNewsletterSubmit}>\n                <Input\n                  type=\"email\"\n                  placeholder=\"Enter your email address\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  required\n                  className=\"flex-1 bg-white/10 border-white/20 text-white placeholder-gray-400 focus:border-neon-mint\"\n                />\n                <Button\n                  type=\"submit\"\n                  disabled={subscribeMutation.isPending}\n                  className=\"gradient-primary text-dark-navy font-semibold hover:shadow-lg hover:scale-105 transition-smooth\"\n                >\n                  {subscribeMutation.isPending ? \"Subscribing...\" : \"Subscribe\"}\n                </Button>\n              </form>\n\n              <p className=\"text-xs text-gray-400 mt-4\">\n                No spam, unsubscribe at any time. By subscribing, you agree to our Privacy Policy.\n              </p>\n            </CardContent>\n          </Card>\n        </div>\n      </section>\n\n      {/* Footer */}\n      <footer className=\"border-t border-white/10 mt-20\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\n            {/* Brand */}\n            <div className=\"col-span-1 md:col-span-2\">\n              <div className=\"flex items-center space-x-2 mb-4\">\n                <div className=\"w-10 h-10 rounded-lg gradient-primary flex items-center justify-center\">\n                  <Bolt className=\"text-dark-navy text-lg\" />\n                </div>\n                <h3 className=\"text-xl font-space font-bold\">\n                  Fair<span className=\"text-neon-mint\">Deal</span>Hub\n                </h3>\n              </div>\n              <p className=\"text-gray-400 mb-6 max-w-md\">\n                Your trusted source for verified coupon codes and exclusive deals. \n                Save money on your favorite brands with our constantly updated database \n                of promotional offers.\n              </p>\n            </div>\n\n            {/* Quick Links */}\n            <div>\n              <h4 className=\"font-space font-semibold text-white mb-4\">Quick Links</h4>\n              <ul className=\"space-y-2 text-gray-400\">\n                <li><a href=\"#categories\" className=\"hover:text-neon-mint transition-smooth\">All Categories</a></li>\n                <li><a href=\"#top-deals\" className=\"hover:text-neon-mint transition-smooth\">Top Deals</a></li>\n                <li><a href=\"#merchants\" className=\"hover:text-neon-mint transition-smooth\">Popular Merchants</a></li>\n                <li><a href=\"#blog\" className=\"hover:text-neon-mint transition-smooth\">Money Saving Tips</a></li>\n              </ul>\n            </div>\n\n            {/* Support */}\n            <div>\n              <h4 className=\"font-space font-semibold text-white mb-4\">Support</h4>\n              <ul className=\"space-y-2 text-gray-400\">\n                <li><a href=\"/about\" className=\"hover:text-neon-mint transition-smooth\">About Us</a></li>\n                <li><a href=\"/contact\" className=\"hover:text-neon-mint transition-smooth\">Contact</a></li>\n                <li><a href=\"/privacy\" className=\"hover:text-neon-mint transition-smooth\">Privacy Policy</a></li>\n                <li><a href=\"/terms\" className=\"hover:text-neon-mint transition-smooth\">Terms of Service</a></li>\n                <li><a href=\"/affiliate-disclosure\" className=\"hover:text-neon-mint transition-smooth\">Affiliate Disclosure</a></li>\n                <li><a href=\"https://stellarcdynamics.com\" target=\"_blank\" rel=\"noopener\" className=\"hover:text-neon-mint transition-smooth\">Stellar C Dynamics</a></li>\n              </ul>\n            </div>\n          </div>\n\n          <div className=\"border-t border-white/10 mt-12 pt-8 flex flex-col sm:flex-row justify-between items-center\">\n            <p className=\"text-gray-400 text-sm\">\n              Â© 2024 FairDealHub. All rights reserved.\n            </p>\n            <p className=\"text-gray-400 text-sm mt-4 sm:mt-0\">\n              Last updated: 2 hours ago\n            </p>\n          </div>\n        </div>\n      </footer>\n    </div>\n  );\n}\n","size_bytes":27511},"client/src/pages/merchant.tsx":{"content":"import { useParams } from \"wouter\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport ProductCard from \"@/components/ProductCard\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { ArrowLeft, ExternalLink, Shield, Star } from \"lucide-react\";\nimport { Link } from \"wouter\";\n\nexport default function Merchant() {\n  const { slug } = useParams() as { slug: string };\n\n  const { data: merchant, isLoading: merchantLoading } = useQuery({\n    queryKey: [\"/api/merchants\", slug],\n  });\n\n  const { data: productsResult, isLoading: productsLoading } = useQuery({\n    queryKey: [`/api/products?merchantId=${merchant?.id}`],\n    enabled: !!merchant?.id,\n  });\n\n  const { data: coupons = [] } = useQuery({\n    queryKey: [`/api/coupons?merchantId=${merchant?.id}&verified=true`],\n    enabled: !!merchant?.id,\n  });\n\n  if (merchantLoading) {\n    return (\n      <div className=\"min-h-screen text-white flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-neon-mint\"></div>\n      </div>\n    );\n  }\n\n  if (!merchant) {\n    return (\n      <div className=\"min-h-screen text-white\">\n        <Header />\n        <div className=\"max-w-4xl mx-auto px-4 py-20 text-center\">\n          <h1 className=\"text-3xl font-space font-bold mb-4\">Merchant Not Found</h1>\n          <p className=\"text-gray-300 mb-8\">The merchant you're looking for doesn't exist.</p>\n          <Link href=\"/\">\n            <Button className=\"gradient-primary text-dark-navy\">\n              <ArrowLeft className=\"mr-2 h-4 w-4\" />\n              Back to Home\n            </Button>\n          </Link>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  const products = productsResult?.products || [];\n\n  return (\n    <div className=\"min-h-screen text-white\">\n      <Header />\n\n      {/* Merchant Header */}\n      <section className=\"py-12 border-b border-white/10\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex items-center mb-6\">\n            <Link href=\"/\">\n              <Button variant=\"ghost\" size=\"sm\" className=\"text-gray-300 hover:text-white\">\n                <ArrowLeft className=\"mr-2 h-4 w-4\" />\n                Back\n              </Button>\n            </Link>\n          </div>\n          \n          <div className=\"flex flex-col sm:flex-row items-start sm:items-center gap-6\">\n            <div className=\"w-20 h-20 rounded-xl glassmorphism flex items-center justify-center\">\n              {merchant.logoUrl ? (\n                <img \n                  src={merchant.logoUrl} \n                  alt={merchant.name}\n                  className=\"w-12 h-12 object-contain\"\n                />\n              ) : (\n                <span className=\"text-2xl font-space font-bold text-neon-mint\">\n                  {merchant.name.charAt(0)}\n                </span>\n              )}\n            </div>\n            \n            <div className=\"flex-1\">\n              <div className=\"flex items-center gap-3 mb-2\">\n                <h1 className=\"text-4xl font-space font-bold\">{merchant.name}</h1>\n                {merchant.hasAffiliate && (\n                  <Badge className=\"bg-success text-white\">\n                    <Shield className=\"mr-1 h-3 w-3\" />\n                    Verified Partner\n                  </Badge>\n                )}\n              </div>\n              <p className=\"text-gray-300 mb-4\">{merchant.domain}</p>\n              <div className=\"flex items-center gap-4 text-sm text-gray-400\">\n                <span>{products.length} active deals</span>\n                <span>â€¢</span>\n                <span>{coupons.length} verified coupons</span>\n              </div>\n            </div>\n            \n            <Button \n              className=\"gradient-primary text-dark-navy font-semibold\"\n              onClick={() => window.open(`https://${merchant.domain}`, '_blank')}\n            >\n              Visit Store\n              <ExternalLink className=\"ml-2 h-4 w-4\" />\n            </Button>\n          </div>\n        </div>\n      </section>\n\n      {/* Active Coupons */}\n      {coupons.length > 0 && (\n        <section className=\"py-12 bg-white/5\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n            <h2 className=\"text-2xl font-space font-bold mb-6\">Active Coupon Codes</h2>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n              {coupons.slice(0, 6).map((coupon: any) => (\n                <Card key={coupon.id} className=\"glassmorphism border-white/10 hover:bg-white/10 transition-smooth\">\n                  <CardContent className=\"p-6\">\n                    <div className=\"flex justify-between items-start mb-4\">\n                      <div>\n                        <div className=\"flex items-center gap-2 mb-2\">\n                          <Badge className=\"bg-neon-mint text-dark-navy font-mono\">\n                            {coupon.code}\n                          </Badge>\n                          {coupon.verified && (\n                            <Badge variant=\"secondary\" className=\"bg-success text-white\">\n                              <Shield className=\"mr-1 h-3 w-3\" />\n                              Verified\n                            </Badge>\n                          )}\n                        </div>\n                        <p className=\"text-sm text-gray-300\">\n                          {coupon.discountType === 'percent' ? `${coupon.value}% OFF` :\n                           coupon.discountType === 'amount' ? `$${coupon.value} OFF` :\n                           coupon.discountType === 'free_ship' ? 'Free Shipping' : 'Buy One Get One'}\n                        </p>\n                      </div>\n                    </div>\n                    <Button \n                      size=\"sm\" \n                      className=\"w-full gradient-primary text-dark-navy font-medium\"\n                      onClick={() => {\n                        navigator.clipboard.writeText(coupon.code);\n                        // Handle click tracking here\n                      }}\n                    >\n                      Copy Code\n                    </Button>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          </div>\n        </section>\n      )}\n\n      {/* Products Grid */}\n      <section className=\"py-16\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <h2 className=\"text-2xl font-space font-bold mb-8\">{merchant.name} Deals</h2>\n          \n          {productsLoading ? (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n              {Array.from({ length: 8 }).map((_, i) => (\n                <Card key={i} className=\"glassmorphism rounded-xl overflow-hidden border-white/10\">\n                  <div className=\"h-48 bg-gray-800/50 animate-pulse\" />\n                  <CardContent className=\"p-6\">\n                    <div className=\"space-y-3\">\n                      <div className=\"h-4 bg-gray-700 rounded animate-pulse\" />\n                      <div className=\"h-4 bg-gray-700 rounded w-3/4 animate-pulse\" />\n                      <div className=\"flex justify-between\">\n                        <div className=\"h-6 bg-gray-700 rounded w-16 animate-pulse\" />\n                        <div className=\"h-8 bg-gray-700 rounded w-20 animate-pulse\" />\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          ) : products.length > 0 ? (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n              {products.map((product: any) => (\n                <ProductCard key={product.id} product={product} />\n              ))}\n            </div>\n          ) : (\n            <div className=\"text-center py-20\">\n              <div className=\"w-24 h-24 mx-auto mb-6 rounded-full glassmorphism flex items-center justify-center\">\n                <Star className=\"h-12 w-12 text-gray-400\" />\n              </div>\n              <h3 className=\"text-2xl font-space font-semibold mb-4\">No Deals Available</h3>\n              <p className=\"text-gray-300 mb-8 max-w-md mx-auto\">\n                We don't have any deals from {merchant.name} right now. Check back soon for new offers!\n              </p>\n              <Link href=\"/\">\n                <Button className=\"gradient-primary text-dark-navy\">\n                  Browse All Deals\n                </Button>\n              </Link>\n            </div>\n          )}\n        </div>\n      </section>\n\n      <Footer />\n    </div>\n  );\n}\n","size_bytes":8791},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":711},"client/src/pages/privacy.tsx":{"content":"import Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport { Card, CardHeader, CardTitle, CardContent } from \"@/components/ui/card\";\nimport { Shield, Eye, Lock, Users, Globe, Mail } from \"lucide-react\";\n\nexport default function Privacy() {\n  return (\n    <div className=\"min-h-screen bg-dark-navy\">\n      <Header />\n      \n      <main className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-20\">\n        <div className=\"text-center mb-16\">\n          <h1 className=\"text-4xl md:text-6xl font-space font-bold mb-6\">\n            Privacy <span className=\"text-neon-mint\">Policy</span>\n          </h1>\n          <p className=\"text-xl text-gray-400 max-w-3xl mx-auto\">\n            Your privacy is important to us. This policy explains how we collect, use, and protect your information.\n          </p>\n          <p className=\"text-sm text-gray-500 mt-4\">Last updated: December 2024</p>\n        </div>\n\n        <div className=\"space-y-8\">\n          <Card className=\"glassmorphism border-white/10\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center space-x-3 text-white\">\n                <Shield className=\"h-6 w-6 text-neon-mint\" />\n                <span>Information We Collect</span>\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"text-gray-300 space-y-4\">\n              <p>We collect information you provide directly to us, such as when you:</p>\n              <ul className=\"list-disc list-inside space-y-2 ml-4\">\n                <li>Create an account or subscribe to our newsletter</li>\n                <li>Search for deals or browse our platform</li>\n                <li>Contact us for support or feedback</li>\n                <li>Participate in promotions or surveys</li>\n              </ul>\n              <p>This may include your name, email address, and preferences for deals and categories.</p>\n            </CardContent>\n          </Card>\n\n          <Card className=\"glassmorphism border-white/10\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center space-x-3 text-white\">\n                <Eye className=\"h-6 w-6 text-neon-mint\" />\n                <span>How We Use Your Information</span>\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"text-gray-300 space-y-4\">\n              <p>We use the information we collect to:</p>\n              <ul className=\"list-disc list-inside space-y-2 ml-4\">\n                <li>Provide, maintain, and improve our services</li>\n                <li>Send you relevant deals and promotional content</li>\n                <li>Respond to your comments and questions</li>\n                <li>Analyze usage patterns to enhance user experience</li>\n                <li>Protect against fraud and abuse</li>\n              </ul>\n            </CardContent>\n          </Card>\n\n          <Card className=\"glassmorphism border-white/10\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center space-x-3 text-white\">\n                <Users className=\"h-6 w-6 text-neon-mint\" />\n                <span>Information Sharing</span>\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"text-gray-300 space-y-4\">\n              <p>We do not sell, trade, or rent your personal information to third parties. We may share information in these limited circumstances:</p>\n              <ul className=\"list-disc list-inside space-y-2 ml-4\">\n                <li>With affiliate partners when you click on deals (for commission tracking)</li>\n                <li>With service providers who help us operate our platform</li>\n                <li>When required by law or to protect our rights</li>\n                <li>In connection with a merger or acquisition (with notice)</li>\n              </ul>\n            </CardContent>\n          </Card>\n\n          <Card className=\"glassmorphism border-white/10\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center space-x-3 text-white\">\n                <Lock className=\"h-6 w-6 text-neon-mint\" />\n                <span>Data Security</span>\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"text-gray-300 space-y-4\">\n              <p>We implement appropriate security measures to protect your information, including:</p>\n              <ul className=\"list-disc list-inside space-y-2 ml-4\">\n                <li>Encryption of data in transit and at rest</li>\n                <li>Regular security audits and updates</li>\n                <li>Limited access to personal information</li>\n                <li>Secure authentication systems</li>\n              </ul>\n              <p>However, no method of transmission over the internet is 100% secure.</p>\n            </CardContent>\n          </Card>\n\n          <Card className=\"glassmorphism border-white/10\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center space-x-3 text-white\">\n                <Globe className=\"h-6 w-6 text-neon-mint\" />\n                <span>Cookies and Tracking</span>\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"text-gray-300 space-y-4\">\n              <p>We use cookies and similar technologies to:</p>\n              <ul className=\"list-disc list-inside space-y-2 ml-4\">\n                <li>Remember your preferences and settings</li>\n                <li>Analyze site traffic and usage patterns</li>\n                <li>Provide personalized content and recommendations</li>\n                <li>Track affiliate commissions and conversions</li>\n              </ul>\n              <p>You can control cookies through your browser settings.</p>\n            </CardContent>\n          </Card>\n\n          <Card className=\"glassmorphism border-white/10\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center space-x-3 text-white\">\n                <Mail className=\"h-6 w-6 text-neon-mint\" />\n                <span>Your Rights</span>\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"text-gray-300 space-y-4\">\n              <p>You have the right to:</p>\n              <ul className=\"list-disc list-inside space-y-2 ml-4\">\n                <li>Access and update your personal information</li>\n                <li>Unsubscribe from marketing communications</li>\n                <li>Request deletion of your account and data</li>\n                <li>Object to processing of your personal information</li>\n                <li>Receive a copy of your data in a portable format</li>\n              </ul>\n              <p>To exercise these rights, contact us at privacy@fairdealhub.com</p>\n            </CardContent>\n          </Card>\n\n          <div className=\"bg-white/5 rounded-lg p-6 border border-white/10\">\n            <h3 className=\"text-lg font-space font-semibold text-white mb-4\">Contact Us</h3>\n            <p className=\"text-gray-300 mb-4\">\n              If you have questions about this Privacy Policy, please contact us at:\n            </p>\n            <div className=\"text-gray-400\">\n              <p>Email: privacy@fairdealhub.com</p>\n              <p>Address: FairDealHub Privacy Team</p>\n            </div>\n          </div>\n        </div>\n      </main>\n      \n      <Footer />\n    </div>\n  );\n}","size_bytes":7326},"client/src/pages/product.tsx":{"content":"import { useParams } from \"wouter\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport ProductCard from \"@/components/ProductCard\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { ArrowLeft, ExternalLink, Shield, Star, Copy, Clock } from \"lucide-react\";\nimport { Link } from \"wouter\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest } from \"@/lib/queryClient\";\n\nexport default function Product() {\n  const { id } = useParams() as { id: string };\n  const { toast } = useToast();\n\n  const { data: product, isLoading: productLoading } = useQuery({\n    queryKey: [\"/api/products\", id],\n  });\n\n  const { data: coupons = [] } = useQuery({\n    queryKey: [`/api/coupons?productId=${id}`],\n    enabled: !!id,\n  });\n\n  const { data: relatedResult } = useQuery({\n    queryKey: [`/api/products?merchantId=${product?.merchantId}&limit=4`],\n    enabled: !!product?.merchantId,\n  });\n\n  const clickoutMutation = useMutation({\n    mutationFn: async (data: any) => {\n      return await apiRequest(\"POST\", \"/api/clickout\", data);\n    },\n    onSuccess: (response: any) => {\n      if (response.affiliateUrl) {\n        window.open(response.affiliateUrl, '_blank');\n      }\n    },\n    onError: () => {\n      toast({\n        title: \"Error\",\n        description: \"Failed to track click. Please try again.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleGetDeal = () => {\n    if (!product) return;\n    \n    clickoutMutation.mutate({\n      productId: product.id,\n      merchantId: product.merchantId,\n      utmSource: \"product_page\",\n      utmCampaign: \"get_deal\",\n    });\n  };\n\n  const handleCopyCode = (code: string, couponId: string) => {\n    navigator.clipboard.writeText(code).then(() => {\n      toast({\n        title: \"Copied!\",\n        description: `Coupon code ${code} copied to clipboard.`,\n      });\n      \n      // Track coupon click\n      clickoutMutation.mutate({\n        productId: id,\n        merchantId: product?.merchantId,\n        couponId,\n        utmSource: \"product_page\",\n        utmCampaign: \"coupon_copy\",\n      });\n    });\n  };\n\n  if (productLoading) {\n    return (\n      <div className=\"min-h-screen text-white flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-neon-mint\"></div>\n      </div>\n    );\n  }\n\n  if (!product) {\n    return (\n      <div className=\"min-h-screen text-white\">\n        <Header />\n        <div className=\"max-w-4xl mx-auto px-4 py-20 text-center\">\n          <h1 className=\"text-3xl font-space font-bold mb-4\">Product Not Found</h1>\n          <p className=\"text-gray-300 mb-8\">The product you're looking for doesn't exist.</p>\n          <Link href=\"/\">\n            <Button className=\"gradient-primary text-dark-navy\">\n              <ArrowLeft className=\"mr-2 h-4 w-4\" />\n              Back to Home\n            </Button>\n          </Link>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  const relatedProducts = relatedResult?.products?.filter((p: any) => p.id !== product.id) || [];\n\n  return (\n    <div className=\"min-h-screen text-white\">\n      <Header />\n\n      {/* Breadcrumb */}\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n        <Link href=\"/\">\n          <Button variant=\"ghost\" size=\"sm\" className=\"text-gray-300 hover:text-white\">\n            <ArrowLeft className=\"mr-2 h-4 w-4\" />\n            Back to Deals\n          </Button>\n        </Link>\n      </div>\n\n      {/* Product Details */}\n      <section className=\"py-8\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12\">\n            {/* Product Image */}\n            <div className=\"aspect-square rounded-2xl overflow-hidden glassmorphism\">\n              {product.imageMain ? (\n                <img\n                  src={product.imageMain}\n                  alt={product.title}\n                  className=\"w-full h-full object-cover\"\n                />\n              ) : (\n                <div className=\"w-full h-full flex items-center justify-center text-gray-400\">\n                  <div className=\"text-center\">\n                    <div className=\"w-24 h-24 mx-auto mb-4 rounded-full bg-gray-800 flex items-center justify-center\">\n                      <span className=\"text-3xl\">ðŸ“¦</span>\n                    </div>\n                    <p>No image available</p>\n                  </div>\n                </div>\n              )}\n            </div>\n\n            {/* Product Info */}\n            <div className=\"space-y-6\">\n              <div>\n                <div className=\"flex items-center gap-2 mb-4\">\n                  <Badge className=\"bg-gradient-primary text-dark-navy\">\n                    {product.ownedBySite ? \"Our Product\" : \"Partner Deal\"}\n                  </Badge>\n                  {product.rating && (\n                    <div className=\"flex items-center text-yellow-400\">\n                      <Star className=\"h-4 w-4 fill-current\" />\n                      <span className=\"ml-1 text-sm\">{product.rating}</span>\n                      {product.reviewCount && (\n                        <span className=\"text-gray-400 text-sm ml-2\">\n                          ({product.reviewCount} reviews)\n                        </span>\n                      )}\n                    </div>\n                  )}\n                </div>\n\n                <h1 className=\"text-3xl md:text-4xl font-space font-bold mb-4\">\n                  {product.title}\n                </h1>\n\n                {product.description && (\n                  <p className=\"text-gray-300 text-lg leading-relaxed\">\n                    {product.description}\n                  </p>\n                )}\n              </div>\n\n              {/* Price */}\n              {product.priceCents && (\n                <div className=\"flex items-center gap-4\">\n                  <span className=\"text-4xl font-space font-bold text-neon-mint\">\n                    ${(product.priceCents / 100).toFixed(2)}\n                  </span>\n                  <span className=\"text-sm text-gray-400\">\n                    {product.currency || 'USD'}\n                  </span>\n                </div>\n              )}\n\n              {/* Action Buttons */}\n              <div className=\"space-y-4\">\n                <Button\n                  size=\"lg\"\n                  className=\"w-full gradient-primary text-dark-navy font-semibold text-lg hover:shadow-lg hover:scale-105 transition-smooth\"\n                  onClick={handleGetDeal}\n                  disabled={clickoutMutation.isPending}\n                >\n                  {clickoutMutation.isPending ? (\n                    \"Loading...\"\n                  ) : (\n                    <>\n                      Get This Deal\n                      <ExternalLink className=\"ml-2 h-5 w-5\" />\n                    </>\n                  )}\n                </Button>\n\n                {!product.ownedBySite && (\n                  <p className=\"text-xs text-gray-400 text-center\">\n                    You'll be redirected to the merchant's website to complete your purchase.\n                  </p>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* Coupons Section */}\n      {coupons.length > 0 && (\n        <section className=\"py-12 bg-white/5\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n            <h2 className=\"text-2xl font-space font-bold mb-6\">Available Coupon Codes</h2>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              {coupons.map((coupon: any) => (\n                <Card key={coupon.id} className=\"glassmorphism border-white/10 hover:bg-white/10 transition-smooth\">\n                  <CardContent className=\"p-6\">\n                    <div className=\"flex justify-between items-start mb-4\">\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center gap-2 mb-2\">\n                          <Badge className=\"bg-neon-mint text-dark-navy font-mono text-lg px-3 py-1\">\n                            {coupon.code}\n                          </Badge>\n                          {coupon.verified && (\n                            <Badge variant=\"secondary\" className=\"bg-success text-white\">\n                              <Shield className=\"mr-1 h-3 w-3\" />\n                              Verified\n                            </Badge>\n                          )}\n                        </div>\n                        <p className=\"text-neon-mint font-semibold mb-2\">\n                          {coupon.discountType === 'percent' ? `${coupon.value}% OFF` :\n                           coupon.discountType === 'amount' ? `$${coupon.value} OFF` :\n                           coupon.discountType === 'free_ship' ? 'Free Shipping' : 'Buy One Get One'}\n                        </p>\n                        {coupon.minSpendCents && (\n                          <p className=\"text-sm text-gray-400\">\n                            Min. spend: ${(coupon.minSpendCents / 100).toFixed(2)}\n                          </p>\n                        )}\n                        {coupon.expiresAt && (\n                          <div className=\"flex items-center text-xs text-gray-400 mt-2\">\n                            <Clock className=\"mr-1 h-3 w-3\" />\n                            Expires: {new Date(coupon.expiresAt).toLocaleDateString()}\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                    <Button\n                      size=\"sm\"\n                      className=\"w-full gradient-primary text-dark-navy font-medium\"\n                      onClick={() => handleCopyCode(coupon.code, coupon.id)}\n                    >\n                      <Copy className=\"mr-2 h-4 w-4\" />\n                      Copy Code\n                    </Button>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          </div>\n        </section>\n      )}\n\n      {/* Related Products */}\n      {relatedProducts.length > 0 && (\n        <section className=\"py-16\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n            <h2 className=\"text-2xl font-space font-bold mb-8\">More from this Store</h2>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n              {relatedProducts.map((relatedProduct: any) => (\n                <ProductCard key={relatedProduct.id} product={relatedProduct} />\n              ))}\n            </div>\n          </div>\n        </section>\n      )}\n\n      <Footer />\n    </div>\n  );\n}\n","size_bytes":10820},"client/src/pages/terms.tsx":{"content":"import Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport { Card, CardHeader, CardTitle, CardContent } from \"@/components/ui/card\";\nimport { FileText, Scale, AlertTriangle, Users, Globe, Shield } from \"lucide-react\";\n\nexport default function Terms() {\n  return (\n    <div className=\"min-h-screen bg-dark-navy\">\n      <Header />\n      \n      <main className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-20\">\n        <div className=\"text-center mb-16\">\n          <h1 className=\"text-4xl md:text-6xl font-space font-bold mb-6\">\n            Terms of <span className=\"text-neon-mint\">Service</span>\n          </h1>\n          <p className=\"text-xl text-gray-400 max-w-3xl mx-auto\">\n            These terms govern your use of FairDealHub and our services. Please read them carefully.\n          </p>\n          <p className=\"text-sm text-gray-500 mt-4\">Last updated: December 2024</p>\n        </div>\n\n        <div className=\"space-y-8\">\n          <Card className=\"glassmorphism border-white/10\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center space-x-3 text-white\">\n                <FileText className=\"h-6 w-6 text-neon-mint\" />\n                <span>Acceptance of Terms</span>\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"text-gray-300 space-y-4\">\n              <p>\n                By accessing or using FairDealHub, you agree to be bound by these Terms of Service and our Privacy Policy. \n                If you do not agree to these terms, please do not use our services.\n              </p>\n              <p>\n                We reserve the right to modify these terms at any time. We will notify users of significant changes \n                via email or through our platform.\n              </p>\n            </CardContent>\n          </Card>\n\n          <Card className=\"glassmorphism border-white/10\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center space-x-3 text-white\">\n                <Users className=\"h-6 w-6 text-neon-mint\" />\n                <span>User Accounts</span>\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"text-gray-300 space-y-4\">\n              <p>When creating an account, you agree to:</p>\n              <ul className=\"list-disc list-inside space-y-2 ml-4\">\n                <li>Provide accurate and complete information</li>\n                <li>Maintain the security of your account credentials</li>\n                <li>Notify us immediately of any unauthorized access</li>\n                <li>Use your account only for lawful purposes</li>\n                <li>Not share your account with others</li>\n              </ul>\n              <p>You are responsible for all activities that occur under your account.</p>\n            </CardContent>\n          </Card>\n\n          <Card className=\"glassmorphism border-white/10\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center space-x-3 text-white\">\n                <Globe className=\"h-6 w-6 text-neon-mint\" />\n                <span>Use of Our Services</span>\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"text-gray-300 space-y-4\">\n              <p>You may use our services for personal, non-commercial purposes. You agree not to:</p>\n              <ul className=\"list-disc list-inside space-y-2 ml-4\">\n                <li>Use automated systems to access our platform without permission</li>\n                <li>Attempt to gain unauthorized access to our systems</li>\n                <li>Interfere with the proper functioning of our services</li>\n                <li>Upload malicious code or harmful content</li>\n                <li>Violate any applicable laws or regulations</li>\n                <li>Infringe on intellectual property rights</li>\n              </ul>\n            </CardContent>\n          </Card>\n\n          <Card className=\"glassmorphism border-white/10\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center space-x-3 text-white\">\n                <Scale className=\"h-6 w-6 text-neon-mint\" />\n                <span>Coupon Codes and Deals</span>\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"text-gray-300 space-y-4\">\n              <p>Regarding the deals and coupon codes on our platform:</p>\n              <ul className=\"list-disc list-inside space-y-2 ml-4\">\n                <li>We strive to provide accurate and up-to-date information</li>\n                <li>Coupon codes may expire or have specific terms and conditions</li>\n                <li>We are not responsible for merchant policies or changes</li>\n                <li>Some deals may earn us affiliate commissions</li>\n                <li>We do not guarantee that all codes will work</li>\n                <li>Merchants control their own promotions and terms</li>\n              </ul>\n            </CardContent>\n          </Card>\n\n          <Card className=\"glassmorphism border-white/10\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center space-x-3 text-white\">\n                <Shield className=\"h-6 w-6 text-neon-mint\" />\n                <span>Intellectual Property</span>\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"text-gray-300 space-y-4\">\n              <p>\n                The FairDealHub platform, including its design, functionality, and content, is owned by us and protected \n                by intellectual property laws. You may not:\n              </p>\n              <ul className=\"list-disc list-inside space-y-2 ml-4\">\n                <li>Copy, reproduce, or distribute our content without permission</li>\n                <li>Use our trademarks or logos without authorization</li>\n                <li>Create derivative works based on our platform</li>\n                <li>Reverse engineer or attempt to extract our source code</li>\n              </ul>\n            </CardContent>\n          </Card>\n\n          <Card className=\"glassmorphism border-white/10\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center space-x-3 text-white\">\n                <AlertTriangle className=\"h-6 w-6 text-neon-mint\" />\n                <span>Disclaimers and Limitations</span>\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"text-gray-300 space-y-4\">\n              <p>\n                Our services are provided \"as is\" without warranties of any kind. We disclaim all warranties, \n                express or implied, including but not limited to:\n              </p>\n              <ul className=\"list-disc list-inside space-y-2 ml-4\">\n                <li>Accuracy of deal information or coupon codes</li>\n                <li>Availability of deals or merchant websites</li>\n                <li>Uninterrupted or error-free service</li>\n                <li>Security against unauthorized access</li>\n              </ul>\n              <p>\n                Our liability is limited to the maximum extent permitted by law. We are not liable for indirect, \n                incidental, or consequential damages.\n              </p>\n            </CardContent>\n          </Card>\n\n          <div className=\"bg-white/5 rounded-lg p-6 border border-white/10\">\n            <h3 className=\"text-lg font-space font-semibold text-white mb-4\">Termination</h3>\n            <p className=\"text-gray-300 mb-4\">\n              We may terminate or suspend your account and access to our services at our discretion, including \n              for violations of these terms. You may also terminate your account at any time.\n            </p>\n            \n            <h3 className=\"text-lg font-space font-semibold text-white mb-4 mt-6\">Governing Law</h3>\n            <p className=\"text-gray-300 mb-4\">\n              These terms are governed by the laws of the jurisdiction where FairDealHub operates. \n              Any disputes will be resolved in the appropriate courts of that jurisdiction.\n            </p>\n\n            <h3 className=\"text-lg font-space font-semibold text-white mb-4 mt-6\">Contact Information</h3>\n            <p className=\"text-gray-300\">\n              For questions about these Terms of Service, contact us at legal@fairdealhub.com\n            </p>\n          </div>\n        </div>\n      </main>\n      \n      <Footer />\n    </div>\n  );\n}","size_bytes":8412},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","size_bytes":1977},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","size_bytes":4420},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","size_bytes":1584},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","size_bytes":140},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","size_bytes":1419},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n","size_bytes":1128},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","size_bytes":2712},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","size_bytes":1901},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","size_bytes":2695},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","size_bytes":1858},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","size_bytes":6210},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","size_bytes":10481},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","size_bytes":1056},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","size_bytes":329},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","size_bytes":4885},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","size_bytes":7428},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","size_bytes":3848},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","size_bytes":3021},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","size_bytes":7609},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","size_bytes":4120},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","size_bytes":1251},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","size_bytes":2154},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","size_bytes":791},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","size_bytes":710},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","size_bytes":8605},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","size_bytes":5128},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","size_bytes":2751},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","size_bytes":1280},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","size_bytes":791},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","size_bytes":1467},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","size_bytes":1723},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","size_bytes":1642},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","size_bytes":5742},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","size_bytes":756},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","size_bytes":4281},"client/src/components/ui/sidebar.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { VariantProps, cva } from \"class-variance-authority\"\nimport { PanelLeft } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nconst SidebarProvider = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    defaultOpen?: boolean\n    open?: boolean\n    onOpenChange?: (open: boolean) => void\n  }\n>(\n  (\n    {\n      defaultOpen = true,\n      open: openProp,\n      onOpenChange: setOpenProp,\n      className,\n      style,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const isMobile = useIsMobile()\n    const [openMobile, setOpenMobile] = React.useState(false)\n\n    // This is the internal state of the sidebar.\n    // We use openProp and setOpenProp for control from outside the component.\n    const [_open, _setOpen] = React.useState(defaultOpen)\n    const open = openProp ?? _open\n    const setOpen = React.useCallback(\n      (value: boolean | ((value: boolean) => boolean)) => {\n        const openState = typeof value === \"function\" ? value(open) : value\n        if (setOpenProp) {\n          setOpenProp(openState)\n        } else {\n          _setOpen(openState)\n        }\n\n        // This sets the cookie to keep the sidebar state.\n        document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n      },\n      [setOpenProp, open]\n    )\n\n    // Helper to toggle the sidebar.\n    const toggleSidebar = React.useCallback(() => {\n      return isMobile\n        ? setOpenMobile((open) => !open)\n        : setOpen((open) => !open)\n    }, [isMobile, setOpen, setOpenMobile])\n\n    // Adds a keyboard shortcut to toggle the sidebar.\n    React.useEffect(() => {\n      const handleKeyDown = (event: KeyboardEvent) => {\n        if (\n          event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n          (event.metaKey || event.ctrlKey)\n        ) {\n          event.preventDefault()\n          toggleSidebar()\n        }\n      }\n\n      window.addEventListener(\"keydown\", handleKeyDown)\n      return () => window.removeEventListener(\"keydown\", handleKeyDown)\n    }, [toggleSidebar])\n\n    // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n    // This makes it easier to style the sidebar with Tailwind classes.\n    const state = open ? \"expanded\" : \"collapsed\"\n\n    const contextValue = React.useMemo<SidebarContextProps>(\n      () => ({\n        state,\n        open,\n        setOpen,\n        isMobile,\n        openMobile,\n        setOpenMobile,\n        toggleSidebar,\n      }),\n      [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n    )\n\n    return (\n      <SidebarContext.Provider value={contextValue}>\n        <TooltipProvider delayDuration={0}>\n          <div\n            style={\n              {\n                \"--sidebar-width\": SIDEBAR_WIDTH,\n                \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n                ...style,\n              } as React.CSSProperties\n            }\n            className={cn(\n              \"group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar\",\n              className\n            )}\n            ref={ref}\n            {...props}\n          >\n            {children}\n          </div>\n        </TooltipProvider>\n      </SidebarContext.Provider>\n    )\n  }\n)\nSidebarProvider.displayName = \"SidebarProvider\"\n\nconst Sidebar = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    side?: \"left\" | \"right\"\n    variant?: \"sidebar\" | \"floating\" | \"inset\"\n    collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n  }\n>(\n  (\n    {\n      side = \"left\",\n      variant = \"sidebar\",\n      collapsible = \"offcanvas\",\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n    if (collapsible === \"none\") {\n      return (\n        <div\n          className={cn(\n            \"flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground\",\n            className\n          )}\n          ref={ref}\n          {...props}\n        >\n          {children}\n        </div>\n      )\n    }\n\n    if (isMobile) {\n      return (\n        <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n          <SheetContent\n            data-sidebar=\"sidebar\"\n            data-mobile=\"true\"\n            className=\"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden\"\n            style={\n              {\n                \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n              } as React.CSSProperties\n            }\n            side={side}\n          >\n            <SheetHeader className=\"sr-only\">\n              <SheetTitle>Sidebar</SheetTitle>\n              <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n            </SheetHeader>\n            <div className=\"flex h-full w-full flex-col\">{children}</div>\n          </SheetContent>\n        </Sheet>\n      )\n    }\n\n    return (\n      <div\n        ref={ref}\n        className=\"group peer hidden text-sidebar-foreground md:block\"\n        data-state={state}\n        data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n        data-variant={variant}\n        data-side={side}\n      >\n        {/* This is what handles the sidebar gap on desktop */}\n        <div\n          className={cn(\n            \"relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear\",\n            \"group-data-[collapsible=offcanvas]:w-0\",\n            \"group-data-[side=right]:rotate-180\",\n            variant === \"floating\" || variant === \"inset\"\n              ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]\"\n              : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon]\"\n          )}\n        />\n        <div\n          className={cn(\n            \"fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex\",\n            side === \"left\"\n              ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n              : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n            // Adjust the padding for floating and inset variants.\n            variant === \"floating\" || variant === \"inset\"\n              ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]\"\n              : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n            className\n          )}\n          {...props}\n        >\n          <div\n            data-sidebar=\"sidebar\"\n            className=\"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow\"\n          >\n            {children}\n          </div>\n        </div>\n      </div>\n    )\n  }\n)\nSidebar.displayName = \"Sidebar\"\n\nconst SidebarTrigger = React.forwardRef<\n  React.ElementRef<typeof Button>,\n  React.ComponentProps<typeof Button>\n>(({ className, onClick, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      ref={ref}\n      data-sidebar=\"trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeft />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n})\nSidebarTrigger.displayName = \"SidebarTrigger\"\n\nconst SidebarRail = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\">\n>(({ className, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <button\n      ref={ref}\n      data-sidebar=\"rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex\",\n        \"[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarRail.displayName = \"SidebarRail\"\n\nconst SidebarInset = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"main\">\n>(({ className, ...props }, ref) => {\n  return (\n    <main\n      ref={ref}\n      className={cn(\n        \"relative flex w-full flex-1 flex-col bg-background\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarInset.displayName = \"SidebarInset\"\n\nconst SidebarInput = React.forwardRef<\n  React.ElementRef<typeof Input>,\n  React.ComponentProps<typeof Input>\n>(({ className, ...props }, ref) => {\n  return (\n    <Input\n      ref={ref}\n      data-sidebar=\"input\"\n      className={cn(\n        \"h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarInput.displayName = \"SidebarInput\"\n\nconst SidebarHeader = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarHeader.displayName = \"SidebarHeader\"\n\nconst SidebarFooter = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarFooter.displayName = \"SidebarFooter\"\n\nconst SidebarSeparator = React.forwardRef<\n  React.ElementRef<typeof Separator>,\n  React.ComponentProps<typeof Separator>\n>(({ className, ...props }, ref) => {\n  return (\n    <Separator\n      ref={ref}\n      data-sidebar=\"separator\"\n      className={cn(\"mx-2 w-auto bg-sidebar-border\", className)}\n      {...props}\n    />\n  )\n})\nSidebarSeparator.displayName = \"SidebarSeparator\"\n\nconst SidebarContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarContent.displayName = \"SidebarContent\"\n\nconst SidebarGroup = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarGroup.displayName = \"SidebarGroup\"\n\nconst SidebarGroupLabel = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarGroupLabel.displayName = \"SidebarGroupLabel\"\n\nconst SidebarGroupAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarGroupAction.displayName = \"SidebarGroupAction\"\n\nconst SidebarGroupContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"group-content\"\n    className={cn(\"w-full text-sm\", className)}\n    {...props}\n  />\n))\nSidebarGroupContent.displayName = \"SidebarGroupContent\"\n\nconst SidebarMenu = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu\"\n    className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n    {...props}\n  />\n))\nSidebarMenu.displayName = \"SidebarMenu\"\n\nconst SidebarMenuItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    data-sidebar=\"menu-item\"\n    className={cn(\"group/menu-item relative\", className)}\n    {...props}\n  />\n))\nSidebarMenuItem.displayName = \"SidebarMenuItem\"\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:!p-0\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst SidebarMenuButton = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean\n    isActive?: boolean\n    tooltip?: string | React.ComponentProps<typeof TooltipContent>\n  } & VariantProps<typeof sidebarMenuButtonVariants>\n>(\n  (\n    {\n      asChild = false,\n      isActive = false,\n      variant = \"default\",\n      size = \"default\",\n      tooltip,\n      className,\n      ...props\n    },\n    ref\n  ) => {\n    const Comp = asChild ? Slot : \"button\"\n    const { isMobile, state } = useSidebar()\n\n    const button = (\n      <Comp\n        ref={ref}\n        data-sidebar=\"menu-button\"\n        data-size={size}\n        data-active={isActive}\n        className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n        {...props}\n      />\n    )\n\n    if (!tooltip) {\n      return button\n    }\n\n    if (typeof tooltip === \"string\") {\n      tooltip = {\n        children: tooltip,\n      }\n    }\n\n    return (\n      <Tooltip>\n        <TooltipTrigger asChild>{button}</TooltipTrigger>\n        <TooltipContent\n          side=\"right\"\n          align=\"center\"\n          hidden={state !== \"collapsed\" || isMobile}\n          {...tooltip}\n        />\n      </Tooltip>\n    )\n  }\n)\nSidebarMenuButton.displayName = \"SidebarMenuButton\"\n\nconst SidebarMenuAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean\n    showOnHover?: boolean\n  }\n>(({ className, asChild = false, showOnHover = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarMenuAction.displayName = \"SidebarMenuAction\"\n\nconst SidebarMenuBadge = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"menu-badge\"\n    className={cn(\n      \"pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground\",\n      \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n      \"peer-data-[size=sm]/menu-button:top-1\",\n      \"peer-data-[size=default]/menu-button:top-1.5\",\n      \"peer-data-[size=lg]/menu-button:top-2.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className\n    )}\n    {...props}\n  />\n))\nSidebarMenuBadge.displayName = \"SidebarMenuBadge\"\n\nconst SidebarMenuSkeleton = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    showIcon?: boolean\n  }\n>(({ className, showIcon = false, ...props }, ref) => {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[--skeleton-width] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n})\nSidebarMenuSkeleton.displayName = \"SidebarMenuSkeleton\"\n\nconst SidebarMenuSub = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu-sub\"\n    className={cn(\n      \"mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className\n    )}\n    {...props}\n  />\n))\nSidebarMenuSub.displayName = \"SidebarMenuSub\"\n\nconst SidebarMenuSubItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ ...props }, ref) => <li ref={ref} {...props} />)\nSidebarMenuSubItem.displayName = \"SidebarMenuSubItem\"\n\nconst SidebarMenuSubButton = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentProps<\"a\"> & {\n    asChild?: boolean\n    size?: \"sm\" | \"md\"\n    isActive?: boolean\n  }\n>(({ asChild = false, size = \"md\", isActive, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarMenuSubButton.displayName = \"SidebarMenuSubButton\"\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","size_bytes":23567},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","size_bytes":261},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","size_bytes":1077},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","size_bytes":1139},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","size_bytes":2765},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","size_bytes":1883},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","size_bytes":689},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","size_bytes":4845},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","size_bytes":772},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","size_bytes":1753},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","size_bytes":1527},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","size_bytes":1209},"client/src/components/AdminLogin.tsx":{"content":"import { useState } from \"react\";\nimport { useMutation, useQuery } from \"@tanstack/react-query\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\nimport { Eye, EyeOff, Shield, Lock } from \"lucide-react\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ninterface AdminLoginProps {\n  onLoginSuccess: (csrfToken: string) => void;\n}\n\nexport default function AdminLogin({ onLoginSuccess }: AdminLoginProps) {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [showPassword, setShowPassword] = useState(false);\n  const { toast } = useToast();\n\n  const loginMutation = useMutation({\n    mutationFn: async (credentials: { username: string; password: string }) => {\n      return await apiRequest(\"POST\", \"/api/admin/login\", credentials);\n    },\n    onSuccess: (data) => {\n      toast({\n        title: \"Login Successful\",\n        description: \"Welcome to the admin panel.\",\n      });\n      onLoginSuccess(data.csrfToken);\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/status\"] });\n    },\n    onError: (error: any) => {\n      let message = \"Login failed. Please try again.\";\n      if (error.message.includes(\"429\")) {\n        message = \"Too many failed attempts. Please try again later.\";\n      } else if (error.message.includes(\"Invalid credentials\")) {\n        message = \"Invalid username or password.\";\n      }\n      \n      toast({\n        title: \"Login Failed\",\n        description: message,\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!username.trim() || !password.trim()) {\n      toast({\n        title: \"Missing Information\",\n        description: \"Please enter both username and password.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n    \n    loginMutation.mutate({ username: username.trim(), password });\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-dark-navy via-dark-purple to-dark-navy flex items-center justify-center p-4\">\n      <Card className=\"w-full max-w-md border-neon-blue/20 bg-dark-navy/50 backdrop-blur-lg\">\n        <CardHeader className=\"text-center\">\n          <div className=\"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-r from-neon-blue to-neon-purple\">\n            <Shield className=\"h-8 w-8 text-white\" />\n          </div>\n          <CardTitle className=\"text-2xl font-space text-white\">Admin Login</CardTitle>\n          <p className=\"text-gray-400\">Secure access to FairDealHub administration</p>\n        </CardHeader>\n        \n        <CardContent>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"username\" className=\"text-white\">Username</Label>\n              <Input\n                id=\"username\"\n                type=\"text\"\n                value={username}\n                onChange={(e) => setUsername(e.target.value)}\n                className=\"bg-dark-purple/30 border-neon-blue/30 text-white placeholder:text-gray-400 focus:border-neon-blue\"\n                placeholder=\"Enter admin username\"\n                disabled={loginMutation.isPending}\n                autoComplete=\"username\"\n              />\n            </div>\n            \n            <div className=\"space-y-2\">\n              <Label htmlFor=\"password\" className=\"text-white\">Password</Label>\n              <div className=\"relative\">\n                <Input\n                  id=\"password\"\n                  type={showPassword ? \"text\" : \"password\"}\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  className=\"bg-dark-purple/30 border-neon-blue/30 text-white placeholder:text-gray-400 focus:border-neon-blue pr-10\"\n                  placeholder=\"Enter admin password\"\n                  disabled={loginMutation.isPending}\n                  autoComplete=\"current-password\"\n                />\n                <Button\n                  type=\"button\"\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  className=\"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent text-gray-400 hover:text-white\"\n                  onClick={() => setShowPassword(!showPassword)}\n                  disabled={loginMutation.isPending}\n                >\n                  {showPassword ? (\n                    <EyeOff className=\"h-4 w-4\" />\n                  ) : (\n                    <Eye className=\"h-4 w-4\" />\n                  )}\n                </Button>\n              </div>\n            </div>\n\n            {loginMutation.error && (\n              <Alert className=\"border-red-500/50 bg-red-500/10\">\n                <Lock className=\"h-4 w-4\" />\n                <AlertDescription className=\"text-red-300\">\n                  {loginMutation.error.message.includes(\"429\") \n                    ? \"Too many failed attempts. Account temporarily locked.\"\n                    : \"Invalid credentials. Please check your username and password.\"\n                  }\n                </AlertDescription>\n              </Alert>\n            )}\n\n            <Button\n              type=\"submit\"\n              className=\"w-full gradient-primary text-dark-navy font-semibold\"\n              disabled={loginMutation.isPending || !username.trim() || !password.trim()}\n            >\n              {loginMutation.isPending ? (\n                <div className=\"flex items-center\">\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-dark-navy mr-2\"></div>\n                  Authenticating...\n                </div>\n              ) : (\n                \"Sign In\"\n              )}\n            </Button>\n          </form>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}","size_bytes":6078},"client/src/hooks/useAdminAuth.ts":{"content":"import { useState, useEffect } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\n\ninterface AdminAuthStatus {\n  authenticated: boolean;\n  csrfToken?: string;\n  loginTime?: number;\n  reason?: string;\n}\n\nexport function useAdminAuth() {\n  const [csrfToken, setCsrfToken] = useState<string | null>(null);\n\n  const { data: authStatus, isLoading } = useQuery<AdminAuthStatus>({\n    queryKey: [\"/api/admin/status\"],\n    refetchInterval: 5 * 60 * 1000, // Check every 5 minutes\n    retry: false,\n  });\n\n  const logoutMutation = useMutation({\n    mutationFn: async () => {\n      return await apiRequest(\"POST\", \"/api/admin/logout\", {});\n    },\n    onSuccess: () => {\n      setCsrfToken(null);\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/status\"] });\n    },\n  });\n\n  useEffect(() => {\n    if (authStatus?.authenticated && authStatus.csrfToken) {\n      setCsrfToken(authStatus.csrfToken);\n    } else {\n      setCsrfToken(null);\n    }\n  }, [authStatus]);\n\n  return {\n    isAuthenticated: authStatus?.authenticated || false,\n    isLoading,\n    csrfToken,\n    loginTime: authStatus?.loginTime,\n    logout: () => logoutMutation.mutate(),\n    isLoggingOut: logoutMutation.isPending,\n    setCsrfToken, // For setting token after login\n  };\n}\n\n// Helper hook for making authenticated admin requests with CSRF\nexport function useAdminRequest() {\n  const { csrfToken } = useAdminAuth();\n\n  return {\n    adminRequest: async (method: string, url: string, data?: any) => {\n      const headers: Record<string, string> = {\n        'Content-Type': 'application/json',\n      };\n\n      if (csrfToken && (method !== 'GET')) {\n        headers['X-CSRF-Token'] = csrfToken;\n      }\n\n      const response = await fetch(url, {\n        method,\n        headers,\n        body: data ? JSON.stringify(data) : undefined,\n        credentials: 'include',\n      });\n\n      if (!response.ok) {\n        const errorText = await response.text();\n        throw new Error(`${response.status}: ${errorText}`);\n      }\n\n      return response.json();\n    },\n    csrfToken,\n  };\n}","size_bytes":2133},"client/src/pages/admin-secure.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useAdminAuth } from \"@/hooks/useAdminAuth\";\nimport AdminLogin from \"@/components/AdminLogin\";\nimport AdminSidebar from \"@/components/AdminSidebar\";\nimport AdminDashboard from \"@/components/AdminDashboard\";\nimport { Button } from \"@/components/ui/button\";\nimport { LogOut, User, Clock } from \"lucide-react\";\n\nexport default function AdminSecure() {\n  const { isAuthenticated, isLoading, logout, isLoggingOut, setCsrfToken, loginTime } = useAdminAuth();\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n\n  // Show login screen if not authenticated\n  if (!isAuthenticated && !isLoading) {\n    return (\n      <AdminLogin \n        onLoginSuccess={(csrfToken) => {\n          setCsrfToken(csrfToken);\n        }} \n      />\n    );\n  }\n\n  // Show loading while checking auth status\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-dark-navy via-dark-purple to-dark-navy flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-16 w-16 border-b-2 border-neon-mint mx-auto mb-4\"></div>\n          <p className=\"text-white text-lg\">Verifying authentication...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Format login time\n  const formatLoginTime = (timestamp?: number) => {\n    if (!timestamp) return \"Unknown\";\n    const date = new Date(timestamp);\n    return date.toLocaleString();\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-dark-navy via-dark-purple to-dark-navy\">\n      {/* Admin Header */}\n      <header className=\"bg-dark-navy/50 backdrop-blur-lg border-b border-neon-blue/20\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center h-16\">\n            <div className=\"flex items-center space-x-4\">\n              <h1 className=\"text-xl font-space font-bold text-white\">\n                FairDealHub Admin\n              </h1>\n              <div className=\"hidden sm:flex items-center text-sm text-gray-400\">\n                <Clock className=\"h-4 w-4 mr-1\" />\n                <span>Logged in: {formatLoginTime(loginTime)}</span>\n              </div>\n            </div>\n\n            <div className=\"flex items-center space-x-4\">\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"text-gray-400 hover:text-white\"\n                onClick={() => setSidebarOpen(true)}\n              >\n                <User className=\"h-4 w-4 mr-2\" />\n                Menu\n              </Button>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"text-red-400 hover:text-red-300\"\n                onClick={logout}\n                disabled={isLoggingOut}\n              >\n                <LogOut className=\"h-4 w-4 mr-2\" />\n                {isLoggingOut ? \"Logging out...\" : \"Logout\"}\n              </Button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Admin Content */}\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <AdminDashboard />\n      </main>\n\n      {/* Admin Sidebar */}\n      <AdminSidebar \n        isOpen={sidebarOpen} \n        onClose={() => setSidebarOpen(false)} \n      />\n    </div>\n  );\n}","size_bytes":3322},"server/adminAuth.ts":{"content":"import bcrypt from 'bcrypt';\nimport crypto from 'crypto';\nimport type { Express, Request, Response, NextFunction } from 'express';\n\n// Admin session interface\ninterface AdminSession {\n  isAdminAuthenticated: boolean;\n  adminLoginTime: number;\n  csrfToken: string;\n  loginAttempts: number;\n  lastAttempt: number;\n  lockedUntil?: number;\n}\n\n// Audit log interface\ninterface AuditLog {\n  timestamp: string;\n  ip: string;\n  userAgent: string;\n  action: string;\n  details: any;\n  success: boolean;\n}\n\n// In-memory store for audit logs (in production, use database)\nconst auditLogs: AuditLog[] = [];\n\n// Failed login tracking\nconst loginAttempts = new Map<string, { count: number; lastAttempt: number; lockedUntil?: number }>();\n\n// Rate limiting constants\nconst MAX_LOGIN_ATTEMPTS = 5;\nconst LOCKOUT_TIME = 15 * 60 * 1000; // 15 minutes\nconst ATTEMPT_WINDOW = 60 * 1000; // 1 minute\n\n// Generate CSRF token\nfunction generateCSRFToken(): string {\n  return crypto.randomBytes(32).toString('hex');\n}\n\n// Validate CSRF token\nfunction validateCSRFToken(sessionToken: string, submittedToken: string): boolean {\n  return sessionToken && submittedToken && sessionToken === submittedToken;\n}\n\n// Log admin action\nfunction logAuditAction(req: Request, action: string, details: any = {}, success: boolean = true) {\n  const log: AuditLog = {\n    timestamp: new Date().toISOString(),\n    ip: req.ip || req.connection.remoteAddress || 'unknown',\n    userAgent: req.get('User-Agent') || 'unknown',\n    action,\n    details,\n    success\n  };\n  \n  auditLogs.push(log);\n  \n  // Keep only last 1000 logs to prevent memory issues\n  if (auditLogs.length > 1000) {\n    auditLogs.shift();\n  }\n  \n  console.log(`[AUDIT] ${log.timestamp} - ${log.ip} - ${action} - ${success ? 'SUCCESS' : 'FAILED'}`, details);\n}\n\n// Check if IP is locked out\nfunction isLockedOut(ip: string): boolean {\n  const attempts = loginAttempts.get(ip);\n  if (!attempts) return false;\n  \n  if (attempts.lockedUntil && Date.now() < attempts.lockedUntil) {\n    return true;\n  }\n  \n  // Reset if lockout expired\n  if (attempts.lockedUntil && Date.now() >= attempts.lockedUntil) {\n    loginAttempts.delete(ip);\n    return false;\n  }\n  \n  return false;\n}\n\n// Record failed login attempt\nfunction recordFailedAttempt(ip: string) {\n  const now = Date.now();\n  const attempts = loginAttempts.get(ip) || { count: 0, lastAttempt: 0 };\n  \n  // Reset count if outside attempt window\n  if (now - attempts.lastAttempt > ATTEMPT_WINDOW) {\n    attempts.count = 0;\n  }\n  \n  attempts.count++;\n  attempts.lastAttempt = now;\n  \n  // Lock out if too many attempts\n  if (attempts.count >= MAX_LOGIN_ATTEMPTS) {\n    attempts.lockedUntil = now + LOCKOUT_TIME;\n  }\n  \n  loginAttempts.set(ip, attempts);\n}\n\n// Admin authentication middleware\nexport function requireAdminAuth(req: Request & { session: any }, res: Response, next: NextFunction) {\n  const adminSession = req.session.admin as AdminSession;\n  \n  if (!adminSession?.isAdminAuthenticated) {\n    logAuditAction(req, 'UNAUTHORIZED_ADMIN_ACCESS', { route: req.path }, false);\n    return res.status(401).json({ message: 'Admin authentication required' });\n  }\n  \n  // Check session timeout (4 hours)\n  if (Date.now() - adminSession.adminLoginTime > 4 * 60 * 60 * 1000) {\n    req.session.admin = null;\n    logAuditAction(req, 'ADMIN_SESSION_EXPIRED', { route: req.path }, false);\n    return res.status(401).json({ message: 'Admin session expired' });\n  }\n  \n  next();\n}\n\n// CSRF protection middleware for admin routes\nexport function requireCSRF(req: Request & { session: any }, res: Response, next: NextFunction) {\n  const adminSession = req.session.admin as AdminSession;\n  const submittedToken = req.get('X-CSRF-Token') || req.body.csrfToken;\n  \n  if (!validateCSRFToken(adminSession?.csrfToken, submittedToken)) {\n    logAuditAction(req, 'CSRF_VALIDATION_FAILED', { route: req.path }, false);\n    return res.status(403).json({ message: 'CSRF token validation failed' });\n  }\n  \n  next();\n}\n\n// Admin route setup\nexport function setupAdminAuth(app: Express) {\n  // Admin login endpoint\n  app.post('/api/admin/login', async (req: Request & { session: any }, res: Response) => {\n    const { username, password } = req.body;\n    const clientIP = req.ip || req.connection.remoteAddress || 'unknown';\n    \n    // Check if IP is locked out\n    if (isLockedOut(clientIP)) {\n      logAuditAction(req, 'ADMIN_LOGIN_ATTEMPT_LOCKED', { username }, false);\n      return res.status(429).json({ \n        message: 'Too many failed attempts. Please try again later.',\n        lockedUntil: loginAttempts.get(clientIP)?.lockedUntil\n      });\n    }\n    \n    try {\n      // Validate credentials against environment variables\n      if (username !== process.env.ADMIN_USERNAME || password !== process.env.ADMIN_PASSWORD) {\n        recordFailedAttempt(clientIP);\n        logAuditAction(req, 'ADMIN_LOGIN_FAILED', { username, ip: clientIP }, false);\n        return res.status(401).json({ message: 'Invalid credentials' });\n      }\n      \n      // Clear any existing failed attempts on successful login\n      loginAttempts.delete(clientIP);\n      \n      // Create admin session\n      const csrfToken = generateCSRFToken();\n      req.session.admin = {\n        isAdminAuthenticated: true,\n        adminLoginTime: Date.now(),\n        csrfToken\n      } as AdminSession;\n      \n      logAuditAction(req, 'ADMIN_LOGIN_SUCCESS', { username, ip: clientIP }, true);\n      \n      res.json({ \n        message: 'Admin login successful',\n        csrfToken\n      });\n      \n    } catch (error) {\n      logAuditAction(req, 'ADMIN_LOGIN_ERROR', { username, error: error.message }, false);\n      res.status(500).json({ message: 'Login error' });\n    }\n  });\n  \n  // Admin logout endpoint\n  app.post('/api/admin/logout', (req: Request & { session: any }, res: Response) => {\n    if (req.session.admin) {\n      logAuditAction(req, 'ADMIN_LOGOUT', {}, true);\n      req.session.admin = null;\n    }\n    \n    res.json({ message: 'Logged out successfully' });\n  });\n  \n  // Admin status check\n  app.get('/api/admin/status', (req: Request & { session: any }, res: Response) => {\n    const adminSession = req.session.admin as AdminSession;\n    \n    if (!adminSession?.isAdminAuthenticated) {\n      return res.json({ \n        authenticated: false \n      });\n    }\n    \n    // Check session timeout\n    if (Date.now() - adminSession.adminLoginTime > 4 * 60 * 60 * 1000) {\n      req.session.admin = null;\n      return res.json({ \n        authenticated: false,\n        reason: 'Session expired'\n      });\n    }\n    \n    res.json({ \n      authenticated: true,\n      csrfToken: adminSession.csrfToken,\n      loginTime: adminSession.adminLoginTime\n    });\n  });\n  \n  // Admin audit logs endpoint\n  app.get('/api/admin/audit-logs', requireAdminAuth, (req: Request & { session: any }, res: Response) => {\n    const page = parseInt(req.query.page as string) || 1;\n    const limit = parseInt(req.query.limit as string) || 50;\n    const offset = (page - 1) * limit;\n    \n    const paginatedLogs = auditLogs\n      .slice()\n      .reverse() // Most recent first\n      .slice(offset, offset + limit);\n    \n    logAuditAction(req, 'ADMIN_VIEW_AUDIT_LOGS', { page, limit }, true);\n    \n    res.json({\n      logs: paginatedLogs,\n      total: auditLogs.length,\n      page,\n      totalPages: Math.ceil(auditLogs.length / limit)\n    });\n  });\n}\n\n// Export audit logging function for use in other routes\nexport { logAuditAction };","size_bytes":7432}}}